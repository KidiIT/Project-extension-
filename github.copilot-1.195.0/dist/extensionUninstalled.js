"use strict";var kW=Object.create;var Mp=Object.defineProperty;var DW=Object.getOwnPropertyDescriptor;var LW=Object.getOwnPropertyNames;var BW=Object.getPrototypeOf,OW=Object.prototype.hasOwnProperty;var FW=(e,t,r)=>t in e?Mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>Mp(e,"name",{value:t,configurable:!0});var t0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var MW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of LW(t))!OW.call(e,s)&&s!==r&&Mp(e,s,{get:()=>t[s],enumerable:!(n=DW(t,s))||n.enumerable});return e};var Vi=(e,t,r)=>(r=e!=null?kW(BW(e)):{},MW(t||!e||!e.__esModule?Mp(r,"default",{value:e,enumerable:!0}):r,e));var qa=(e,t,r)=>(FW(e,typeof t!="symbol"?t+"":t,r),r),fE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var A0=(e,t,r)=>(fE(e,t,"read from private field"),r?r.call(e):t.get(e)),gs=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Gi=(e,t,r,n)=>(fE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var gf=(e,t,r)=>(fE(e,t,"access private method"),r);var Df=t0(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Type=Ve.JsonType=Ve.JavaScriptTypeBuilder=Ve.JsonTypeBuilder=Ve.TypeBuilder=Ve.TypeBuilderError=Ve.TransformEncodeBuilder=Ve.TransformDecodeBuilder=Ve.TemplateLiteralDslParser=Ve.TemplateLiteralGenerator=Ve.TemplateLiteralGeneratorError=Ve.TemplateLiteralFinite=Ve.TemplateLiteralFiniteError=Ve.TemplateLiteralParser=Ve.TemplateLiteralParserError=Ve.TemplateLiteralResolver=Ve.TemplateLiteralPattern=Ve.TemplateLiteralPatternError=Ve.UnionResolver=Ve.KeyArrayResolver=Ve.KeyArrayResolverError=Ve.KeyResolver=Ve.ObjectMap=Ve.Intrinsic=Ve.IndexedAccessor=Ve.TypeClone=Ve.TypeExtends=Ve.TypeExtendsResult=Ve.TypeExtendsError=Ve.ExtendsUndefined=Ve.TypeGuard=Ve.TypeGuardUnknownTypeError=Ve.ValueGuard=Ve.FormatRegistry=Ve.TypeBoxError=Ve.TypeRegistry=Ve.PatternStringExact=Ve.PatternNumberExact=Ve.PatternBooleanExact=Ve.PatternString=Ve.PatternNumber=Ve.PatternBoolean=Ve.Kind=Ve.Hint=Ve.Optional=Ve.Readonly=Ve.Transform=void 0;Ve.Transform=Symbol.for("TypeBox.Transform");Ve.Readonly=Symbol.for("TypeBox.Readonly");Ve.Optional=Symbol.for("TypeBox.Optional");Ve.Hint=Symbol.for("TypeBox.Hint");Ve.Kind=Symbol.for("TypeBox.Kind");Ve.PatternBoolean="(true|false)";Ve.PatternNumber="(0|[1-9][0-9]*)";Ve.PatternString="(.*)";Ve.PatternBooleanExact=`^${Ve.PatternBoolean}$`;Ve.PatternNumberExact=`^${Ve.PatternNumber}$`;Ve.PatternStringExact=`^${Ve.PatternString}$`;var cE;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function a(c){return t.has(c)}o(a,"Has"),e.Has=a;function l(c,u){t.set(c,u)}o(l,"Set"),e.Set=l;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(cE||(Ve.TypeRegistry=cE={}));var mE=class mE extends Error{constructor(t){super(t)}};o(mE,"TypeBoxError");var y1=mE;Ve.TypeBoxError=y1;var $D;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function a(c){return t.has(c)}o(a,"Has"),e.Has=a;function l(c,u){t.set(c,u)}o(l,"Set"),e.Set=l;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})($D||(Ve.FormatRegistry=$D={}));var Z0;(function(e){function t(h){return Array.isArray(h)}o(t,"IsArray"),e.IsArray=t;function r(h){return typeof h=="bigint"}o(r,"IsBigInt"),e.IsBigInt=r;function n(h){return typeof h=="boolean"}o(n,"IsBoolean"),e.IsBoolean=n;function s(h){return h instanceof globalThis.Date}o(s,"IsDate"),e.IsDate=s;function a(h){return h===null}o(a,"IsNull"),e.IsNull=a;function l(h){return typeof h=="number"}o(l,"IsNumber"),e.IsNumber=l;function f(h){return typeof h=="object"&&h!==null}o(f,"IsObject"),e.IsObject=f;function c(h){return typeof h=="string"}o(c,"IsString"),e.IsString=c;function u(h){return h instanceof globalThis.Uint8Array}o(u,"IsUint8Array"),e.IsUint8Array=u;function d(h){return h===void 0}o(d,"IsUndefined"),e.IsUndefined=d})(Z0||(Ve.ValueGuard=Z0={}));var pE=class pE extends y1{};o(pE,"TypeGuardUnknownTypeError");var uE=pE;Ve.TypeGuardUnknownTypeError=uE;var ze;(function(e){function t(le){try{return new RegExp(le),!0}catch{return!1}}o(t,"IsPattern");function r(le){if(!Z0.IsString(le))return!1;for(let nn=0;nn<le.length;nn++){let mr=le.charCodeAt(nn);if(mr>=7&&mr<=13||mr===27||mr===127)return!1}return!0}o(r,"IsControlCharacterFree");function n(le){return l(le)||Mr(le)}o(n,"IsAdditionalProperties");function s(le){return Z0.IsUndefined(le)||Z0.IsBigInt(le)}o(s,"IsOptionalBigInt");function a(le){return Z0.IsUndefined(le)||Z0.IsNumber(le)}o(a,"IsOptionalNumber");function l(le){return Z0.IsUndefined(le)||Z0.IsBoolean(le)}o(l,"IsOptionalBoolean");function f(le){return Z0.IsUndefined(le)||Z0.IsString(le)}o(f,"IsOptionalString");function c(le){return Z0.IsUndefined(le)||Z0.IsString(le)&&r(le)&&t(le)}o(c,"IsOptionalPattern");function u(le){return Z0.IsUndefined(le)||Z0.IsString(le)&&r(le)}o(u,"IsOptionalFormat");function d(le){return Z0.IsUndefined(le)||Mr(le)}o(d,"IsOptionalSchema");function h(le){return F(le,"Any")&&f(le.$id)}o(h,"TAny"),e.TAny=h;function p(le){return F(le,"Array")&&le.type==="array"&&f(le.$id)&&Mr(le.items)&&a(le.minItems)&&a(le.maxItems)&&l(le.uniqueItems)&&d(le.contains)&&a(le.minContains)&&a(le.maxContains)}o(p,"TArray"),e.TArray=p;function m(le){return F(le,"AsyncIterator")&&le.type==="AsyncIterator"&&f(le.$id)&&Mr(le.items)}o(m,"TAsyncIterator"),e.TAsyncIterator=m;function v(le){return F(le,"BigInt")&&le.type==="bigint"&&f(le.$id)&&s(le.exclusiveMaximum)&&s(le.exclusiveMinimum)&&s(le.maximum)&&s(le.minimum)&&s(le.multipleOf)}o(v,"TBigInt"),e.TBigInt=v;function x(le){return F(le,"Boolean")&&le.type==="boolean"&&f(le.$id)}o(x,"TBoolean"),e.TBoolean=x;function S(le){return F(le,"Constructor")&&le.type==="Constructor"&&f(le.$id)&&Z0.IsArray(le.parameters)&&le.parameters.every(nn=>Mr(nn))&&Mr(le.returns)}o(S,"TConstructor"),e.TConstructor=S;function E(le){return F(le,"Date")&&le.type==="Date"&&f(le.$id)&&a(le.exclusiveMaximumTimestamp)&&a(le.exclusiveMinimumTimestamp)&&a(le.maximumTimestamp)&&a(le.minimumTimestamp)&&a(le.multipleOfTimestamp)}o(E,"TDate"),e.TDate=E;function R(le){return F(le,"Function")&&le.type==="Function"&&f(le.$id)&&Z0.IsArray(le.parameters)&&le.parameters.every(nn=>Mr(nn))&&Mr(le.returns)}o(R,"TFunction"),e.TFunction=R;function B(le){return F(le,"Integer")&&le.type==="integer"&&f(le.$id)&&a(le.exclusiveMaximum)&&a(le.exclusiveMinimum)&&a(le.maximum)&&a(le.minimum)&&a(le.multipleOf)}o(B,"TInteger"),e.TInteger=B;function O(le){return F(le,"Intersect")&&!(Z0.IsString(le.type)&&le.type!=="object")&&Z0.IsArray(le.allOf)&&le.allOf.every(nn=>Mr(nn)&&!F0(nn))&&f(le.type)&&(l(le.unevaluatedProperties)||d(le.unevaluatedProperties))&&f(le.$id)}o(O,"TIntersect"),e.TIntersect=O;function L(le){return F(le,"Iterator")&&le.type==="Iterator"&&f(le.$id)&&Mr(le.items)}o(L,"TIterator"),e.TIterator=L;function F(le,nn){return ve(le)&&le[Ve.Kind]===nn}o(F,"TKindOf"),e.TKindOf=F;function ve(le){return Z0.IsObject(le)&&Ve.Kind in le&&Z0.IsString(le[Ve.Kind])}o(ve,"TKind"),e.TKind=ve;function we(le){return Jt(le)&&Z0.IsString(le.const)}o(we,"TLiteralString"),e.TLiteralString=we;function Xt(le){return Jt(le)&&Z0.IsNumber(le.const)}o(Xt,"TLiteralNumber"),e.TLiteralNumber=Xt;function f0(le){return Jt(le)&&Z0.IsBoolean(le.const)}o(f0,"TLiteralBoolean"),e.TLiteralBoolean=f0;function Jt(le){return F(le,"Literal")&&f(le.$id)&&(Z0.IsBoolean(le.const)||Z0.IsNumber(le.const)||Z0.IsString(le.const))}o(Jt,"TLiteral"),e.TLiteral=Jt;function c0(le){return F(le,"Never")&&Z0.IsObject(le.not)&&Object.getOwnPropertyNames(le.not).length===0}o(c0,"TNever"),e.TNever=c0;function yt(le){return F(le,"Not")&&Mr(le.not)}o(yt,"TNot"),e.TNot=yt;function je(le){return F(le,"Null")&&le.type==="null"&&f(le.$id)}o(je,"TNull"),e.TNull=je;function i0(le){return F(le,"Number")&&le.type==="number"&&f(le.$id)&&a(le.exclusiveMaximum)&&a(le.exclusiveMinimum)&&a(le.maximum)&&a(le.minimum)&&a(le.multipleOf)}o(i0,"TNumber"),e.TNumber=i0;function u0(le){return F(le,"Object")&&le.type==="object"&&f(le.$id)&&Z0.IsObject(le.properties)&&n(le.additionalProperties)&&a(le.minProperties)&&a(le.maxProperties)&&Object.entries(le.properties).every(([nn,mr])=>r(nn)&&Mr(mr))}o(u0,"TObject"),e.TObject=u0;function l0(le){return F(le,"Promise")&&le.type==="Promise"&&f(le.$id)&&Mr(le.item)}o(l0,"TPromise"),e.TPromise=l0;function N0(le){return F(le,"Record")&&le.type==="object"&&f(le.$id)&&n(le.additionalProperties)&&Z0.IsObject(le.patternProperties)&&(nn=>{let mr=Object.getOwnPropertyNames(nn.patternProperties);return mr.length===1&&t(mr[0])&&Z0.IsObject(nn.patternProperties)&&Mr(nn.patternProperties[mr[0]])})(le)}o(N0,"TRecord"),e.TRecord=N0;function kt(le){return Z0.IsObject(le)&&Ve.Hint in le&&le[Ve.Hint]==="Recursive"}o(kt,"TRecursive"),e.TRecursive=kt;function o0(le){return F(le,"Ref")&&f(le.$id)&&Z0.IsString(le.$ref)}o(o0,"TRef"),e.TRef=o0;function de(le){return F(le,"String")&&le.type==="string"&&f(le.$id)&&a(le.minLength)&&a(le.maxLength)&&c(le.pattern)&&u(le.format)}o(de,"TString"),e.TString=de;function Me(le){return F(le,"Symbol")&&le.type==="symbol"&&f(le.$id)}o(Me,"TSymbol"),e.TSymbol=Me;function b0(le){return F(le,"TemplateLiteral")&&le.type==="string"&&Z0.IsString(le.pattern)&&le.pattern[0]==="^"&&le.pattern[le.pattern.length-1]==="$"}o(b0,"TTemplateLiteral"),e.TTemplateLiteral=b0;function H0(le){return F(le,"This")&&f(le.$id)&&Z0.IsString(le.$ref)}o(H0,"TThis"),e.TThis=H0;function F0(le){return Z0.IsObject(le)&&Ve.Transform in le}o(F0,"TTransform"),e.TTransform=F0;function y0(le){return F(le,"Tuple")&&le.type==="array"&&f(le.$id)&&Z0.IsNumber(le.minItems)&&Z0.IsNumber(le.maxItems)&&le.minItems===le.maxItems&&(Z0.IsUndefined(le.items)&&Z0.IsUndefined(le.additionalItems)&&le.minItems===0||Z0.IsArray(le.items)&&le.items.every(nn=>Mr(nn)))}o(y0,"TTuple"),e.TTuple=y0;function Er(le){return F(le,"Undefined")&&le.type==="undefined"&&f(le.$id)}o(Er,"TUndefined"),e.TUndefined=Er;function Se(le){return O0(le)&&le.anyOf.every(nn=>we(nn)||Xt(nn))}o(Se,"TUnionLiteral"),e.TUnionLiteral=Se;function O0(le){return F(le,"Union")&&f(le.$id)&&Z0.IsObject(le)&&Z0.IsArray(le.anyOf)&&le.anyOf.every(nn=>Mr(nn))}o(O0,"TUnion"),e.TUnion=O0;function St(le){return F(le,"Uint8Array")&&le.type==="Uint8Array"&&f(le.$id)&&a(le.minByteLength)&&a(le.maxByteLength)}o(St,"TUint8Array"),e.TUint8Array=St;function L0(le){return F(le,"Unknown")&&f(le.$id)}o(L0,"TUnknown"),e.TUnknown=L0;function k0(le){return F(le,"Unsafe")}o(k0,"TUnsafe"),e.TUnsafe=k0;function z0(le){return F(le,"Void")&&le.type==="void"&&f(le.$id)}o(z0,"TVoid"),e.TVoid=z0;function Sr(le){return Z0.IsObject(le)&&le[Ve.Readonly]==="Readonly"}o(Sr,"TReadonly"),e.TReadonly=Sr;function zr(le){return Z0.IsObject(le)&&le[Ve.Optional]==="Optional"}o(zr,"TOptional"),e.TOptional=zr;function Mr(le){return Z0.IsObject(le)&&(h(le)||p(le)||x(le)||v(le)||m(le)||S(le)||E(le)||R(le)||B(le)||O(le)||L(le)||Jt(le)||c0(le)||yt(le)||je(le)||i0(le)||u0(le)||l0(le)||N0(le)||o0(le)||de(le)||Me(le)||b0(le)||H0(le)||y0(le)||Er(le)||O0(le)||St(le)||L0(le)||k0(le)||z0(le)||ve(le)&&cE.Has(le[Ve.Kind]))}o(Mr,"TSchema"),e.TSchema=Mr})(ze||(Ve.TypeGuard=ze={}));var HD;(function(e){function t(r){return r[Ve.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[Ve.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[Ve.Kind]==="Undefined"?!0:r[Ve.Kind]==="Not"?!t(r.not):!1}o(t,"Check"),e.Check=t})(HD||(Ve.ExtendsUndefined=HD={}));var yE=class yE extends y1{};o(yE,"TypeExtendsError");var Up=yE;Ve.TypeExtendsError=Up;var E0;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(E0||(Ve.TypeExtendsResult=E0={}));var J2;(function(e){function t(V){return V===E0.False?V:E0.True}o(t,"IntoBooleanResult");function r(V){throw new Up(V)}o(r,"Throw");function n(V){return ze.TNever(V)||ze.TIntersect(V)||ze.TUnion(V)||ze.TUnknown(V)||ze.TAny(V)}o(n,"IsStructuralRight");function s(V,W){return ze.TNever(W)?F(V,W):ze.TIntersect(W)?R(V,W):ze.TUnion(W)?ra(V,W):ze.TUnknown(W)?Da(V,W):ze.TAny(W)?a(V,W):r("StructuralRight")}o(s,"StructuralRight");function a(V,W){return E0.True}o(a,"TAnyRight");function l(V,W){return ze.TIntersect(W)?R(V,W):ze.TUnion(W)&&W.anyOf.some(M0=>ze.TAny(M0)||ze.TUnknown(M0))?E0.True:ze.TUnion(W)?E0.Union:ze.TUnknown(W)||ze.TAny(W)?E0.True:E0.Union}o(l,"TAny");function f(V,W){return ze.TUnknown(V)?E0.False:ze.TAny(V)?E0.Union:ze.TNever(V)?E0.True:E0.False}o(f,"TArrayRight");function c(V,W){return ze.TObject(W)&&b0(W)?E0.True:n(W)?s(V,W):ze.TArray(W)?t(hn(V.items,W.items)):E0.False}o(c,"TArray");function u(V,W){return n(W)?s(V,W):ze.TAsyncIterator(W)?t(hn(V.items,W.items)):E0.False}o(u,"TAsyncIterator");function d(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TBigInt(W)?E0.True:E0.False}o(d,"TBigInt");function h(V,W){return ze.TLiteral(V)&&Z0.IsBoolean(V.const)||ze.TBoolean(V)?E0.True:E0.False}o(h,"TBooleanRight");function p(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TBoolean(W)?E0.True:E0.False}o(p,"TBoolean");function m(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TConstructor(W)?V.parameters.length>W.parameters.length?E0.False:V.parameters.every((M0,an)=>t(hn(W.parameters[an],M0))===E0.True)?t(hn(V.returns,W.returns)):E0.False:E0.False}o(m,"TConstructor");function v(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TDate(W)?E0.True:E0.False}o(v,"TDate");function x(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TFunction(W)?V.parameters.length>W.parameters.length?E0.False:V.parameters.every((M0,an)=>t(hn(W.parameters[an],M0))===E0.True)?t(hn(V.returns,W.returns)):E0.False:E0.False}o(x,"TFunction");function S(V,W){return ze.TLiteral(V)&&Z0.IsNumber(V.const)||ze.TNumber(V)||ze.TInteger(V)?E0.True:E0.False}o(S,"TIntegerRight");function E(V,W){return ze.TInteger(W)||ze.TNumber(W)?E0.True:n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):E0.False}o(E,"TInteger");function R(V,W){return W.allOf.every(M0=>hn(V,M0)===E0.True)?E0.True:E0.False}o(R,"TIntersectRight");function B(V,W){return V.allOf.some(M0=>hn(M0,W)===E0.True)?E0.True:E0.False}o(B,"TIntersect");function O(V,W){return n(W)?s(V,W):ze.TIterator(W)?t(hn(V.items,W.items)):E0.False}o(O,"TIterator");function L(V,W){return ze.TLiteral(W)&&W.const===V.const?E0.True:n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TString(W)?z0(V,W):ze.TNumber(W)?Jt(V,W):ze.TInteger(W)?S(V,W):ze.TBoolean(W)?h(V,W):E0.False}o(L,"TLiteral");function F(V,W){return E0.False}o(F,"TNeverRight");function ve(V,W){return E0.True}o(ve,"TNever");function we(V){let[W,M0]=[V,0];for(;ze.TNot(W);)W=W.not,M0+=1;return M0%2===0?W:Ve.Type.Unknown()}o(we,"UnwrapTNot");function Xt(V,W){return ze.TNot(V)?hn(we(V),W):ze.TNot(W)?hn(V,we(W)):r("Invalid fallthrough for Not")}o(Xt,"TNot");function f0(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TNull(W)?E0.True:E0.False}o(f0,"TNull");function Jt(V,W){return ze.TLiteralNumber(V)||ze.TNumber(V)||ze.TInteger(V)?E0.True:E0.False}o(Jt,"TNumberRight");function c0(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TInteger(W)||ze.TNumber(W)?E0.True:E0.False}o(c0,"TNumber");function yt(V,W){return Object.getOwnPropertyNames(V.properties).length===W}o(yt,"IsObjectPropertyCount");function je(V){return b0(V)}o(je,"IsObjectStringLike");function i0(V){return yt(V,0)||yt(V,1)&&"description"in V.properties&&ze.TUnion(V.properties.description)&&V.properties.description.anyOf.length===2&&(ze.TString(V.properties.description.anyOf[0])&&ze.TUndefined(V.properties.description.anyOf[1])||ze.TString(V.properties.description.anyOf[1])&&ze.TUndefined(V.properties.description.anyOf[0]))}o(i0,"IsObjectSymbolLike");function u0(V){return yt(V,0)}o(u0,"IsObjectNumberLike");function l0(V){return yt(V,0)}o(l0,"IsObjectBooleanLike");function N0(V){return yt(V,0)}o(N0,"IsObjectBigIntLike");function kt(V){return yt(V,0)}o(kt,"IsObjectDateLike");function o0(V){return b0(V)}o(o0,"IsObjectUint8ArrayLike");function de(V){let W=Ve.Type.Number();return yt(V,0)||yt(V,1)&&"length"in V.properties&&t(hn(V.properties.length,W))===E0.True}o(de,"IsObjectFunctionLike");function Me(V){return yt(V,0)}o(Me,"IsObjectConstructorLike");function b0(V){let W=Ve.Type.Number();return yt(V,0)||yt(V,1)&&"length"in V.properties&&t(hn(V.properties.length,W))===E0.True}o(b0,"IsObjectArrayLike");function H0(V){let W=Ve.Type.Function([Ve.Type.Any()],Ve.Type.Any());return yt(V,0)||yt(V,1)&&"then"in V.properties&&t(hn(V.properties.then,W))===E0.True}o(H0,"IsObjectPromiseLike");function F0(V,W){return hn(V,W)===E0.False||ze.TOptional(V)&&!ze.TOptional(W)?E0.False:E0.True}o(F0,"Property");function y0(V,W){return ze.TUnknown(V)?E0.False:ze.TAny(V)?E0.Union:ze.TNever(V)||ze.TLiteralString(V)&&je(W)||ze.TLiteralNumber(V)&&u0(W)||ze.TLiteralBoolean(V)&&l0(W)||ze.TSymbol(V)&&i0(W)||ze.TBigInt(V)&&N0(W)||ze.TString(V)&&je(W)||ze.TSymbol(V)&&i0(W)||ze.TNumber(V)&&u0(W)||ze.TInteger(V)&&u0(W)||ze.TBoolean(V)&&l0(W)||ze.TUint8Array(V)&&o0(W)||ze.TDate(V)&&kt(W)||ze.TConstructor(V)&&Me(W)||ze.TFunction(V)&&de(W)?E0.True:ze.TRecord(V)&&ze.TString(O0(V))?W[Ve.Hint]==="Record"?E0.True:E0.False:ze.TRecord(V)&&ze.TNumber(O0(V))?yt(W,0)?E0.True:E0.False:E0.False}o(y0,"TObjectRight");function Er(V,W){return n(W)?s(V,W):ze.TRecord(W)?L0(V,W):ze.TObject(W)?(()=>{for(let M0 of Object.getOwnPropertyNames(W.properties)){if(!(M0 in V.properties)&&!ze.TOptional(W.properties[M0]))return E0.False;if(ze.TOptional(W.properties[M0]))return E0.True;if(F0(V.properties[M0],W.properties[M0])===E0.False)return E0.False}return E0.True})():E0.False}o(Er,"TObject");function Se(V,W){return n(W)?s(V,W):ze.TObject(W)&&H0(W)?E0.True:ze.TPromise(W)?t(hn(V.item,W.item)):E0.False}o(Se,"TPromise");function O0(V){return Ve.PatternNumberExact in V.patternProperties?Ve.Type.Number():Ve.PatternStringExact in V.patternProperties?Ve.Type.String():r("Unknown record key pattern")}o(O0,"RecordKey");function St(V){return Ve.PatternNumberExact in V.patternProperties?V.patternProperties[Ve.PatternNumberExact]:Ve.PatternStringExact in V.patternProperties?V.patternProperties[Ve.PatternStringExact]:r("Unable to get record value schema")}o(St,"RecordValue");function L0(V,W){let[M0,an]=[O0(W),St(W)];return ze.TLiteralString(V)&&ze.TNumber(M0)&&t(hn(V,an))===E0.True?E0.True:ze.TUint8Array(V)&&ze.TNumber(M0)||ze.TString(V)&&ze.TNumber(M0)||ze.TArray(V)&&ze.TNumber(M0)?hn(V,an):ze.TObject(V)?(()=>{for(let Qi of Object.getOwnPropertyNames(V.properties))if(F0(an,V.properties[Qi])===E0.False)return E0.False;return E0.True})():E0.False}o(L0,"TRecordRight");function k0(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?hn(St(V),St(W)):E0.False}o(k0,"TRecord");function z0(V,W){return ze.TLiteral(V)&&Z0.IsString(V.const)||ze.TString(V)?E0.True:E0.False}o(z0,"TStringRight");function Sr(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TString(W)?E0.True:E0.False}o(Sr,"TString");function zr(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TSymbol(W)?E0.True:E0.False}o(zr,"TSymbol");function Mr(V,W){return ze.TTemplateLiteral(V)?hn(od.Resolve(V),W):ze.TTemplateLiteral(W)?hn(V,od.Resolve(W)):r("Invalid fallthrough for TemplateLiteral")}o(Mr,"TTemplateLiteral");function le(V,W){return ze.TArray(W)&&V.items!==void 0&&V.items.every(M0=>hn(M0,W.items)===E0.True)}o(le,"IsArrayOfTuple");function nn(V,W){return ze.TNever(V)?E0.True:ze.TUnknown(V)?E0.False:ze.TAny(V)?E0.Union:E0.False}o(nn,"TTupleRight");function mr(V,W){return n(W)?s(V,W):ze.TObject(W)&&b0(W)||ze.TArray(W)&&le(V,W)?E0.True:ze.TTuple(W)?Z0.IsUndefined(V.items)&&!Z0.IsUndefined(W.items)||!Z0.IsUndefined(V.items)&&Z0.IsUndefined(W.items)?E0.False:Z0.IsUndefined(V.items)&&!Z0.IsUndefined(W.items)||V.items.every((M0,an)=>hn(M0,W.items[an])===E0.True)?E0.True:E0.False:E0.False}o(mr,"TTuple");function Vs(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TUint8Array(W)?E0.True:E0.False}o(Vs,"TUint8Array");function Bs(V,W){return n(W)?s(V,W):ze.TObject(W)?y0(V,W):ze.TRecord(W)?L0(V,W):ze.TVoid(W)?Cl(V,W):ze.TUndefined(W)?E0.True:E0.False}o(Bs,"TUndefined");function ra(V,W){return W.anyOf.some(M0=>hn(V,M0)===E0.True)?E0.True:E0.False}o(ra,"TUnionRight");function Os(V,W){return V.anyOf.every(M0=>hn(M0,W)===E0.True)?E0.True:E0.False}o(Os,"TUnion");function Da(V,W){return E0.True}o(Da,"TUnknownRight");function Ja(V,W){return ze.TNever(W)?F(V,W):ze.TIntersect(W)?R(V,W):ze.TUnion(W)?ra(V,W):ze.TAny(W)?a(V,W):ze.TString(W)?z0(V,W):ze.TNumber(W)?Jt(V,W):ze.TInteger(W)?S(V,W):ze.TBoolean(W)?h(V,W):ze.TArray(W)?f(V,W):ze.TTuple(W)?nn(V,W):ze.TObject(W)?y0(V,W):ze.TUnknown(W)?E0.True:E0.False}o(Ja,"TUnknown");function Cl(V,W){return ze.TUndefined(V)||ze.TUndefined(V)?E0.True:E0.False}o(Cl,"VoidRight");function Xa(V,W){return ze.TIntersect(W)?R(V,W):ze.TUnion(W)?ra(V,W):ze.TUnknown(W)?Da(V,W):ze.TAny(W)?a(V,W):ze.TObject(W)?y0(V,W):ze.TVoid(W)?E0.True:E0.False}o(Xa,"TVoid");function hn(V,W){return ze.TTemplateLiteral(V)||ze.TTemplateLiteral(W)?Mr(V,W):ze.TNot(V)||ze.TNot(W)?Xt(V,W):ze.TAny(V)?l(V,W):ze.TArray(V)?c(V,W):ze.TBigInt(V)?d(V,W):ze.TBoolean(V)?p(V,W):ze.TAsyncIterator(V)?u(V,W):ze.TConstructor(V)?m(V,W):ze.TDate(V)?v(V,W):ze.TFunction(V)?x(V,W):ze.TInteger(V)?E(V,W):ze.TIntersect(V)?B(V,W):ze.TIterator(V)?O(V,W):ze.TLiteral(V)?L(V,W):ze.TNever(V)?ve(V,W):ze.TNull(V)?f0(V,W):ze.TNumber(V)?c0(V,W):ze.TObject(V)?Er(V,W):ze.TRecord(V)?k0(V,W):ze.TString(V)?Sr(V,W):ze.TSymbol(V)?zr(V,W):ze.TTuple(V)?mr(V,W):ze.TPromise(V)?Se(V,W):ze.TUint8Array(V)?Vs(V,W):ze.TUndefined(V)?Bs(V,W):ze.TUnion(V)?Os(V,W):ze.TUnknown(V)?Ja(V,W):ze.TVoid(V)?Xa(V,W):r(`Unknown left type operand '${V[Ve.Kind]}'`)}o(hn,"Visit");function Ue(V,W){return hn(V,W)}o(Ue,"Extends"),e.Extends=Ue})(J2||(Ve.TypeExtends=J2={}));var Vr;(function(e){function t(c){return c.map(u=>a(u))}o(t,"ArrayType");function r(c){return new Date(c.getTime())}o(r,"DateType");function n(c){return new Uint8Array(c)}o(n,"Uint8ArrayType");function s(c){let u=Object.getOwnPropertyNames(c).reduce((h,p)=>({...h,[p]:a(c[p])}),{}),d=Object.getOwnPropertySymbols(c).reduce((h,p)=>({...h,[p]:a(c[p])}),{});return{...u,...d}}o(s,"ObjectType");function a(c){return Z0.IsArray(c)?t(c):Z0.IsDate(c)?r(c):Z0.IsUint8Array(c)?n(c):Z0.IsObject(c)?s(c):c}o(a,"Visit");function l(c){return c.map(u=>f(u))}o(l,"Rest"),e.Rest=l;function f(c,u={}){return{...a(c),...u}}o(f,"Type"),e.Type=f})(Vr||(Ve.TypeClone=Vr={}));var dE;(function(e){function t(m){return m.map(v=>{let{[Ve.Optional]:x,...S}=Vr.Type(v);return S})}o(t,"OptionalUnwrap");function r(m){return m.every(v=>ze.TOptional(v))}o(r,"IsIntersectOptional");function n(m){return m.some(v=>ze.TOptional(v))}o(n,"IsUnionOptional");function s(m){return r(m.allOf)?Ve.Type.Optional(Ve.Type.Intersect(t(m.allOf))):m}o(s,"ResolveIntersect");function a(m){return n(m.anyOf)?Ve.Type.Optional(Ve.Type.Union(t(m.anyOf))):m}o(a,"ResolveUnion");function l(m){return m[Ve.Kind]==="Intersect"?s(m):m[Ve.Kind]==="Union"?a(m):m}o(l,"ResolveOptional");function f(m,v){let x=m.allOf.reduce((S,E)=>{let R=h(E,v);return R[Ve.Kind]==="Never"?S:[...S,R]},[]);return l(Ve.Type.Intersect(x))}o(f,"TIntersect");function c(m,v){let x=m.anyOf.map(S=>h(S,v));return l(Ve.Type.Union(x))}o(c,"TUnion");function u(m,v){let x=m.properties[v];return Z0.IsUndefined(x)?Ve.Type.Never():Ve.Type.Union([x])}o(u,"TObject");function d(m,v){let x=m.items;if(Z0.IsUndefined(x))return Ve.Type.Never();let S=x[v];return Z0.IsUndefined(S)?Ve.Type.Never():S}o(d,"TTuple");function h(m,v){return m[Ve.Kind]==="Intersect"?f(m,v):m[Ve.Kind]==="Union"?c(m,v):m[Ve.Kind]==="Object"?u(m,v):m[Ve.Kind]==="Tuple"?d(m,v):Ve.Type.Never()}o(h,"Visit");function p(m,v,x={}){let S=v.map(E=>h(m,E.toString()));return l(Ve.Type.Union(S,x))}o(p,"Resolve"),e.Resolve=p})(dE||(Ve.IndexedAccessor=dE={}));var Kh;(function(e){function t(d){let[h,p]=[d.slice(0,1),d.slice(1)];return`${h.toLowerCase()}${p}`}o(t,"Uncapitalize");function r(d){let[h,p]=[d.slice(0,1),d.slice(1)];return`${h.toUpperCase()}${p}`}o(r,"Capitalize");function n(d){return d.toUpperCase()}o(n,"Uppercase");function s(d){return d.toLowerCase()}o(s,"Lowercase");function a(d,h){let p=Yh.ParseExact(d.pattern);if(!Jh.Check(p))return{...d,pattern:l(d.pattern,h)};let x=[...Xh.Generate(p)].map(R=>Ve.Type.Literal(R)),S=f(x,h),E=Ve.Type.Union(S);return Ve.Type.TemplateLiteral([E])}o(a,"IntrinsicTemplateLiteral");function l(d,h){return typeof d=="string"?h==="Uncapitalize"?t(d):h==="Capitalize"?r(d):h==="Uppercase"?n(d):h==="Lowercase"?s(d):d:d.toString()}o(l,"IntrinsicLiteral");function f(d,h){if(d.length===0)return[];let[p,...m]=d;return[u(p,h),...f(m,h)]}o(f,"IntrinsicRest");function c(d,h){return ze.TTemplateLiteral(d)?a(d,h):ze.TUnion(d)?Ve.Type.Union(f(d.anyOf,h)):ze.TLiteral(d)?Ve.Type.Literal(l(d.const,h)):d}o(c,"Visit");function u(d,h){return c(d,h)}o(u,"Map"),e.Map=u})(Kh||(Ve.Intrinsic=Kh={}));var Wh;(function(e){function t(l,f){return Ve.Type.Intersect(l.allOf.map(c=>s(c,f)),{...l})}o(t,"TIntersect");function r(l,f){return Ve.Type.Union(l.anyOf.map(c=>s(c,f)),{...l})}o(r,"TUnion");function n(l,f){return f(l)}o(n,"TObject");function s(l,f){return l[Ve.Kind]==="Intersect"?t(l,f):l[Ve.Kind]==="Union"?r(l,f):l[Ve.Kind]==="Object"?n(l,f):l}o(s,"Visit");function a(l,f,c){return{...s(Vr.Type(l),f),...c}}o(a,"Map"),e.Map=a})(Wh||(Ve.ObjectMap=Wh={}));var qp;(function(e){function t(u){return u[0]==="^"&&u[u.length-1]==="$"?u.slice(1,u.length-1):u}o(t,"UnwrapPattern");function r(u,d){return u.allOf.reduce((h,p)=>[...h,...l(p,d)],[])}o(r,"TIntersect");function n(u,d){let h=u.anyOf.map(p=>l(p,d));return[...h.reduce((p,m)=>m.map(v=>h.every(x=>x.includes(v))?p.add(v):p)[0],new Set)]}o(n,"TUnion");function s(u,d){return Object.getOwnPropertyNames(u.properties)}o(s,"TObject");function a(u,d){return d.includePatterns?Object.getOwnPropertyNames(u.patternProperties):[]}o(a,"TRecord");function l(u,d){return ze.TIntersect(u)?r(u,d):ze.TUnion(u)?n(u,d):ze.TObject(u)?s(u,d):ze.TRecord(u)?a(u,d):[]}o(l,"Visit");function f(u,d){return[...new Set(l(u,d))]}o(f,"ResolveKeys"),e.ResolveKeys=f;function c(u){return`^(${f(u,{includePatterns:!0}).map(p=>`(${t(p)})`).join("|")})$`}o(c,"ResolvePattern"),e.ResolvePattern=c})(qp||(Ve.KeyResolver=qp={}));var vE=class vE extends y1{};o(vE,"KeyArrayResolverError");var jp=vE;Ve.KeyArrayResolverError=jp;var Nm;(function(e){function t(r){return Array.isArray(r)?r:ze.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):ze.TLiteral(r)?[r.const]:ze.TTemplateLiteral(r)?(()=>{let n=Yh.ParseExact(r.pattern);if(!Jh.Check(n))throw new jp("Cannot resolve keys from infinite template expression");return[...Xh.Generate(n)]})():[]}o(t,"Resolve"),e.Resolve=t})(Nm||(Ve.KeyArrayResolver=Nm={}));var hE;(function(e){function*t(n){for(let s of n.anyOf)s[Ve.Kind]==="Union"?yield*t(s):yield s}o(t,"TUnion");function r(n){return Ve.Type.Union([...t(n)],{...n})}o(r,"Resolve"),e.Resolve=r})(hE||(Ve.UnionResolver=hE={}));var xE=class xE extends y1{};o(xE,"TemplateLiteralPatternError");var $p=xE;Ve.TemplateLiteralPatternError=$p;var Hp;(function(e){function t(a){throw new $p(a)}o(t,"Throw");function r(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(r,"Escape");function n(a,l){return ze.TTemplateLiteral(a)?a.pattern.slice(1,a.pattern.length-1):ze.TUnion(a)?`(${a.anyOf.map(f=>n(f,l)).join("|")})`:ze.TNumber(a)?`${l}${Ve.PatternNumber}`:ze.TInteger(a)?`${l}${Ve.PatternNumber}`:ze.TBigInt(a)?`${l}${Ve.PatternNumber}`:ze.TString(a)?`${l}${Ve.PatternString}`:ze.TLiteral(a)?`${l}${r(a.const.toString())}`:ze.TBoolean(a)?`${l}${Ve.PatternBoolean}`:t(`Unexpected Kind '${a[Ve.Kind]}'`)}o(n,"Visit");function s(a){return`^${a.map(l=>n(l,"")).join("")}$`}o(s,"Create"),e.Create=s})(Hp||(Ve.TemplateLiteralPattern=Hp={}));var od;(function(e){function t(r){let n=Yh.ParseExact(r.pattern);if(!Jh.Check(n))return Ve.Type.String();let s=[...Xh.Generate(n)].map(a=>Ve.Type.Literal(a));return Ve.Type.Union(s)}o(t,"Resolve"),e.Resolve=t})(od||(Ve.TemplateLiteralResolver=od={}));var _E=class _E extends y1{};o(_E,"TemplateLiteralParserError");var km=_E;Ve.TemplateLiteralParserError=km;var Yh;(function(e){function t(m,v,x){return m[v]===x&&m.charCodeAt(v-1)!==92}o(t,"IsNonEscaped");function r(m,v){return t(m,v,"(")}o(r,"IsOpenParen");function n(m,v){return t(m,v,")")}o(n,"IsCloseParen");function s(m,v){return t(m,v,"|")}o(s,"IsSeparator");function a(m){if(!(r(m,0)&&n(m,m.length-1)))return!1;let v=0;for(let x=0;x<m.length;x++)if(r(m,x)&&(v+=1),n(m,x)&&(v-=1),v===0&&x!==m.length-1)return!1;return!0}o(a,"IsGroup");function l(m){return m.slice(1,m.length-1)}o(l,"InGroup");function f(m){let v=0;for(let x=0;x<m.length;x++)if(r(m,x)&&(v+=1),n(m,x)&&(v-=1),s(m,x)&&v===0)return!0;return!1}o(f,"IsPrecedenceOr");function c(m){for(let v=0;v<m.length;v++)if(r(m,v))return!0;return!1}o(c,"IsPrecedenceAnd");function u(m){let[v,x]=[0,0],S=[];for(let R=0;R<m.length;R++)if(r(m,R)&&(v+=1),n(m,R)&&(v-=1),s(m,R)&&v===0){let B=m.slice(x,R);B.length>0&&S.push(h(B)),x=R+1}let E=m.slice(x);return E.length>0&&S.push(h(E)),S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"or",expr:S}}o(u,"Or");function d(m){function v(E,R){if(!r(E,R))throw new km("TemplateLiteralParser: Index must point to open parens");let B=0;for(let O=R;O<E.length;O++)if(r(E,O)&&(B+=1),n(E,O)&&(B-=1),B===0)return[R,O];throw new km("TemplateLiteralParser: Unclosed group parens in expression")}o(v,"Group");function x(E,R){for(let B=R;B<E.length;B++)if(r(E,B))return[R,B];return[R,E.length]}o(x,"Range");let S=[];for(let E=0;E<m.length;E++)if(r(m,E)){let[R,B]=v(m,E),O=m.slice(R,B+1);S.push(h(O)),E=B}else{let[R,B]=x(m,E),O=m.slice(R,B);O.length>0&&S.push(h(O)),E=B-1}return S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"and",expr:S}}o(d,"And");function h(m){return a(m)?h(l(m)):f(m)?u(m):c(m)?d(m):{type:"const",const:m}}o(h,"Parse"),e.Parse=h;function p(m){return h(m.slice(1,m.length-1))}o(p,"ParseExact"),e.ParseExact=p})(Yh||(Ve.TemplateLiteralParser=Yh={}));var bE=class bE extends y1{};o(bE,"TemplateLiteralFiniteError");var Vp=bE;Ve.TemplateLiteralFiniteError=Vp;var Jh;(function(e){function t(l){throw new Vp(l)}o(t,"Throw");function r(l){return l.type==="or"&&l.expr.length===2&&l.expr[0].type==="const"&&l.expr[0].const==="0"&&l.expr[1].type==="const"&&l.expr[1].const==="[1-9][0-9]*"}o(r,"IsNumber");function n(l){return l.type==="or"&&l.expr.length===2&&l.expr[0].type==="const"&&l.expr[0].const==="true"&&l.expr[1].type==="const"&&l.expr[1].const==="false"}o(n,"IsBoolean");function s(l){return l.type==="const"&&l.const===".*"}o(s,"IsString");function a(l){return n(l)?!0:r(l)||s(l)?!1:l.type==="and"?l.expr.every(f=>a(f)):l.type==="or"?l.expr.every(f=>a(f)):l.type==="const"?!0:t("Unknown expression type")}o(a,"Check"),e.Check=a})(Jh||(Ve.TemplateLiteralFinite=Jh={}));var CE=class CE extends y1{};o(CE,"TemplateLiteralGeneratorError");var zp=CE;Ve.TemplateLiteralGeneratorError=zp;var Xh;(function(e){function*t(l){if(l.length===1)return yield*l[0];for(let f of l[0])for(let c of t(l.slice(1)))yield`${f}${c}`}o(t,"Reduce");function*r(l){return yield*t(l.expr.map(f=>[...a(f)]))}o(r,"And");function*n(l){for(let f of l.expr)yield*a(f)}o(n,"Or");function*s(l){return yield l.const}o(s,"Const");function*a(l){return l.type==="and"?yield*r(l):l.type==="or"?yield*n(l):l.type==="const"?yield*s(l):(()=>{throw new zp("Unknown expression")})()}o(a,"Generate"),e.Generate=a})(Xh||(Ve.TemplateLiteralGenerator=Xh={}));var gE;(function(e){function*t(a){let l=a.trim().replace(/"|'/g,"");return l==="boolean"?yield Ve.Type.Boolean():l==="number"?yield Ve.Type.Number():l==="bigint"?yield Ve.Type.BigInt():l==="string"?yield Ve.Type.String():yield(()=>{let f=l.split("|").map(c=>Ve.Type.Literal(c.trim()));return f.length===0?Ve.Type.Never():f.length===1?f[0]:Ve.Type.Union(f)})()}o(t,"ParseUnion");function*r(a){if(a[1]!=="{"){let l=Ve.Type.Literal("$"),f=n(a.slice(1));return yield*[l,...f]}for(let l=2;l<a.length;l++)if(a[l]==="}"){let f=t(a.slice(2,l)),c=n(a.slice(l+1));return yield*[...f,...c]}yield Ve.Type.Literal(a)}o(r,"ParseTerminal");function*n(a){for(let l=0;l<a.length;l++)if(a[l]==="$"){let f=Ve.Type.Literal(a.slice(0,l)),c=r(a.slice(l));return yield*[f,...c]}yield Ve.Type.Literal(a)}o(n,"ParseLiteral");function s(a){return[...n(a)]}o(s,"Parse"),e.Parse=s})(gE||(Ve.TemplateLiteralDslParser=gE={}));var EE=class EE{constructor(t){this.schema=t}Decode(t){return new Kp(this.schema,t)}};o(EE,"TransformDecodeBuilder");var Gp=EE;Ve.TransformDecodeBuilder=Gp;var TE=class TE{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=Vr.Type(this.schema);return ze.TTransform(r)?(()=>{let a={Encode:o(l=>r[Ve.Transform].Encode(t(l)),"Encode"),Decode:o(l=>this.decode(r[Ve.Transform].Decode(l)),"Decode")};return{...r,[Ve.Transform]:a}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[Ve.Transform]:n}})()}};o(TE,"TransformEncodeBuilder");var Kp=TE;Ve.TransformEncodeBuilder=Kp;var UW=0,SE=class SE extends y1{};o(SE,"TypeBuilderError");var Wp=SE;Ve.TypeBuilderError=Wp;var wE=class wE{Create(t){return t}Throw(t){throw new Wp(t)}Discard(t,r){return r.reduce((n,s)=>{let{[s]:a,...l}=n;return l},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};o(wE,"TypeBuilder");var Yp=wE;Ve.TypeBuilder=Yp;var IE=class IE extends Yp{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...Vr.Type(t),[Ve.Readonly]:"Readonly"}}Optional(t){return{...Vr.Type(t),[Ve.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[Ve.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[Ve.Kind]:"Array",type:"array",items:Vr.Type(t)})}Boolean(t={}){return this.Create({...t,[Ve.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...Kh.Map(Vr.Type(t),"Capitalize"),...r}}Composite(t,r){let n=Ve.Type.Intersect(t,{}),a=qp.ResolveKeys(n,{includePatterns:!1}).reduce((l,f)=>({...l,[f]:Ve.Type.Index(n,[f])}),{});return Ve.Type.Object(a,r)}Enum(t,r={}){if(Z0.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(l=>isNaN(l)).map(l=>t[l]),a=[...new Set(n)].map(l=>Ve.Type.Literal(l));return this.Union(a,{...r,[Ve.Hint]:"Enum"})}Extends(t,r,n,s,a={}){switch(J2.Extends(t,r)){case E0.Union:return this.Union([Vr.Type(n,a),Vr.Type(s,a)]);case E0.True:return Vr.Type(n,a);case E0.False:return Vr.Type(s,a)}}Exclude(t,r,n={}){return ze.TTemplateLiteral(t)?this.Exclude(od.Resolve(t),r,n):ze.TTemplateLiteral(r)?this.Exclude(t,od.Resolve(r),n):ze.TUnion(t)?(()=>{let s=t.anyOf.filter(a=>J2.Extends(a,r)===E0.False);return s.length===1?Vr.Type(s[0],n):this.Union(s,n)})():J2.Extends(t,r)!==E0.False?this.Never(n):Vr.Type(t,n)}Extract(t,r,n={}){return ze.TTemplateLiteral(t)?this.Extract(od.Resolve(t),r,n):ze.TTemplateLiteral(r)?this.Extract(t,od.Resolve(r),n):ze.TUnion(t)?(()=>{let s=t.anyOf.filter(a=>J2.Extends(a,r)!==E0.False);return s.length===1?Vr.Type(s[0],n):this.Union(s,n)})():J2.Extends(t,r)!==E0.False?Vr.Type(t,n):this.Never(n)}Index(t,r,n={}){return ze.TArray(t)&&ze.TNumber(r)?Vr.Type(t.items,n):ze.TTuple(t)&&ze.TNumber(r)?(()=>{let a=(Z0.IsUndefined(t.items)?[]:t.items).map(l=>Vr.Type(l));return this.Union(a,n)})():(()=>{let s=Nm.Resolve(r),a=Vr.Type(t);return dE.Resolve(a,s,n)})()}Integer(t={}){return this.Create({...t,[Ve.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return Ve.Type.Never();if(t.length===1)return Vr.Type(t[0],r);t.some(l=>ze.TTransform(l))&&this.Throw("Cannot intersect transform types");let n=t.every(l=>ze.TObject(l)),s=Vr.Rest(t),a=ze.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:Vr.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||ze.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...a,[Ve.Kind]:"Intersect",type:"object",allOf:s}):this.Create({...r,...a,[Ve.Kind]:"Intersect",allOf:s})}KeyOf(t,r={}){return ze.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===Ve.PatternNumberExact?this.Number(r):n===Ve.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():ze.TTuple(t)?(()=>{let s=(Z0.IsUndefined(t.items)?[]:t.items).map((a,l)=>Ve.Type.Literal(l.toString()));return this.Union(s,r)})():ze.TArray(t)?this.Number(r):(()=>{let n=qp.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let s=n.map(a=>this.Literal(a));return this.Union(s,r)})()}Literal(t,r={}){return this.Create({...r,[Ve.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...Kh.Map(Vr.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[Ve.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[Ve.Kind]:"Not",not:Vr.Type(t)})}Null(t={}){return this.Create({...t,[Ve.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[Ve.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),s=n.filter(c=>ze.TOptional(t[c])),a=n.filter(c=>!s.includes(c)),l=ze.TSchema(r.additionalProperties)?{additionalProperties:Vr.Type(r.additionalProperties)}:{},f=n.reduce((c,u)=>({...c,[u]:Vr.Type(t[u])}),{});return a.length>0?this.Create({...r,...l,[Ve.Kind]:"Object",type:"object",properties:f,required:a}):this.Create({...r,...l,[Ve.Kind]:"Object",type:"object",properties:f})}Omit(t,r,n={}){let s=Nm.Resolve(r);return Wh.Map(this.Discard(Vr.Type(t),["$id",Ve.Transform]),a=>{Z0.IsArray(a.required)&&(a.required=a.required.filter(l=>!s.includes(l)),a.required.length===0&&delete a.required);for(let l of Object.getOwnPropertyNames(a.properties))s.includes(l)&&delete a.properties[l];return this.Create(a)},n)}Partial(t,r={}){return Wh.Map(this.Discard(Vr.Type(t),["$id",Ve.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((a,l)=>({...a,[l]:this.Optional(n.properties[l])}),{});return this.Object(s,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let s=Nm.Resolve(r);return Wh.Map(this.Discard(Vr.Type(t),["$id",Ve.Transform]),a=>{Z0.IsArray(a.required)&&(a.required=a.required.filter(l=>s.includes(l)),a.required.length===0&&delete a.required);for(let l of Object.getOwnPropertyNames(a.properties))s.includes(l)||delete a.properties[l];return this.Create(a)},n)}Record(t,r,n={}){return ze.TTemplateLiteral(t)?(()=>{let s=Yh.ParseExact(t.pattern);return Jh.Check(s)?this.Object([...Xh.Generate(s)].reduce((a,l)=>({...a,[l]:Vr.Type(r)}),{}),n):this.Create({...n,[Ve.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:Vr.Type(r)}})})():ze.TUnion(t)?(()=>{let s=hE.Resolve(t);if(ze.TUnionLiteral(s)){let a=s.anyOf.reduce((l,f)=>({...l,[f.const]:Vr.Type(r)}),{});return this.Object(a,{...n,[Ve.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():ze.TLiteral(t)?Z0.IsString(t.const)||Z0.IsNumber(t.const)?this.Object({[t.const]:Vr.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):ze.TInteger(t)||ze.TNumber(t)?this.Create({...n,[Ve.Kind]:"Record",type:"object",patternProperties:{[Ve.PatternNumberExact]:Vr.Type(r)}}):ze.TString(t)?(()=>{let s=Z0.IsUndefined(t.pattern)?Ve.PatternStringExact:t.pattern;return this.Create({...n,[Ve.Kind]:"Record",type:"object",patternProperties:{[s]:Vr.Type(r)}})})():this.Never()}Recursive(t,r={}){Z0.IsUndefined(r.$id)&&(r.$id=`T${UW++}`);let n=t({[Ve.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[Ve.Hint]:"Recursive",...n})}Ref(t,r={}){return Z0.IsString(t)?this.Create({...r,[Ve.Kind]:"Ref",$ref:t}):(Z0.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[Ve.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return Wh.Map(this.Discard(Vr.Type(t),["$id",Ve.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((a,l)=>({...a,[l]:this.Discard(n.properties[l],[Ve.Optional])}),{});return this.Object(s,n)},r)}Rest(t){return ze.TTuple(t)&&!Z0.IsUndefined(t.items)?Vr.Rest(t.items):ze.TIntersect(t)?Vr.Rest(t.allOf):ze.TUnion(t)?Vr.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[Ve.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=Z0.IsString(t)?Hp.Create(gE.Parse(t)):Hp.Create(t);return this.Create({...r,[Ve.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new Gp(t)}Tuple(t,r={}){let[n,s,a]=[!1,t.length,t.length],l=Vr.Rest(t),f=t.length>0?{...r,[Ve.Kind]:"Tuple",type:"array",items:l,additionalItems:n,minItems:s,maxItems:a}:{...r,[Ve.Kind]:"Tuple",type:"array",minItems:s,maxItems:a};return this.Create(f)}Uncapitalize(t,r={}){return{...Kh.Map(Vr.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return ze.TTemplateLiteral(t)?od.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(Vr.Type(n[0],r));let s=Vr.Rest(n);return this.Create({...r,[Ve.Kind]:"Union",anyOf:s})})()}Unknown(t={}){return this.Create({...t,[Ve.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[Ve.Kind]:t[Ve.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...Kh.Map(Vr.Type(t),"Uppercase"),...r}}};o(IE,"JsonTypeBuilder");var Dm=IE;Ve.JsonTypeBuilder=Dm;var AE=class AE extends Dm{AsyncIterator(t,r={}){return this.Create({...r,[Ve.Kind]:"AsyncIterator",type:"AsyncIterator",items:Vr.Type(t)})}Awaited(t,r={}){let n=o(s=>s.length>0?(()=>{let[a,...l]=s;return[this.Awaited(a),...n(l)]})():s,"Unwrap");return ze.TIntersect(t)?Ve.Type.Intersect(n(t.allOf)):ze.TUnion(t)?Ve.Type.Union(n(t.anyOf)):ze.TPromise(t)?this.Awaited(t.item):Vr.Type(t,r)}BigInt(t={}){return this.Create({...t,[Ve.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[s,a]=[Vr.Rest(t),Vr.Type(r)];return this.Create({...n,[Ve.Kind]:"Constructor",type:"Constructor",parameters:s,returns:a})}Date(t={}){return this.Create({...t,[Ve.Kind]:"Date",type:"Date"})}Function(t,r,n){let[s,a]=[Vr.Rest(t),Vr.Type(r)];return this.Create({...n,[Ve.Kind]:"Function",type:"Function",parameters:s,returns:a})}InstanceType(t,r={}){return Vr.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[Ve.Kind]:"Iterator",type:"Iterator",items:Vr.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[Ve.Kind]:"Promise",type:"Promise",item:Vr.Type(t)})}RegExp(t,r={}){let n=Z0.IsString(t)?t:t.source;return this.Create({...r,[Ve.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return Vr.Type(t.returns,r)}Symbol(t){return this.Create({...t,[Ve.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[Ve.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[Ve.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[Ve.Kind]:"Void",type:"void"})}};o(AE,"JavaScriptTypeBuilder");var Jp=AE;Ve.JavaScriptTypeBuilder=Jp;Ve.JsonType=new Dm;Ve.Type=new Jp});var Lf=t0(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.IsValueType=Ui.IsSymbol=Ui.IsFunction=Ui.IsString=Ui.IsBigInt=Ui.IsInteger=Ui.IsNumber=Ui.IsBoolean=Ui.IsNull=Ui.IsUndefined=Ui.IsArray=Ui.IsObject=Ui.IsPlainObject=Ui.HasPropertyKey=Ui.IsDate=Ui.IsUint8Array=Ui.IsPromise=Ui.IsTypedArray=Ui.IsIterator=Ui.IsAsyncIterator=void 0;function qW(e){return Xp(e)&&Symbol.asyncIterator in e}o(qW,"IsAsyncIterator");Ui.IsAsyncIterator=qW;function jW(e){return Xp(e)&&Symbol.iterator in e}o(jW,"IsIterator");Ui.IsIterator=jW;function $W(e){return ArrayBuffer.isView(e)}o($W,"IsTypedArray");Ui.IsTypedArray=$W;function HW(e){return e instanceof Promise}o(HW,"IsPromise");Ui.IsPromise=HW;function VW(e){return e instanceof Uint8Array}o(VW,"IsUint8Array");Ui.IsUint8Array=VW;function zW(e){return e instanceof Date&&Number.isFinite(e.getTime())}o(zW,"IsDate");Ui.IsDate=zW;function GW(e,t){return t in e}o(GW,"HasPropertyKey");Ui.HasPropertyKey=GW;function KW(e){return Xp(e)&&YD(e.constructor)&&e.constructor.name==="Object"}o(KW,"IsPlainObject");Ui.IsPlainObject=KW;function Xp(e){return e!==null&&typeof e=="object"}o(Xp,"IsObject");Ui.IsObject=Xp;function WW(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}o(WW,"IsArray");Ui.IsArray=WW;function VD(e){return e===void 0}o(VD,"IsUndefined");Ui.IsUndefined=VD;function zD(e){return e===null}o(zD,"IsNull");Ui.IsNull=zD;function GD(e){return typeof e=="boolean"}o(GD,"IsBoolean");Ui.IsBoolean=GD;function PE(e){return typeof e=="number"}o(PE,"IsNumber");Ui.IsNumber=PE;function YW(e){return PE(e)&&Number.isInteger(e)}o(YW,"IsInteger");Ui.IsInteger=YW;function KD(e){return typeof e=="bigint"}o(KD,"IsBigInt");Ui.IsBigInt=KD;function WD(e){return typeof e=="string"}o(WD,"IsString");Ui.IsString=WD;function YD(e){return typeof e=="function"}o(YD,"IsFunction");Ui.IsFunction=YD;function JD(e){return typeof e=="symbol"}o(JD,"IsSymbol");Ui.IsSymbol=JD;function JW(e){return KD(e)||GD(e)||zD(e)||PE(e)||WD(e)||JD(e)||VD(e)}o(JW,"IsValueType");Ui.IsValueType=JW});var DE=t0(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.DefaultErrorFunction=Bf.TypeSystemPolicy=Bf.TypeSystemErrorFunction=Bf.TypeSystem=Bf.TypeSystemDuplicateFormat=Bf.TypeSystemDuplicateTypeKind=void 0;var Zp=Lf(),Rr=Lm(),ad=Df(),NE=class NE extends ad.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};o(NE,"TypeSystemDuplicateTypeKind");var Qp=NE;Bf.TypeSystemDuplicateTypeKind=Qp;var kE=class kE extends ad.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};o(kE,"TypeSystemDuplicateFormat");var ey=kE;Bf.TypeSystemDuplicateFormat=ey;var XD;(function(e){function t(n,s){if(ad.TypeRegistry.Has(n))throw new Qp(n);return ad.TypeRegistry.Set(n,s),(a={})=>ad.Type.Unsafe({...a,[ad.Kind]:n})}o(t,"Type"),e.Type=t;function r(n,s){if(ad.FormatRegistry.Has(n))throw new ey(n);return ad.FormatRegistry.Set(n,s),n}o(r,"Format"),e.Format=r})(XD||(Bf.TypeSystem=XD={}));var ZD;(function(e){let t=RE;function r(){t=RE}o(r,"Reset"),e.Reset=r;function n(a){t=a}o(n,"Set"),e.Set=n;function s(){return t}o(s,"Get"),e.Get=s})(ZD||(Bf.TypeSystemErrorFunction=ZD={}));var QD;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(l,f){return e.ExactOptionalPropertyTypes?f in l:l[f]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(l){let f=(0,Zp.IsObject)(l);return e.AllowArrayObject?f:f&&!(0,Zp.IsArray)(l)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(l){return r(l)&&!(l instanceof Date)&&!(l instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(l){let f=(0,Zp.IsNumber)(l);return e.AllowNaN?f:f&&Number.isFinite(l)}o(s,"IsNumberLike"),e.IsNumberLike=s;function a(l){let f=(0,Zp.IsUndefined)(l);return e.AllowNullVoid?f||l===null:f}o(a,"IsVoidLike"),e.IsVoidLike=a})(QD||(Bf.TypeSystemPolicy=QD={}));function RE(e,t){switch(t){case Rr.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case Rr.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case Rr.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case Rr.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case Rr.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case Rr.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case Rr.ValueErrorType.Array:return"Expected array";case Rr.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case Rr.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case Rr.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case Rr.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case Rr.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case Rr.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case Rr.ValueErrorType.BigInt:return"Expected bigint";case Rr.ValueErrorType.Boolean:return"Expected boolean";case Rr.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case Rr.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case Rr.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case Rr.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case Rr.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case Rr.ValueErrorType.Date:return"Expected Date";case Rr.ValueErrorType.Function:return"Expected function";case Rr.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case Rr.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case Rr.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case Rr.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case Rr.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case Rr.ValueErrorType.Integer:return"Expected integer";case Rr.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case Rr.ValueErrorType.Intersect:return"Expected all values to match";case Rr.ValueErrorType.Iterator:return"Expected Iterator";case Rr.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case Rr.ValueErrorType.Never:return"Never";case Rr.ValueErrorType.Not:return"Value should not match";case Rr.ValueErrorType.Null:return"Expected null";case Rr.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case Rr.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case Rr.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case Rr.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case Rr.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case Rr.ValueErrorType.Number:return"Expected number";case Rr.ValueErrorType.Object:return"Expected object";case Rr.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case Rr.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case Rr.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case Rr.ValueErrorType.ObjectRequiredProperty:return"Required property";case Rr.ValueErrorType.Promise:return"Expected Promise";case Rr.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case Rr.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case Rr.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case Rr.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case Rr.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case Rr.ValueErrorType.String:return"Expected string";case Rr.ValueErrorType.Symbol:return"Expected symbol";case Rr.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case Rr.ValueErrorType.Tuple:return"Expected tuple";case Rr.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case Rr.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case Rr.ValueErrorType.Uint8Array:return"Expected Uint8Array";case Rr.ValueErrorType.Undefined:return"Expected undefined";case Rr.ValueErrorType.Union:return"Expected union value";case Rr.ValueErrorType.Void:return"Expected void";case Rr.ValueErrorType.Kind:return`Expected kind '${e[ad.Kind]}'`;default:return"Unknown error type"}}o(RE,"DefaultErrorFunction");Bf.DefaultErrorFunction=RE});var q5=t0(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.Deref=Zh.TypeDereferenceError=void 0;var XW=Df(),LE=class LE extends XW.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};o(LE,"TypeDereferenceError");var ty=LE;Zh.TypeDereferenceError=ty;function ZW(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new ty(e);return t[r]}o(ZW,"Deref");Zh.Deref=ZW});var Bm=t0(j5=>{"use strict";Object.defineProperty(j5,"__esModule",{value:!0});j5.Hash=j5.ByteMarker=j5.ValueHashError=void 0;var v1=Lf(),BE=class BE extends Error{constructor(t){super("Unable to hash value"),this.value=t}};o(BE,"ValueHashError");var ry=BE;j5.ValueHashError=ry;var ic;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(ic||(j5.ByteMarker=ic={}));var Qh=BigInt("14695981039346656037"),[QW,eY]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],tY=Array.from({length:256}).map((e,t)=>BigInt(t)),eL=new Float64Array(1),tL=new DataView(eL.buffer),rL=new Uint8Array(eL.buffer);function*rY(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(rY,"NumberToBytes");function nY(e){tf(ic.Array);for(let t of e)e8(t)}o(nY,"ArrayType");function iY(e){tf(ic.Boolean),tf(e?1:0)}o(iY,"BooleanType");function sY(e){tf(ic.BigInt),tL.setBigInt64(0,e);for(let t of rL)tf(t)}o(sY,"BigIntType");function oY(e){tf(ic.Date),e8(e.getTime())}o(oY,"DateType");function aY(e){tf(ic.Null)}o(aY,"NullType");function lY(e){tf(ic.Number),tL.setFloat64(0,e);for(let t of rL)tf(t)}o(lY,"NumberType");function fY(e){tf(ic.Object);for(let t of globalThis.Object.keys(e).sort())e8(t),e8(e[t])}o(fY,"ObjectType");function cY(e){tf(ic.String);for(let t=0;t<e.length;t++)for(let r of rY(e.charCodeAt(t)))tf(r)}o(cY,"StringType");function uY(e){tf(ic.Symbol),e8(e.description)}o(uY,"SymbolType");function dY(e){tf(ic.Uint8Array);for(let t=0;t<e.length;t++)tf(e[t])}o(dY,"Uint8ArrayType");function hY(e){return tf(ic.Undefined)}o(hY,"UndefinedType");function e8(e){if((0,v1.IsArray)(e))return nY(e);if((0,v1.IsBoolean)(e))return iY(e);if((0,v1.IsBigInt)(e))return sY(e);if((0,v1.IsDate)(e))return oY(e);if((0,v1.IsNull)(e))return aY(e);if((0,v1.IsNumber)(e))return lY(e);if((0,v1.IsPlainObject)(e))return fY(e);if((0,v1.IsString)(e))return cY(e);if((0,v1.IsSymbol)(e))return uY(e);if((0,v1.IsUint8Array)(e))return dY(e);if((0,v1.IsUndefined)(e))return hY(e);throw new ry(e)}o(e8,"Visit");function tf(e){Qh=Qh^tY[e],Qh=Qh*QW%eY}o(tf,"FNV1A64");function gY(e){return Qh=BigInt("14695981039346656037"),e8(e),Qh}o(gY,"Hash");j5.Hash=gY});var Lm=t0(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.Errors=Rc.ValueErrorIterator=Rc.EscapeKey=Rc.ValueErrorsUnknownTypeError=Rc.ValueErrorType=void 0;var ja=Lf(),t8=DE(),nL=q5(),mY=Bm(),Nc=Df(),yr;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(yr||(Rc.ValueErrorType=yr={}));var OE=class OE extends Nc.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(OE,"ValueErrorsUnknownTypeError");var ny=OE;Rc.ValueErrorsUnknownTypeError=ny;function au(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(au,"EscapeKey");Rc.EscapeKey=au;function ws(e){return e!==void 0}o(ws,"IsDefined");var FE=class FE{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};o(FE,"ValueErrorIterator");var iy=FE;Rc.ValueErrorIterator=iy;function br(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:t8.TypeSystemErrorFunction.Get()(t,e)}}o(br,"Create");function*pY(e,t,r,n){}o(pY,"TAny");function*yY(e,t,r,n){if(!(0,ja.IsArray)(n))return yield br(yr.Array,e,r,n);ws(e.minItems)&&!(n.length>=e.minItems)&&(yield br(yr.ArrayMinItems,e,r,n)),ws(e.maxItems)&&!(n.length<=e.maxItems)&&(yield br(yr.ArrayMaxItems,e,r,n));for(let l=0;l<n.length;l++)yield*Dl(e.items,t,`${r}/${l}`,n[l]);if(e.uniqueItems===!0&&!function(){let l=new Set;for(let f of n){let c=(0,mY.Hash)(f);if(l.has(c))return!1;l.add(c)}return!0}()&&(yield br(yr.ArrayUniqueItems,e,r,n)),!(ws(e.contains)||ws(e.minContains)||ws(e.maxContains)))return;let s=ws(e.contains)?e.contains:Nc.Type.Never(),a=n.reduce((l,f,c)=>Dl(s,t,`${r}${c}`,f).next().done===!0?l+1:l,0);a===0&&(yield br(yr.ArrayContains,e,r,n)),(0,ja.IsNumber)(e.minContains)&&a<e.minContains&&(yield br(yr.ArrayMinContains,e,r,n)),(0,ja.IsNumber)(e.maxContains)&&a>e.maxContains&&(yield br(yr.ArrayMaxContains,e,r,n))}o(yY,"TArray");function*vY(e,t,r,n){(0,ja.IsAsyncIterator)(n)||(yield br(yr.AsyncIterator,e,r,n))}o(vY,"TAsyncIterator");function*xY(e,t,r,n){if(!(0,ja.IsBigInt)(n))return yield br(yr.BigInt,e,r,n);ws(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(yr.BigIntExclusiveMaximum,e,r,n)),ws(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(yr.BigIntExclusiveMinimum,e,r,n)),ws(e.maximum)&&!(n<=e.maximum)&&(yield br(yr.BigIntMaximum,e,r,n)),ws(e.minimum)&&!(n>=e.minimum)&&(yield br(yr.BigIntMinimum,e,r,n)),ws(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield br(yr.BigIntMultipleOf,e,r,n))}o(xY,"TBigInt");function*_Y(e,t,r,n){(0,ja.IsBoolean)(n)||(yield br(yr.Boolean,e,r,n))}o(_Y,"TBoolean");function*bY(e,t,r,n){yield*Dl(e.returns,t,r,n.prototype)}o(bY,"TConstructor");function*CY(e,t,r,n){if(!(0,ja.IsDate)(n))return yield br(yr.Date,e,r,n);ws(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield br(yr.DateExclusiveMaximumTimestamp,e,r,n)),ws(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield br(yr.DateExclusiveMinimumTimestamp,e,r,n)),ws(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield br(yr.DateMaximumTimestamp,e,r,n)),ws(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield br(yr.DateMinimumTimestamp,e,r,n)),ws(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield br(yr.DateMultipleOfTimestamp,e,r,n))}o(CY,"TDate");function*EY(e,t,r,n){(0,ja.IsFunction)(n)||(yield br(yr.Function,e,r,n))}o(EY,"TFunction");function*TY(e,t,r,n){if(!(0,ja.IsInteger)(n))return yield br(yr.Integer,e,r,n);ws(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(yr.IntegerExclusiveMaximum,e,r,n)),ws(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(yr.IntegerExclusiveMinimum,e,r,n)),ws(e.maximum)&&!(n<=e.maximum)&&(yield br(yr.IntegerMaximum,e,r,n)),ws(e.minimum)&&!(n>=e.minimum)&&(yield br(yr.IntegerMinimum,e,r,n)),ws(e.multipleOf)&&n%e.multipleOf!==0&&(yield br(yr.IntegerMultipleOf,e,r,n))}o(TY,"TInteger");function*SY(e,t,r,n){for(let s of e.allOf){let a=Dl(s,t,r,n).next();a.done||(yield br(yr.Intersect,e,r,n),yield a.value)}if(e.unevaluatedProperties===!1){let s=new RegExp(Nc.KeyResolver.ResolvePattern(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield br(yr.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Nc.KeyResolver.ResolvePattern(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=Dl(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(SY,"TIntersect");function*wY(e,t,r,n){(0,ja.IsIterator)(n)||(yield br(yr.Iterator,e,r,n))}o(wY,"TIterator");function*IY(e,t,r,n){n!==e.const&&(yield br(yr.Literal,e,r,n))}o(IY,"TLiteral");function*AY(e,t,r,n){yield br(yr.Never,e,r,n)}o(AY,"TNever");function*PY(e,t,r,n){Dl(e.not,t,r,n).next().done===!0&&(yield br(yr.Not,e,r,n))}o(PY,"TNot");function*RY(e,t,r,n){(0,ja.IsNull)(n)||(yield br(yr.Null,e,r,n))}o(RY,"TNull");function*NY(e,t,r,n){if(!t8.TypeSystemPolicy.IsNumberLike(n))return yield br(yr.Number,e,r,n);ws(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(yr.NumberExclusiveMaximum,e,r,n)),ws(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(yr.NumberExclusiveMinimum,e,r,n)),ws(e.maximum)&&!(n<=e.maximum)&&(yield br(yr.NumberMaximum,e,r,n)),ws(e.minimum)&&!(n>=e.minimum)&&(yield br(yr.NumberMinimum,e,r,n)),ws(e.multipleOf)&&n%e.multipleOf!==0&&(yield br(yr.NumberMultipleOf,e,r,n))}o(NY,"TNumber");function*kY(e,t,r,n){if(!t8.TypeSystemPolicy.IsObjectLike(n))return yield br(yr.Object,e,r,n);ws(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield br(yr.ObjectMinProperties,e,r,n)),ws(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield br(yr.ObjectMaxProperties,e,r,n));let s=Array.isArray(e.required)?e.required:[],a=Object.getOwnPropertyNames(e.properties),l=Object.getOwnPropertyNames(n);for(let f of s)l.includes(f)||(yield br(yr.ObjectRequiredProperty,e.properties[f],`${r}/${au(f)}`,void 0));if(e.additionalProperties===!1)for(let f of l)a.includes(f)||(yield br(yr.ObjectAdditionalProperties,e,`${r}/${au(f)}`,n[f]));if(typeof e.additionalProperties=="object")for(let f of l)a.includes(f)||(yield*Dl(e.additionalProperties,t,`${r}/${au(f)}`,n[f]));for(let f of a){let c=e.properties[f];e.required&&e.required.includes(f)?(yield*Dl(c,t,`${r}/${au(f)}`,n[f]),Nc.ExtendsUndefined.Check(e)&&!(f in n)&&(yield br(yr.ObjectRequiredProperty,c,`${r}/${au(f)}`,void 0))):t8.TypeSystemPolicy.IsExactOptionalProperty(n,f)&&(yield*Dl(c,t,`${r}/${au(f)}`,n[f]))}}o(kY,"TObject");function*DY(e,t,r,n){(0,ja.IsPromise)(n)||(yield br(yr.Promise,e,r,n))}o(DY,"TPromise");function*LY(e,t,r,n){if(!t8.TypeSystemPolicy.IsRecordLike(n))return yield br(yr.Object,e,r,n);ws(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield br(yr.ObjectMinProperties,e,r,n)),ws(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield br(yr.ObjectMaxProperties,e,r,n));let[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let[f,c]of Object.entries(n))l.test(f)&&(yield*Dl(a,t,`${r}/${au(f)}`,c));if(typeof e.additionalProperties=="object")for(let[f,c]of Object.entries(n))l.test(f)||(yield*Dl(e.additionalProperties,t,`${r}/${au(f)}`,c));if(e.additionalProperties===!1){for(let[f,c]of Object.entries(n))if(!l.test(f))return yield br(yr.ObjectAdditionalProperties,e,`${r}/${au(f)}`,c)}}o(LY,"TRecord");function*BY(e,t,r,n){yield*Dl((0,nL.Deref)(e,t),t,r,n)}o(BY,"TRef");function*OY(e,t,r,n){if(!(0,ja.IsString)(n))return yield br(yr.String,e,r,n);ws(e.minLength)&&!(n.length>=e.minLength)&&(yield br(yr.StringMinLength,e,r,n)),ws(e.maxLength)&&!(n.length<=e.maxLength)&&(yield br(yr.StringMaxLength,e,r,n)),(0,ja.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield br(yr.StringPattern,e,r,n))),(0,ja.IsString)(e.format)&&(Nc.FormatRegistry.Has(e.format)?Nc.FormatRegistry.Get(e.format)(n)||(yield br(yr.StringFormat,e,r,n)):yield br(yr.StringFormatUnknown,e,r,n))}o(OY,"TString");function*FY(e,t,r,n){(0,ja.IsSymbol)(n)||(yield br(yr.Symbol,e,r,n))}o(FY,"TSymbol");function*MY(e,t,r,n){if(!(0,ja.IsString)(n))return yield br(yr.String,e,r,n);new RegExp(e.pattern).test(n)||(yield br(yr.StringPattern,e,r,n))}o(MY,"TTemplateLiteral");function*UY(e,t,r,n){yield*Dl((0,nL.Deref)(e,t),t,r,n)}o(UY,"TThis");function*qY(e,t,r,n){if(!(0,ja.IsArray)(n))return yield br(yr.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield br(yr.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield br(yr.TupleLength,e,r,n);if(e.items)for(let s=0;s<e.items.length;s++)yield*Dl(e.items[s],t,`${r}/${s}`,n[s])}o(qY,"TTuple");function*jY(e,t,r,n){(0,ja.IsUndefined)(n)||(yield br(yr.Undefined,e,r,n))}o(jY,"TUndefined");function*$Y(e,t,r,n){let s=0;for(let a of e.anyOf){let l=[...Dl(a,t,r,n)];if(l.length===0)return;s+=l.length}s>0&&(yield br(yr.Union,e,r,n))}o($Y,"TUnion");function*HY(e,t,r,n){if(!(0,ja.IsUint8Array)(n))return yield br(yr.Uint8Array,e,r,n);ws(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield br(yr.Uint8ArrayMaxByteLength,e,r,n)),ws(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield br(yr.Uint8ArrayMinByteLength,e,r,n))}o(HY,"TUint8Array");function*VY(e,t,r,n){}o(VY,"TUnknown");function*zY(e,t,r,n){t8.TypeSystemPolicy.IsVoidLike(n)||(yield br(yr.Void,e,r,n))}o(zY,"TVoid");function*GY(e,t,r,n){Nc.TypeRegistry.Get(e[Nc.Kind])(e,n)||(yield br(yr.Kind,e,r,n))}o(GY,"TKind");function*Dl(e,t,r,n){let s=ws(e.$id)?[...t,e]:t,a=e;switch(a[Nc.Kind]){case"Any":return yield*pY(a,s,r,n);case"Array":return yield*yY(a,s,r,n);case"AsyncIterator":return yield*vY(a,s,r,n);case"BigInt":return yield*xY(a,s,r,n);case"Boolean":return yield*_Y(a,s,r,n);case"Constructor":return yield*bY(a,s,r,n);case"Date":return yield*CY(a,s,r,n);case"Function":return yield*EY(a,s,r,n);case"Integer":return yield*TY(a,s,r,n);case"Intersect":return yield*SY(a,s,r,n);case"Iterator":return yield*wY(a,s,r,n);case"Literal":return yield*IY(a,s,r,n);case"Never":return yield*AY(a,s,r,n);case"Not":return yield*PY(a,s,r,n);case"Null":return yield*RY(a,s,r,n);case"Number":return yield*NY(a,s,r,n);case"Object":return yield*kY(a,s,r,n);case"Promise":return yield*DY(a,s,r,n);case"Record":return yield*LY(a,s,r,n);case"Ref":return yield*BY(a,s,r,n);case"String":return yield*OY(a,s,r,n);case"Symbol":return yield*FY(a,s,r,n);case"TemplateLiteral":return yield*MY(a,s,r,n);case"This":return yield*UY(a,s,r,n);case"Tuple":return yield*qY(a,s,r,n);case"Undefined":return yield*jY(a,s,r,n);case"Union":return yield*$Y(a,s,r,n);case"Uint8Array":return yield*HY(a,s,r,n);case"Unknown":return yield*VY(a,s,r,n);case"Void":return yield*zY(a,s,r,n);default:if(!Nc.TypeRegistry.Has(a[Nc.Kind]))throw new ny(e);return yield*GY(a,s,r,n)}}o(Dl,"Visit");function KY(...e){let t=e.length===3?Dl(e[0],e[1],"",e[2]):Dl(e[0],[],"",e[1]);return new iy(t)}o(KY,"Errors");Rc.Errors=KY});var sy=t0(X2=>{"use strict";var WY=X2&&X2.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YY=X2&&X2.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&WY(t,e,r)};Object.defineProperty(X2,"__esModule",{value:!0});YY(Lm(),X2)});var ME=t0(ld=>{"use strict";var JY=ld&&ld.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),XY=ld&&ld.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JY(t,e,r)};Object.defineProperty(ld,"__esModule",{value:!0});ld.ValueErrorType=void 0;var ZY=Lm();Object.defineProperty(ld,"ValueErrorType",{enumerable:!0,get:function(){return ZY.ValueErrorType}});XY(DE(),ld)});var n8=t0(r8=>{"use strict";Object.defineProperty(r8,"__esModule",{value:!0});r8.Check=r8.ValueCheckUnknownTypeError=void 0;var Ha=Lf(),Om=ME(),iL=q5(),QY=Bm(),Ll=Df(),UE=class UE extends Ll.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(UE,"ValueCheckUnknownTypeError");var oy=UE;r8.ValueCheckUnknownTypeError=oy;function eJ(e){return e[Ll.Kind]==="Any"||e[Ll.Kind]==="Unknown"}o(eJ,"IsAnyOrUnknown");function Is(e){return e!==void 0}o(Is,"IsDefined");function tJ(e,t,r){return!0}o(tJ,"TAny");function rJ(e,t,r){if(!(0,Ha.IsArray)(r)||Is(e.minItems)&&!(r.length>=e.minItems)||Is(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(a=>Bl(e.items,t,a))||e.uniqueItems===!0&&!function(){let a=new Set;for(let l of r){let f=(0,QY.Hash)(l);if(a.has(f))return!1;a.add(f)}return!0}())return!1;if(!(Is(e.contains)||(0,Ha.IsNumber)(e.minContains)||(0,Ha.IsNumber)(e.maxContains)))return!0;let n=Is(e.contains)?e.contains:Ll.Type.Never(),s=r.reduce((a,l)=>Bl(n,t,l)?a+1:a,0);return!(s===0||(0,Ha.IsNumber)(e.minContains)&&s<e.minContains||(0,Ha.IsNumber)(e.maxContains)&&s>e.maxContains)}o(rJ,"TArray");function nJ(e,t,r){return(0,Ha.IsAsyncIterator)(r)}o(nJ,"TAsyncIterator");function iJ(e,t,r){return!(!(0,Ha.IsBigInt)(r)||Is(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Is(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Is(e.maximum)&&!(r<=e.maximum)||Is(e.minimum)&&!(r>=e.minimum)||Is(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(iJ,"TBigInt");function sJ(e,t,r){return(0,Ha.IsBoolean)(r)}o(sJ,"TBoolean");function oJ(e,t,r){return Bl(e.returns,t,r.prototype)}o(oJ,"TConstructor");function aJ(e,t,r){return!(!(0,Ha.IsDate)(r)||Is(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Is(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Is(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Is(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Is(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(aJ,"TDate");function lJ(e,t,r){return(0,Ha.IsFunction)(r)}o(lJ,"TFunction");function fJ(e,t,r){return!(!(0,Ha.IsInteger)(r)||Is(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Is(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Is(e.maximum)&&!(r<=e.maximum)||Is(e.minimum)&&!(r>=e.minimum)||Is(e.multipleOf)&&r%e.multipleOf!==0)}o(fJ,"TInteger");function cJ(e,t,r){let n=e.allOf.every(s=>Bl(s,t,r));if(e.unevaluatedProperties===!1){let s=new RegExp(Ll.KeyResolver.ResolvePattern(e)),a=Object.getOwnPropertyNames(r).every(l=>s.test(l));return n&&a}else if(Ll.TypeGuard.TSchema(e.unevaluatedProperties)){let s=new RegExp(Ll.KeyResolver.ResolvePattern(e)),a=Object.getOwnPropertyNames(r).every(l=>s.test(l)||Bl(e.unevaluatedProperties,t,r[l]));return n&&a}else return n}o(cJ,"TIntersect");function uJ(e,t,r){return(0,Ha.IsIterator)(r)}o(uJ,"TIterator");function dJ(e,t,r){return r===e.const}o(dJ,"TLiteral");function hJ(e,t,r){return!1}o(hJ,"TNever");function gJ(e,t,r){return!Bl(e.not,t,r)}o(gJ,"TNot");function mJ(e,t,r){return(0,Ha.IsNull)(r)}o(mJ,"TNull");function pJ(e,t,r){return!(!Om.TypeSystemPolicy.IsNumberLike(r)||Is(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Is(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Is(e.minimum)&&!(r>=e.minimum)||Is(e.maximum)&&!(r<=e.maximum)||Is(e.multipleOf)&&r%e.multipleOf!==0)}o(pJ,"TNumber");function yJ(e,t,r){if(!Om.TypeSystemPolicy.IsObjectLike(r)||Is(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Is(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let s of n){let a=e.properties[s];if(e.required&&e.required.includes(s)){if(!Bl(a,t,r[s])||(Ll.ExtendsUndefined.Check(a)||eJ(a))&&!(s in r))return!1}else if(Om.TypeSystemPolicy.IsExactOptionalProperty(r,s)&&!Bl(a,t,r[s]))return!1}if(e.additionalProperties===!1){let s=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&s.length===n.length?!0:s.every(a=>n.includes(a))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(a=>n.includes(a)||Bl(e.additionalProperties,t,r[a])):!0}o(yJ,"TObject");function vJ(e,t,r){return(0,Ha.IsPromise)(r)}o(vJ,"TPromise");function xJ(e,t,r){if(!Om.TypeSystemPolicy.IsRecordLike(r)||Is(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Is(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,s]=Object.entries(e.patternProperties)[0],a=new RegExp(n),l=Object.entries(r).every(([u,d])=>a.test(u)?Bl(s,t,d):!0),f=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,d])=>a.test(u)?!0:Bl(e.additionalProperties,t,d)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>a.test(u)):!0;return l&&f&&c}o(xJ,"TRecord");function _J(e,t,r){return Bl((0,iL.Deref)(e,t),t,r)}o(_J,"TRef");function bJ(e,t,r){return!(0,Ha.IsString)(r)||Is(e.minLength)&&!(r.length>=e.minLength)||Is(e.maxLength)&&!(r.length<=e.maxLength)||Is(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Is(e.format)?Ll.FormatRegistry.Has(e.format)?Ll.FormatRegistry.Get(e.format)(r):!1:!0}o(bJ,"TString");function CJ(e,t,r){return(0,Ha.IsSymbol)(r)}o(CJ,"TSymbol");function EJ(e,t,r){return(0,Ha.IsString)(r)&&new RegExp(e.pattern).test(r)}o(EJ,"TTemplateLiteral");function TJ(e,t,r){return Bl((0,iL.Deref)(e,t),t,r)}o(TJ,"TThis");function SJ(e,t,r){if(!(0,Ha.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Bl(e.items[n],t,r[n]))return!1;return!0}o(SJ,"TTuple");function wJ(e,t,r){return(0,Ha.IsUndefined)(r)}o(wJ,"TUndefined");function IJ(e,t,r){return e.anyOf.some(n=>Bl(n,t,r))}o(IJ,"TUnion");function AJ(e,t,r){return!(!(0,Ha.IsUint8Array)(r)||Is(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Is(e.minByteLength)&&!(r.length>=e.minByteLength))}o(AJ,"TUint8Array");function PJ(e,t,r){return!0}o(PJ,"TUnknown");function RJ(e,t,r){return Om.TypeSystemPolicy.IsVoidLike(r)}o(RJ,"TVoid");function NJ(e,t,r){return Ll.TypeRegistry.Has(e[Ll.Kind])?Ll.TypeRegistry.Get(e[Ll.Kind])(e,r):!1}o(NJ,"TKind");function Bl(e,t,r){let n=Is(e.$id)?[...t,e]:t,s=e;switch(s[Ll.Kind]){case"Any":return tJ(s,n,r);case"Array":return rJ(s,n,r);case"AsyncIterator":return nJ(s,n,r);case"BigInt":return iJ(s,n,r);case"Boolean":return sJ(s,n,r);case"Constructor":return oJ(s,n,r);case"Date":return aJ(s,n,r);case"Function":return lJ(s,n,r);case"Integer":return fJ(s,n,r);case"Intersect":return cJ(s,n,r);case"Iterator":return uJ(s,n,r);case"Literal":return dJ(s,n,r);case"Never":return hJ(s,n,r);case"Not":return gJ(s,n,r);case"Null":return mJ(s,n,r);case"Number":return pJ(s,n,r);case"Object":return yJ(s,n,r);case"Promise":return vJ(s,n,r);case"Record":return xJ(s,n,r);case"Ref":return _J(s,n,r);case"String":return bJ(s,n,r);case"Symbol":return CJ(s,n,r);case"TemplateLiteral":return EJ(s,n,r);case"This":return TJ(s,n,r);case"Tuple":return SJ(s,n,r);case"Undefined":return wJ(s,n,r);case"Union":return IJ(s,n,r);case"Uint8Array":return AJ(s,n,r);case"Unknown":return PJ(s,n,r);case"Void":return RJ(s,n,r);default:if(!Ll.TypeRegistry.Has(s[Ll.Kind]))throw new oy(s);return NJ(s,n,r)}}o(Bl,"Visit");function kJ(...e){return e.length===3?Bl(e[0],e[1],e[2]):Bl(e[0],[],e[1])}o(kJ,"Check");r8.Check=kJ});var KE=t0(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.EncodeTransform=rf.DecodeTransform=rf.HasTransform=rf.TransformEncodeError=rf.TransformDecodeError=rf.TransformEncodeCheckError=rf.TransformDecodeCheckError=void 0;var mf=Lf(),i8=q5(),qE=n8(),qi=Df(),HE=class HE extends qi.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(HE,"TransformDecodeCheckError");var jE=HE;rf.TransformDecodeCheckError=jE;var VE=class VE extends qi.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(VE,"TransformEncodeCheckError");var $E=VE;rf.TransformEncodeCheckError=$E;var zE=class zE extends qi.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(zE,"TransformDecodeError");var ay=zE;rf.TransformDecodeError=ay;var GE=class GE extends qi.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(GE,"TransformEncodeError");var ly=GE;rf.TransformEncodeError=ly;var sL;(function(e){function t(R,B){return qi.TypeGuard.TTransform(R)||x(R.items,B)}o(t,"TArray");function r(R,B){return qi.TypeGuard.TTransform(R)||x(R.items,B)}o(r,"TAsyncIterator");function n(R,B){return qi.TypeGuard.TTransform(R)||x(R.returns,B)||R.parameters.some(O=>x(O,B))}o(n,"TConstructor");function s(R,B){return qi.TypeGuard.TTransform(R)||x(R.returns,B)||R.parameters.some(O=>x(O,B))}o(s,"TFunction");function a(R,B){return qi.TypeGuard.TTransform(R)||qi.TypeGuard.TTransform(R.unevaluatedProperties)||R.allOf.some(O=>x(O,B))}o(a,"TIntersect");function l(R,B){return qi.TypeGuard.TTransform(R)||x(R.items,B)}o(l,"TIterator");function f(R,B){return qi.TypeGuard.TTransform(R)||x(R.not,B)}o(f,"TNot");function c(R,B){return qi.TypeGuard.TTransform(R)||Object.values(R.properties).some(O=>x(O,B))||qi.TypeGuard.TSchema(R.additionalProperties)&&x(R.additionalProperties,B)}o(c,"TObject");function u(R,B){return qi.TypeGuard.TTransform(R)||x(R.item,B)}o(u,"TPromise");function d(R,B){let O=Object.getOwnPropertyNames(R.patternProperties)[0],L=R.patternProperties[O];return qi.TypeGuard.TTransform(R)||x(L,B)||qi.TypeGuard.TSchema(R.additionalProperties)&&qi.TypeGuard.TTransform(R.additionalProperties)}o(d,"TRecord");function h(R,B){return qi.TypeGuard.TTransform(R)?!0:x((0,i8.Deref)(R,B),B)}o(h,"TRef");function p(R,B){return qi.TypeGuard.TTransform(R)?!0:x((0,i8.Deref)(R,B),B)}o(p,"TThis");function m(R,B){return qi.TypeGuard.TTransform(R)||!(0,mf.IsUndefined)(R.items)&&R.items.some(O=>x(O,B))}o(m,"TTuple");function v(R,B){return qi.TypeGuard.TTransform(R)||R.anyOf.some(O=>x(O,B))}o(v,"TUnion");function x(R,B){let O=(0,mf.IsString)(R.$id)?[...B,R]:B,L=R;if(R.$id&&S.has(R.$id))return!1;switch(R.$id&&S.add(R.$id),R[qi.Kind]){case"Array":return t(L,O);case"AsyncIterator":return r(L,O);case"Constructor":return n(L,O);case"Function":return s(L,O);case"Intersect":return a(L,O);case"Iterator":return l(L,O);case"Not":return f(L,O);case"Object":return c(L,O);case"Promise":return u(L,O);case"Record":return d(L,O);case"Ref":return h(L,O);case"This":return p(L,O);case"Tuple":return m(L,O);case"Union":return v(L,O);default:return qi.TypeGuard.TTransform(R)}}o(x,"Visit");let S=new Set;function E(R,B){return S.clear(),x(R,B)}o(E,"Has"),e.Has=E})(sL||(rf.HasTransform=sL={}));var oL;(function(e){function t(m,v){try{return qi.TypeGuard.TTransform(m)?m[qi.Transform].Decode(v):v}catch(x){throw new ay(m,v,x)}}o(t,"Default");function r(m,v,x){return(0,mf.IsArray)(x)?t(m,x.map(S=>h(m.items,v,S))):t(m,x)}o(r,"TArray");function n(m,v,x){if(!(0,mf.IsPlainObject)(x)||(0,mf.IsValueType)(x))return t(m,x);let S=qi.KeyResolver.ResolveKeys(m,{includePatterns:!1}),E=S.reduce((L,F)=>F in L?{...L,[F]:h(qi.IndexedAccessor.Resolve(m,[F]),v,L[F])}:L,x);if(!qi.TypeGuard.TTransform(m.unevaluatedProperties))return t(m,E);let R=Object.getOwnPropertyNames(E),B=m.unevaluatedProperties,O=R.reduce((L,F)=>S.includes(F)?L:{...L,[F]:t(B,L[F])},E);return t(m,O)}o(n,"TIntersect");function s(m,v,x){return t(m,h(m.not,v,x))}o(s,"TNot");function a(m,v,x){if(!(0,mf.IsPlainObject)(x))return t(m,x);let S=qi.KeyResolver.ResolveKeys(m,{includePatterns:!1}),E=S.reduce((L,F)=>F in L?{...L,[F]:h(m.properties[F],v,L[F])}:L,x);if(!qi.TypeGuard.TSchema(m.additionalProperties))return t(m,E);let R=Object.getOwnPropertyNames(E),B=m.additionalProperties,O=R.reduce((L,F)=>S.includes(F)?L:{...L,[F]:t(B,L[F])},E);return t(m,O)}o(a,"TObject");function l(m,v,x){if(!(0,mf.IsPlainObject)(x))return t(m,x);let S=Object.getOwnPropertyNames(m.patternProperties)[0],E=new RegExp(S),R=Object.getOwnPropertyNames(x).reduce((F,ve)=>E.test(ve)?{...F,[ve]:h(m.patternProperties[S],v,F[ve])}:F,x);if(!qi.TypeGuard.TSchema(m.additionalProperties))return t(m,R);let B=Object.getOwnPropertyNames(R),O=m.additionalProperties,L=B.reduce((F,ve)=>E.test(ve)?F:{...F,[ve]:t(O,F[ve])},R);return t(m,L)}o(l,"TRecord");function f(m,v,x){let S=(0,i8.Deref)(m,v);return t(m,h(S,v,x))}o(f,"TRef");function c(m,v,x){let S=(0,i8.Deref)(m,v);return t(m,h(S,v,x))}o(c,"TThis");function u(m,v,x){return(0,mf.IsArray)(x)&&(0,mf.IsArray)(m.items)?t(m,m.items.map((S,E)=>h(S,v,x[E]))):t(m,x)}o(u,"TTuple");function d(m,v,x){let S=t(m,x);for(let E of m.anyOf)if((0,qE.Check)(E,v,S))return h(E,v,S);return S}o(d,"TUnion");function h(m,v,x){let S=typeof m.$id=="string"?[...v,m]:v,E=m;switch(m[qi.Kind]){case"Array":return r(E,S,x);case"Intersect":return n(E,S,x);case"Not":return s(E,S,x);case"Object":return a(E,S,x);case"Record":return l(E,S,x);case"Ref":return f(E,S,x);case"Symbol":return t(E,x);case"This":return c(E,S,x);case"Tuple":return u(E,S,x);case"Union":return d(E,S,x);default:return t(E,x)}}o(h,"Visit");function p(m,v,x){return h(m,v,x)}o(p,"Decode"),e.Decode=p})(oL||(rf.DecodeTransform=oL={}));var aL;(function(e){function t(m,v){try{return qi.TypeGuard.TTransform(m)?m[qi.Transform].Encode(v):v}catch(x){throw new ly(m,v,x)}}o(t,"Default");function r(m,v,x){let S=t(m,x);return(0,mf.IsArray)(S)?S.map(E=>h(m.items,v,E)):S}o(r,"TArray");function n(m,v,x){let S=t(m,x);if(!(0,mf.IsPlainObject)(x)||(0,mf.IsValueType)(x))return S;let E=qi.KeyResolver.ResolveKeys(m,{includePatterns:!1}),R=E.reduce((L,F)=>F in S?{...L,[F]:h(qi.IndexedAccessor.Resolve(m,[F]),v,L[F])}:L,S);if(!qi.TypeGuard.TTransform(m.unevaluatedProperties))return t(m,R);let B=Object.getOwnPropertyNames(R),O=m.unevaluatedProperties;return B.reduce((L,F)=>E.includes(F)?L:{...L,[F]:t(O,L[F])},R)}o(n,"TIntersect");function s(m,v,x){return t(m.not,t(m,x))}o(s,"TNot");function a(m,v,x){let S=t(m,x);if(!(0,mf.IsPlainObject)(x))return S;let E=qi.KeyResolver.ResolveKeys(m,{includePatterns:!1}),R=E.reduce((L,F)=>F in L?{...L,[F]:h(m.properties[F],v,L[F])}:L,S);if(!qi.TypeGuard.TSchema(m.additionalProperties))return R;let B=Object.getOwnPropertyNames(R),O=m.additionalProperties;return B.reduce((L,F)=>E.includes(F)?L:{...L,[F]:t(O,L[F])},R)}o(a,"TObject");function l(m,v,x){let S=t(m,x);if(!(0,mf.IsPlainObject)(x))return S;let E=Object.getOwnPropertyNames(m.patternProperties)[0],R=new RegExp(E),B=Object.getOwnPropertyNames(x).reduce((F,ve)=>R.test(ve)?{...F,[ve]:h(m.patternProperties[E],v,F[ve])}:F,S);if(!qi.TypeGuard.TSchema(m.additionalProperties))return t(m,B);let O=Object.getOwnPropertyNames(B),L=m.additionalProperties;return O.reduce((F,ve)=>R.test(ve)?F:{...F,[ve]:t(L,F[ve])},B)}o(l,"TRecord");function f(m,v,x){let S=(0,i8.Deref)(m,v),E=h(S,v,x);return t(m,E)}o(f,"TRef");function c(m,v,x){let S=(0,i8.Deref)(m,v),E=h(S,v,x);return t(m,E)}o(c,"TThis");function u(m,v,x){let S=t(m,x);return(0,mf.IsArray)(m.items)?m.items.map((E,R)=>h(E,v,S[R])):[]}o(u,"TTuple");function d(m,v,x){for(let S of m.anyOf){if(!(0,qE.Check)(S,v,x))continue;let E=h(S,v,x);return t(m,E)}for(let S of m.anyOf){let E=h(S,v,x);if((0,qE.Check)(m,v,E))return t(m,E)}return t(m,x)}o(d,"TUnion");function h(m,v,x){let S=typeof m.$id=="string"?[...v,m]:v,E=m;switch(m[qi.Kind]){case"Array":return r(E,S,x);case"Intersect":return n(E,S,x);case"Not":return s(E,S,x);case"Object":return a(E,S,x);case"Record":return l(E,S,x);case"Ref":return f(E,S,x);case"This":return c(E,S,x);case"Tuple":return u(E,S,x);case"Union":return d(E,S,x);default:return t(E,x)}}o(h,"Visit");function p(m,v,x){return h(m,v,x)}o(p,"Encode"),e.Encode=p})(aL||(rf.EncodeTransform=aL={}))});var fL=t0(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.TypeCompiler=kc.Policy=kc.TypeCompilerTypeGuardError=kc.TypeCompilerUnknownTypeError=kc.TypeCheck=void 0;var Fm=KE(),Xi=Lf(),DJ=Lm(),Mm=ME(),LJ=q5(),BJ=Bm(),Sa=Df(),JE=class JE{constructor(t,r,n,s){this.schema=t,this.references=r,this.checkFunc=n,this.code=s,this.hasTransform=Fm.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,DJ.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new Fm.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?Fm.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?Fm.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Fm.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};o(JE,"TypeCheck");var fy=JE;kc.TypeCheck=fy;var fd;(function(e){function t(a){return a===36}o(t,"DollarSign"),e.DollarSign=t;function r(a){return a===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(a){return a>=65&&a<=90||a>=97&&a<=122}o(n,"IsAlpha"),e.IsAlpha=n;function s(a){return a>=48&&a<=57}o(s,"IsNumeric"),e.IsNumeric=s})(fd||(fd={}));var cy;(function(e){function t(a){return a.length===0?!1:fd.IsNumeric(a.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(a){if(t(a))return!1;for(let l=0;l<a.length;l++){let f=a.charCodeAt(l);if(!(fd.IsAlpha(f)||fd.IsNumeric(f)||fd.DollarSign(f)||fd.IsUnderscore(f)))return!1}return!0}o(r,"IsAccessor");function n(a){return a.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function s(a,l){return r(l)?`${a}.${l}`:`${a}['${n(l)}']`}o(s,"Encode"),e.Encode=s})(cy||(cy={}));var WE;(function(e){function t(r){let n=[];for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);fd.IsNumeric(a)||fd.IsAlpha(a)?n.push(r.charAt(s)):n.push(`_${a}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(WE||(WE={}));var YE;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(YE||(YE={}));var XE=class XE extends Sa.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(XE,"TypeCompilerUnknownTypeError");var uy=XE;kc.TypeCompilerUnknownTypeError=uy;var ZE=class ZE extends Sa.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};o(ZE,"TypeCompilerTypeGuardError");var Um=ZE;kc.TypeCompilerTypeGuardError=Um;var Z2;(function(e){function t(l,f,c){return Mm.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${f}' in ${l} ? ${c} : true)`:`(${cy.Encode(l,f)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(l){return Mm.TypeSystemPolicy.AllowArrayObject?`(typeof ${l} === 'object' && ${l} !== null)`:`(typeof ${l} === 'object' && ${l} !== null && !Array.isArray(${l}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(l){return Mm.TypeSystemPolicy.AllowArrayObject?`(typeof ${l} === 'object' && ${l} !== null && !(${l} instanceof Date) && !(${l} instanceof Uint8Array))`:`(typeof ${l} === 'object' && ${l} !== null && !Array.isArray(${l}) && !(${l} instanceof Date) && !(${l} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(l){return Mm.TypeSystemPolicy.AllowNaN?`typeof ${l} === 'number'`:`(typeof ${l} === 'number' && Number.isFinite(${l}))`}o(s,"IsNumberLike"),e.IsNumberLike=s;function a(l){return Mm.TypeSystemPolicy.AllowNullVoid?`(${l} === undefined || ${l} === null)`:`${l} === undefined`}o(a,"IsVoidLike"),e.IsVoidLike=a})(Z2||(kc.Policy=Z2={}));var lL;(function(e){function t(Se){return Se[Sa.Kind]==="Any"||Se[Sa.Kind]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(Se,O0,St){yield"true"}o(r,"TAny");function*n(Se,O0,St){yield`Array.isArray(${St})`;let[L0,k0]=[b0("value","any"),b0("acc","number")];(0,Xi.IsNumber)(Se.maxItems)&&(yield`${St}.length <= ${Se.maxItems}`),(0,Xi.IsNumber)(Se.minItems)&&(yield`${St}.length >= ${Se.minItems}`);let z0=kt(Se.items,O0,"value");if(yield`${St}.every((${L0}) => ${z0})`,Sa.TypeGuard.TSchema(Se.contains)||(0,Xi.IsNumber)(Se.minContains)||(0,Xi.IsNumber)(Se.maxContains)){let Sr=Sa.TypeGuard.TSchema(Se.contains)?Se.contains:Sa.Type.Never(),zr=kt(Sr,O0,"value"),Mr=(0,Xi.IsNumber)(Se.minContains)?[`(count >= ${Se.minContains})`]:[],le=(0,Xi.IsNumber)(Se.maxContains)?[`(count <= ${Se.maxContains})`]:[],nn=`const count = value.reduce((${k0}, ${L0}) => ${zr} ? acc + 1 : acc, 0)`,mr=["(count > 0)",...Mr,...le].join(" && ");yield`((${L0}) => { ${nn}; return ${mr}})(${St})`}Se.uniqueItems===!0&&(yield`((${L0}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${St})`)}o(n,"TArray");function*s(Se,O0,St){yield`(typeof value === 'object' && Symbol.asyncIterator in ${St})`}o(s,"TAsyncIterator");function*a(Se,O0,St){yield`(typeof ${St} === 'bigint')`,(0,Xi.IsBigInt)(Se.exclusiveMaximum)&&(yield`${St} < BigInt(${Se.exclusiveMaximum})`),(0,Xi.IsBigInt)(Se.exclusiveMinimum)&&(yield`${St} > BigInt(${Se.exclusiveMinimum})`),(0,Xi.IsBigInt)(Se.maximum)&&(yield`${St} <= BigInt(${Se.maximum})`),(0,Xi.IsBigInt)(Se.minimum)&&(yield`${St} >= BigInt(${Se.minimum})`),(0,Xi.IsBigInt)(Se.multipleOf)&&(yield`(${St} % BigInt(${Se.multipleOf})) === 0`)}o(a,"TBigInt");function*l(Se,O0,St){yield`(typeof ${St} === 'boolean')`}o(l,"TBoolean");function*f(Se,O0,St){yield*l0(Se.returns,O0,`${St}.prototype`)}o(f,"TConstructor");function*c(Se,O0,St){yield`(${St} instanceof Date) && Number.isFinite(${St}.getTime())`,(0,Xi.IsNumber)(Se.exclusiveMaximumTimestamp)&&(yield`${St}.getTime() < ${Se.exclusiveMaximumTimestamp}`),(0,Xi.IsNumber)(Se.exclusiveMinimumTimestamp)&&(yield`${St}.getTime() > ${Se.exclusiveMinimumTimestamp}`),(0,Xi.IsNumber)(Se.maximumTimestamp)&&(yield`${St}.getTime() <= ${Se.maximumTimestamp}`),(0,Xi.IsNumber)(Se.minimumTimestamp)&&(yield`${St}.getTime() >= ${Se.minimumTimestamp}`),(0,Xi.IsNumber)(Se.multipleOfTimestamp)&&(yield`(${St}.getTime() % ${Se.multipleOfTimestamp}) === 0`)}o(c,"TDate");function*u(Se,O0,St){yield`(typeof ${St} === 'function')`}o(u,"TFunction");function*d(Se,O0,St){yield`(typeof ${St} === 'number' && Number.isInteger(${St}))`,(0,Xi.IsNumber)(Se.exclusiveMaximum)&&(yield`${St} < ${Se.exclusiveMaximum}`),(0,Xi.IsNumber)(Se.exclusiveMinimum)&&(yield`${St} > ${Se.exclusiveMinimum}`),(0,Xi.IsNumber)(Se.maximum)&&(yield`${St} <= ${Se.maximum}`),(0,Xi.IsNumber)(Se.minimum)&&(yield`${St} >= ${Se.minimum}`),(0,Xi.IsNumber)(Se.multipleOf)&&(yield`(${St} % ${Se.multipleOf}) === 0`)}o(d,"TInteger");function*h(Se,O0,St){let L0=Se.allOf.map(k0=>kt(k0,O0,St)).join(" && ");if(Se.unevaluatedProperties===!1){let k0=de(`${new RegExp(Sa.KeyResolver.ResolvePattern(Se))};`),z0=`Object.getOwnPropertyNames(${St}).every(key => ${k0}.test(key))`;yield`(${L0} && ${z0})`}else if(Sa.TypeGuard.TSchema(Se.unevaluatedProperties)){let k0=de(`${new RegExp(Sa.KeyResolver.ResolvePattern(Se))};`),z0=`Object.getOwnPropertyNames(${St}).every(key => ${k0}.test(key) || ${kt(Se.unevaluatedProperties,O0,`${St}[key]`)})`;yield`(${L0} && ${z0})`}else yield`(${L0})`}o(h,"TIntersect");function*p(Se,O0,St){yield`(typeof value === 'object' && Symbol.iterator in ${St})`}o(p,"TIterator");function*m(Se,O0,St){typeof Se.const=="number"||typeof Se.const=="boolean"?yield`(${St} === ${Se.const})`:yield`(${St} === '${YE.Escape(Se.const)}')`}o(m,"TLiteral");function*v(Se,O0,St){yield"false"}o(v,"TNever");function*x(Se,O0,St){yield`(!${kt(Se.not,O0,St)})`}o(x,"TNot");function*S(Se,O0,St){yield`(${St} === null)`}o(S,"TNull");function*E(Se,O0,St){yield Z2.IsNumberLike(St),(0,Xi.IsNumber)(Se.exclusiveMaximum)&&(yield`${St} < ${Se.exclusiveMaximum}`),(0,Xi.IsNumber)(Se.exclusiveMinimum)&&(yield`${St} > ${Se.exclusiveMinimum}`),(0,Xi.IsNumber)(Se.maximum)&&(yield`${St} <= ${Se.maximum}`),(0,Xi.IsNumber)(Se.minimum)&&(yield`${St} >= ${Se.minimum}`),(0,Xi.IsNumber)(Se.multipleOf)&&(yield`(${St} % ${Se.multipleOf}) === 0`)}o(E,"TNumber");function*R(Se,O0,St){yield Z2.IsObjectLike(St),(0,Xi.IsNumber)(Se.minProperties)&&(yield`Object.getOwnPropertyNames(${St}).length >= ${Se.minProperties}`),(0,Xi.IsNumber)(Se.maxProperties)&&(yield`Object.getOwnPropertyNames(${St}).length <= ${Se.maxProperties}`);let L0=Object.getOwnPropertyNames(Se.properties);for(let k0 of L0){let z0=cy.Encode(St,k0),Sr=Se.properties[k0];if(Se.required&&Se.required.includes(k0))yield*l0(Sr,O0,z0),(Sa.ExtendsUndefined.Check(Sr)||t(Sr))&&(yield`('${k0}' in ${St})`);else{let zr=kt(Sr,O0,z0);yield Z2.IsExactOptionalProperty(St,k0,zr)}}if(Se.additionalProperties===!1)if(Se.required&&Se.required.length===L0.length)yield`Object.getOwnPropertyNames(${St}).length === ${L0.length}`;else{let k0=`[${L0.map(z0=>`'${z0}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${St}).every(key => ${k0}.includes(key))`}if(typeof Se.additionalProperties=="object"){let k0=kt(Se.additionalProperties,O0,`${St}[key]`),z0=`[${L0.map(Sr=>`'${Sr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${St}).every(key => ${z0}.includes(key) || ${k0}))`}}o(R,"TObject");function*B(Se,O0,St){yield`(typeof value === 'object' && typeof ${St}.then === 'function')`}o(B,"TPromise");function*O(Se,O0,St){yield Z2.IsRecordLike(St),(0,Xi.IsNumber)(Se.minProperties)&&(yield`Object.getOwnPropertyNames(${St}).length >= ${Se.minProperties}`),(0,Xi.IsNumber)(Se.maxProperties)&&(yield`Object.getOwnPropertyNames(${St}).length <= ${Se.maxProperties}`);let[L0,k0]=Object.entries(Se.patternProperties)[0],z0=de(`${new RegExp(L0)}`),Sr=kt(k0,O0,"value"),zr=Sa.TypeGuard.TSchema(Se.additionalProperties)?kt(Se.additionalProperties,O0,St):Se.additionalProperties===!1?"false":"true",Mr=`(${z0}.test(key) ? ${Sr} : ${zr})`;yield`(Object.entries(${St}).every(([key, value]) => ${Mr}))`}o(O,"TRecord");function*L(Se,O0,St){let L0=(0,LJ.Deref)(Se,O0);if(N0.functions.has(Se.$ref))return yield`${o0(Se.$ref)}(${St})`;yield*l0(L0,O0,St)}o(L,"TRef");function*F(Se,O0,St){yield`(typeof ${St} === 'string')`,(0,Xi.IsNumber)(Se.maxLength)&&(yield`${St}.length <= ${Se.maxLength}`),(0,Xi.IsNumber)(Se.minLength)&&(yield`${St}.length >= ${Se.minLength}`),Se.pattern!==void 0&&(yield`${de(`${new RegExp(Se.pattern)};`)}.test(${St})`),Se.format!==void 0&&(yield`format('${Se.format}', ${St})`)}o(F,"TString");function*ve(Se,O0,St){yield`(typeof ${St} === 'symbol')`}o(ve,"TSymbol");function*we(Se,O0,St){yield`(typeof ${St} === 'string')`,yield`${de(`${new RegExp(Se.pattern)};`)}.test(${St})`}o(we,"TTemplateLiteral");function*Xt(Se,O0,St){yield`${o0(Se.$ref)}(${St})`}o(Xt,"TThis");function*f0(Se,O0,St){if(yield`Array.isArray(${St})`,Se.items===void 0)return yield`${St}.length === 0`;yield`(${St}.length === ${Se.maxItems})`;for(let L0=0;L0<Se.items.length;L0++)yield`${kt(Se.items[L0],O0,`${St}[${L0}]`)}`}o(f0,"TTuple");function*Jt(Se,O0,St){yield`${St} === undefined`}o(Jt,"TUndefined");function*c0(Se,O0,St){yield`(${Se.anyOf.map(k0=>kt(k0,O0,St)).join(" || ")})`}o(c0,"TUnion");function*yt(Se,O0,St){yield`${St} instanceof Uint8Array`,(0,Xi.IsNumber)(Se.maxByteLength)&&(yield`(${St}.length <= ${Se.maxByteLength})`),(0,Xi.IsNumber)(Se.minByteLength)&&(yield`(${St}.length >= ${Se.minByteLength})`)}o(yt,"TUint8Array");function*je(Se,O0,St){yield"true"}o(je,"TUnknown");function*i0(Se,O0,St){yield Z2.IsVoidLike(St)}o(i0,"TVoid");function*u0(Se,O0,St){let L0=N0.instances.size;N0.instances.set(L0,Se),yield`kind('${Se[Sa.Kind]}', ${L0}, ${St})`}o(u0,"TKind");function*l0(Se,O0,St,L0=!0){let k0=(0,Xi.IsString)(Se.$id)?[...O0,Se]:O0,z0=Se;if(L0&&(0,Xi.IsString)(Se.$id)){let Sr=o0(Se.$id);if(N0.functions.has(Sr))return yield`${Sr}(${St})`;{let zr=Me(Sr,Se,O0,"value",!1);return N0.functions.set(Sr,zr),yield`${Sr}(${St})`}}switch(z0[Sa.Kind]){case"Any":return yield*r(z0,k0,St);case"Array":return yield*n(z0,k0,St);case"AsyncIterator":return yield*s(z0,k0,St);case"BigInt":return yield*a(z0,k0,St);case"Boolean":return yield*l(z0,k0,St);case"Constructor":return yield*f(z0,k0,St);case"Date":return yield*c(z0,k0,St);case"Function":return yield*u(z0,k0,St);case"Integer":return yield*d(z0,k0,St);case"Intersect":return yield*h(z0,k0,St);case"Iterator":return yield*p(z0,k0,St);case"Literal":return yield*m(z0,k0,St);case"Never":return yield*v(z0,k0,St);case"Not":return yield*x(z0,k0,St);case"Null":return yield*S(z0,k0,St);case"Number":return yield*E(z0,k0,St);case"Object":return yield*R(z0,k0,St);case"Promise":return yield*B(z0,k0,St);case"Record":return yield*O(z0,k0,St);case"Ref":return yield*L(z0,k0,St);case"String":return yield*F(z0,k0,St);case"Symbol":return yield*ve(z0,k0,St);case"TemplateLiteral":return yield*we(z0,k0,St);case"This":return yield*Xt(z0,k0,St);case"Tuple":return yield*f0(z0,k0,St);case"Undefined":return yield*Jt(z0,k0,St);case"Union":return yield*c0(z0,k0,St);case"Uint8Array":return yield*yt(z0,k0,St);case"Unknown":return yield*je(z0,k0,St);case"Void":return yield*i0(z0,k0,St);default:if(!Sa.TypeRegistry.Has(z0[Sa.Kind]))throw new uy(Se);return yield*u0(z0,k0,St)}}o(l0,"Visit");let N0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function kt(Se,O0,St,L0=!0){return`(${[...l0(Se,O0,St,L0)].join(" && ")})`}o(kt,"CreateExpression");function o0(Se){return`check_${WE.Encode(Se)}`}o(o0,"CreateFunctionName");function de(Se){let O0=`local_${N0.variables.size}`;return N0.variables.set(O0,`const ${O0} = ${Se}`),O0}o(de,"CreateVariable");function Me(Se,O0,St,L0,k0=!0){let[z0,Sr]=[`
`,nn=>"".padStart(nn," ")],zr=b0("value","any"),Mr=H0("boolean"),le=[...l0(O0,St,L0,k0)].map(nn=>`${Sr(4)}${nn}`).join(` &&${z0}`);return`function ${Se}(${zr})${Mr} {${z0}${Sr(2)}return (${z0}${le}${z0}${Sr(2)})
}`}o(Me,"CreateFunction");function b0(Se,O0){let St=N0.language==="typescript"?`: ${O0}`:"";return`${Se}${St}`}o(b0,"CreateParameter");function H0(Se){return N0.language==="typescript"?`: ${Se}`:""}o(H0,"CreateReturns");function F0(Se,O0,St){let L0=Me("check",Se,O0,"value"),k0=b0("value","any"),z0=H0("boolean"),Sr=[...N0.functions.values()],zr=[...N0.variables.values()],Mr=(0,Xi.IsString)(Se.$id)?`return function check(${k0})${z0} {
  return ${o0(Se.$id)}(value)
}`:`return ${L0}`;return[...zr,...Sr,Mr].join(`
`)}o(F0,"Build");function y0(...Se){let O0={language:"javascript"},[St,L0,k0]=Se.length===2&&(0,Xi.IsArray)(Se[1])?[Se[0],Se[1],O0]:Se.length===2&&!(0,Xi.IsArray)(Se[1])?[Se[0],[],Se[1]]:Se.length===3?[Se[0],Se[1],Se[2]]:Se.length===1?[Se[0],[],O0]:[null,[],O0];if(N0.language=k0.language,N0.variables.clear(),N0.functions.clear(),N0.instances.clear(),!Sa.TypeGuard.TSchema(St))throw new Um(St);for(let z0 of L0)if(!Sa.TypeGuard.TSchema(z0))throw new Um(z0);return F0(St,L0,k0)}o(y0,"Code"),e.Code=y0;function Er(Se,O0=[]){let St=y0(Se,O0,{language:"javascript"}),L0=globalThis.Function("kind","format","hash",St),k0=new Map(N0.instances);function z0(le,nn,mr){if(!Sa.TypeRegistry.Has(le)||!k0.has(nn))return!1;let Vs=Sa.TypeRegistry.Get(le),Bs=k0.get(nn);return Vs(Bs,mr)}o(z0,"typeRegistryFunction");function Sr(le,nn){return Sa.FormatRegistry.Has(le)?Sa.FormatRegistry.Get(le)(nn):!1}o(Sr,"formatRegistryFunction");function zr(le){return(0,BJ.Hash)(le)}o(zr,"hashFunction");let Mr=L0(z0,Sr,zr);return new fy(Se,O0,Mr,St)}o(Er,"Compile"),e.Compile=Er})(lL||(kc.TypeCompiler=lL={}))});var uL=t0(x1=>{"use strict";var OJ=x1&&x1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FJ=x1&&x1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OJ(t,e,r)};Object.defineProperty(x1,"__esModule",{value:!0});x1.ValueErrorIterator=x1.ValueErrorType=void 0;var cL=sy();Object.defineProperty(x1,"ValueErrorType",{enumerable:!0,get:function(){return cL.ValueErrorType}});Object.defineProperty(x1,"ValueErrorIterator",{enumerable:!0,get:function(){return cL.ValueErrorIterator}});FJ(fL(),x1)});var Cs=t0((dy,dL)=>{(function(e,t){typeof dy=="object"?dL.exports=dy=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(dy,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),a=Object.create||function(){function E(){}return o(E,"F"),function(R){var B;return E.prototype=R,B=new E,E.prototype=null,B}}(),l={},f=l.lib={},c=f.Base=function(){return{extend:function(E){var R=a(this);return E&&R.mixIn(E),(!R.hasOwnProperty("init")||this.init===R.init)&&(R.init=function(){R.$super.init.apply(this,arguments)}),R.init.prototype=R,R.$super=this,R},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var R in E)E.hasOwnProperty(R)&&(this[R]=E[R]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=f.WordArray=c.extend({init:function(E,R){E=this.words=E||[],R!=r?this.sigBytes=R:this.sigBytes=E.length*4},toString:function(E){return(E||h).stringify(this)},concat:function(E){var R=this.words,B=E.words,O=this.sigBytes,L=E.sigBytes;if(this.clamp(),O%4)for(var F=0;F<L;F++){var ve=B[F>>>2]>>>24-F%4*8&255;R[O+F>>>2]|=ve<<24-(O+F)%4*8}else for(var we=0;we<L;we+=4)R[O+we>>>2]=B[we>>>2];return this.sigBytes+=L,this},clamp:function(){var E=this.words,R=this.sigBytes;E[R>>>2]&=4294967295<<32-R%4*8,E.length=t.ceil(R/4)},clone:function(){var E=c.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var R=[],B=0;B<E;B+=4)R.push(s());return new u.init(R,E)}}),d=l.enc={},h=d.Hex={stringify:function(E){for(var R=E.words,B=E.sigBytes,O=[],L=0;L<B;L++){var F=R[L>>>2]>>>24-L%4*8&255;O.push((F>>>4).toString(16)),O.push((F&15).toString(16))}return O.join("")},parse:function(E){for(var R=E.length,B=[],O=0;O<R;O+=2)B[O>>>3]|=parseInt(E.substr(O,2),16)<<24-O%8*4;return new u.init(B,R/2)}},p=d.Latin1={stringify:function(E){for(var R=E.words,B=E.sigBytes,O=[],L=0;L<B;L++){var F=R[L>>>2]>>>24-L%4*8&255;O.push(String.fromCharCode(F))}return O.join("")},parse:function(E){for(var R=E.length,B=[],O=0;O<R;O++)B[O>>>2]|=(E.charCodeAt(O)&255)<<24-O%4*8;return new u.init(B,R)}},m=d.Utf8={stringify:function(E){try{return decodeURIComponent(escape(p.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return p.parse(unescape(encodeURIComponent(E)))}},v=f.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=m.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var R,B=this._data,O=B.words,L=B.sigBytes,F=this.blockSize,ve=F*4,we=L/ve;E?we=t.ceil(we):we=t.max((we|0)-this._minBufferSize,0);var Xt=we*F,f0=t.min(Xt*4,L);if(Xt){for(var Jt=0;Jt<Xt;Jt+=F)this._doProcessBlock(O,Jt);R=O.splice(0,Xt),B.sigBytes-=f0}return new u.init(R,f0)},clone:function(){var E=c.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0}),x=f.Hasher=v.extend({cfg:c.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var R=this._doFinalize();return R},blockSize:512/32,_createHelper:function(E){return function(R,B){return new E.init(B).finalize(R)}},_createHmacHelper:function(E){return function(R,B){return new S.HMAC.init(E,B).finalize(R)}}}),S=l.algo={};return l}(Math);return e})});var qm=t0((hy,hL)=>{(function(e,t){typeof hy=="object"?hL.exports=hy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hy,function(e){return function(t){var r=e,n=r.lib,s=n.Base,a=n.WordArray,l=r.x64={},f=l.Word=s.extend({init:function(u,d){this.high=u,this.low=d}}),c=l.WordArray=s.extend({init:function(u,d){u=this.words=u||[],d!=t?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],p=0;p<d;p++){var m=u[p];h.push(m.high),h.push(m.low)}return a.create(h,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),d=u.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return u}})}(),e})});var mL=t0((gy,gL)=>{(function(e,t){typeof gy=="object"?gL.exports=gy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gy,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,a=n.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var f=l.byteLength,c=[],u=0;u<f;u++)c[u>>>2]|=l[u]<<24-u%4*8;s.call(this,c,f)}else s.apply(this,arguments)};a.prototype=n}}(),e.lib.WordArray})});var yL=t0((my,pL)=>{(function(e,t){typeof my=="object"?pL.exports=my=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(my,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Utf16=s.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(p))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=f.charCodeAt(d)<<16-d%2*16;return n.create(u,c*2)}};s.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var p=l(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(p))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=l(f.charCodeAt(d)<<16-d%2*16);return n.create(u,c*2)}};function l(f){return f<<8&4278255360|f>>>8&16711935}o(l,"swapEndian")}(),e.enc.Utf16})});var $5=t0((py,vL)=>{(function(e,t){typeof py=="object"?vL.exports=py=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(py,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,d=this._map;f.clamp();for(var h=[],p=0;p<u;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,x=c[p+2>>>2]>>>24-(p+2)%4*8&255,S=m<<16|v<<8|x,E=0;E<4&&p+E*.75<u;E++)h.push(d.charAt(S>>>6*(3-E)&63));var R=d.charAt(64);if(R)for(;h.length%4;)h.push(R);return h.join("")},parse:function(f){var c=f.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var m=f.indexOf(p);m!==-1&&(c=m)}return l(f,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(f,c,u){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=u[f.charCodeAt(p-1)]<<p%4*2,v=u[f.charCodeAt(p)]>>>6-p%4*2,x=m|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(l,"parseLoop")}(),e.enc.Base64})});var _L=t0((yy,xL)=>{(function(e,t){typeof yy=="object"?xL.exports=yy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,d=f.sigBytes,h=c?this._safe_map:this._map;f.clamp();for(var p=[],m=0;m<d;m+=3)for(var v=u[m>>>2]>>>24-m%4*8&255,x=u[m+1>>>2]>>>24-(m+1)%4*8&255,S=u[m+2>>>2]>>>24-(m+2)%4*8&255,E=v<<16|x<<8|S,R=0;R<4&&m+R*.75<d;R++)p.push(h.charAt(E>>>6*(3-R)&63));var B=h.charAt(64);if(B)for(;p.length%4;)p.push(B);return p.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var m=d.charAt(64);if(m){var v=f.indexOf(m);v!==-1&&(u=v)}return l(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(f,c,u){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=u[f.charCodeAt(p-1)]<<p%4*2,v=u[f.charCodeAt(p)]>>>6-p%4*2,x=m|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(l,"parseLoop")}(),e.enc.Base64url})});var H5=t0((vy,bL)=>{(function(e,t){typeof vy=="object"?bL.exports=vy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(vy,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.algo,f=[];(function(){for(var m=0;m<64;m++)f[m]=t.abs(t.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,v){for(var x=0;x<16;x++){var S=v+x,E=m[S];m[S]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var R=this._hash.words,B=m[v+0],O=m[v+1],L=m[v+2],F=m[v+3],ve=m[v+4],we=m[v+5],Xt=m[v+6],f0=m[v+7],Jt=m[v+8],c0=m[v+9],yt=m[v+10],je=m[v+11],i0=m[v+12],u0=m[v+13],l0=m[v+14],N0=m[v+15],kt=R[0],o0=R[1],de=R[2],Me=R[3];kt=u(kt,o0,de,Me,B,7,f[0]),Me=u(Me,kt,o0,de,O,12,f[1]),de=u(de,Me,kt,o0,L,17,f[2]),o0=u(o0,de,Me,kt,F,22,f[3]),kt=u(kt,o0,de,Me,ve,7,f[4]),Me=u(Me,kt,o0,de,we,12,f[5]),de=u(de,Me,kt,o0,Xt,17,f[6]),o0=u(o0,de,Me,kt,f0,22,f[7]),kt=u(kt,o0,de,Me,Jt,7,f[8]),Me=u(Me,kt,o0,de,c0,12,f[9]),de=u(de,Me,kt,o0,yt,17,f[10]),o0=u(o0,de,Me,kt,je,22,f[11]),kt=u(kt,o0,de,Me,i0,7,f[12]),Me=u(Me,kt,o0,de,u0,12,f[13]),de=u(de,Me,kt,o0,l0,17,f[14]),o0=u(o0,de,Me,kt,N0,22,f[15]),kt=d(kt,o0,de,Me,O,5,f[16]),Me=d(Me,kt,o0,de,Xt,9,f[17]),de=d(de,Me,kt,o0,je,14,f[18]),o0=d(o0,de,Me,kt,B,20,f[19]),kt=d(kt,o0,de,Me,we,5,f[20]),Me=d(Me,kt,o0,de,yt,9,f[21]),de=d(de,Me,kt,o0,N0,14,f[22]),o0=d(o0,de,Me,kt,ve,20,f[23]),kt=d(kt,o0,de,Me,c0,5,f[24]),Me=d(Me,kt,o0,de,l0,9,f[25]),de=d(de,Me,kt,o0,F,14,f[26]),o0=d(o0,de,Me,kt,Jt,20,f[27]),kt=d(kt,o0,de,Me,u0,5,f[28]),Me=d(Me,kt,o0,de,L,9,f[29]),de=d(de,Me,kt,o0,f0,14,f[30]),o0=d(o0,de,Me,kt,i0,20,f[31]),kt=h(kt,o0,de,Me,we,4,f[32]),Me=h(Me,kt,o0,de,Jt,11,f[33]),de=h(de,Me,kt,o0,je,16,f[34]),o0=h(o0,de,Me,kt,l0,23,f[35]),kt=h(kt,o0,de,Me,O,4,f[36]),Me=h(Me,kt,o0,de,ve,11,f[37]),de=h(de,Me,kt,o0,f0,16,f[38]),o0=h(o0,de,Me,kt,yt,23,f[39]),kt=h(kt,o0,de,Me,u0,4,f[40]),Me=h(Me,kt,o0,de,B,11,f[41]),de=h(de,Me,kt,o0,F,16,f[42]),o0=h(o0,de,Me,kt,Xt,23,f[43]),kt=h(kt,o0,de,Me,c0,4,f[44]),Me=h(Me,kt,o0,de,i0,11,f[45]),de=h(de,Me,kt,o0,N0,16,f[46]),o0=h(o0,de,Me,kt,L,23,f[47]),kt=p(kt,o0,de,Me,B,6,f[48]),Me=p(Me,kt,o0,de,f0,10,f[49]),de=p(de,Me,kt,o0,l0,15,f[50]),o0=p(o0,de,Me,kt,we,21,f[51]),kt=p(kt,o0,de,Me,i0,6,f[52]),Me=p(Me,kt,o0,de,F,10,f[53]),de=p(de,Me,kt,o0,yt,15,f[54]),o0=p(o0,de,Me,kt,O,21,f[55]),kt=p(kt,o0,de,Me,Jt,6,f[56]),Me=p(Me,kt,o0,de,N0,10,f[57]),de=p(de,Me,kt,o0,Xt,15,f[58]),o0=p(o0,de,Me,kt,u0,21,f[59]),kt=p(kt,o0,de,Me,ve,6,f[60]),Me=p(Me,kt,o0,de,je,10,f[61]),de=p(de,Me,kt,o0,L,15,f[62]),o0=p(o0,de,Me,kt,c0,21,f[63]),R[0]=R[0]+kt|0,R[1]=R[1]+o0|0,R[2]=R[2]+de|0,R[3]=R[3]+Me|0},_doFinalize:function(){var m=this._data,v=m.words,x=this._nDataBytes*8,S=m.sigBytes*8;v[S>>>5]|=128<<24-S%32;var E=t.floor(x/4294967296),R=x;v[(S+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,v[(S+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,m.sigBytes=(v.length+1)*4,this._process();for(var B=this._hash,O=B.words,L=0;L<4;L++){var F=O[L];O[L]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return B},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function u(m,v,x,S,E,R,B){var O=m+(v&x|~v&S)+E+B;return(O<<R|O>>>32-R)+v}o(u,"FF");function d(m,v,x,S,E,R,B){var O=m+(v&S|x&~S)+E+B;return(O<<R|O>>>32-R)+v}o(d,"GG");function h(m,v,x,S,E,R,B){var O=m+(v^x^S)+E+B;return(O<<R|O>>>32-R)+v}o(h,"HH");function p(m,v,x,S,E,R,B){var O=m+(x^(v|~S))+E+B;return(O<<R|O>>>32-R)+v}o(p,"II"),r.MD5=a._createHelper(c),r.HmacMD5=a._createHmacHelper(c)}(Math),e.MD5})});var QE=t0((xy,CL)=>{(function(e,t){typeof xy=="object"?CL.exports=xy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,a=t.algo,l=[],f=a.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,u){for(var d=this._hash.words,h=d[0],p=d[1],m=d[2],v=d[3],x=d[4],S=0;S<80;S++){if(S<16)l[S]=c[u+S]|0;else{var E=l[S-3]^l[S-8]^l[S-14]^l[S-16];l[S]=E<<1|E>>>31}var R=(h<<5|h>>>27)+x+l[S];S<20?R+=(p&m|~p&v)+1518500249:S<40?R+=(p^m^v)+1859775393:S<60?R+=(p&m|p&v|m&v)-1894007588:R+=(p^m^v)-899497514,x=v,v=m,m=p<<30|p>>>2,p=h,h=R}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+v|0,d[4]=d[4]+x|0},_doFinalize:function(){var c=this._data,u=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return u[h>>>5]|=128<<24-h%32,u[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),u[(h+64>>>9<<4)+15]=d,c.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=s._createHelper(f),t.HmacSHA1=s._createHmacHelper(f)}(),e.SHA1})});var by=t0((_y,EL)=>{(function(e,t){typeof _y=="object"?EL.exports=_y=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_y,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.algo,f=[],c=[];(function(){function h(x){for(var S=t.sqrt(x),E=2;E<=S;E++)if(!(x%E))return!1;return!0}o(h,"isPrime");function p(x){return(x-(x|0))*4294967296|0}o(p,"getFractionalBits");for(var m=2,v=0;v<64;)h(m)&&(v<8&&(f[v]=p(t.pow(m,1/2))),c[v]=p(t.pow(m,1/3)),v++),m++})();var u=[],d=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,v=m[0],x=m[1],S=m[2],E=m[3],R=m[4],B=m[5],O=m[6],L=m[7],F=0;F<64;F++){if(F<16)u[F]=h[p+F]|0;else{var ve=u[F-15],we=(ve<<25|ve>>>7)^(ve<<14|ve>>>18)^ve>>>3,Xt=u[F-2],f0=(Xt<<15|Xt>>>17)^(Xt<<13|Xt>>>19)^Xt>>>10;u[F]=we+u[F-7]+f0+u[F-16]}var Jt=R&B^~R&O,c0=v&x^v&S^x&S,yt=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),je=(R<<26|R>>>6)^(R<<21|R>>>11)^(R<<7|R>>>25),i0=L+je+Jt+c[F]+u[F],u0=yt+c0;L=O,O=B,B=R,R=E+i0|0,E=S,S=x,x=v,v=i0+u0|0}m[0]=m[0]+v|0,m[1]=m[1]+x|0,m[2]=m[2]+S|0,m[3]=m[3]+E|0,m[4]=m[4]+R|0,m[5]=m[5]+B|0,m[6]=m[6]+O|0,m[7]=m[7]+L|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,v=h.sigBytes*8;return p[v>>>5]|=128<<24-v%32,p[(v+64>>>9<<4)+14]=t.floor(m/4294967296),p[(v+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA256=a._createHelper(d),r.HmacSHA256=a._createHmacHelper(d)}(Math),e.SHA256})});var SL=t0((Cy,TL)=>{(function(e,t,r){typeof Cy=="object"?TL.exports=Cy=t(Cs(),by()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Cy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=a._doFinalize.call(this);return f.sigBytes-=4,f}});t.SHA224=a._createHelper(l),t.HmacSHA224=a._createHmacHelper(l)}(),e.SHA224})});var eT=t0((Ey,wL)=>{(function(e,t,r){typeof Ey=="object"?wL.exports=Ey=t(Cs(),qm()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Ey,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,a=s.Word,l=s.WordArray,f=t.algo;function c(){return a.create.apply(a,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=c()})();var h=f.SHA512=n.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var v=this._hash.words,x=v[0],S=v[1],E=v[2],R=v[3],B=v[4],O=v[5],L=v[6],F=v[7],ve=x.high,we=x.low,Xt=S.high,f0=S.low,Jt=E.high,c0=E.low,yt=R.high,je=R.low,i0=B.high,u0=B.low,l0=O.high,N0=O.low,kt=L.high,o0=L.low,de=F.high,Me=F.low,b0=ve,H0=we,F0=Xt,y0=f0,Er=Jt,Se=c0,O0=yt,St=je,L0=i0,k0=u0,z0=l0,Sr=N0,zr=kt,Mr=o0,le=de,nn=Me,mr=0;mr<80;mr++){var Vs,Bs,ra=d[mr];if(mr<16)Bs=ra.high=p[m+mr*2]|0,Vs=ra.low=p[m+mr*2+1]|0;else{var Os=d[mr-15],Da=Os.high,Ja=Os.low,Cl=(Da>>>1|Ja<<31)^(Da>>>8|Ja<<24)^Da>>>7,Xa=(Ja>>>1|Da<<31)^(Ja>>>8|Da<<24)^(Ja>>>7|Da<<25),hn=d[mr-2],Ue=hn.high,V=hn.low,W=(Ue>>>19|V<<13)^(Ue<<3|V>>>29)^Ue>>>6,M0=(V>>>19|Ue<<13)^(V<<3|Ue>>>29)^(V>>>6|Ue<<26),an=d[mr-7],Qi=an.high,hs=an.low,cn=d[mr-16],ks=cn.high,Fi=cn.low;Vs=Xa+hs,Bs=Cl+Qi+(Vs>>>0<Xa>>>0?1:0),Vs=Vs+M0,Bs=Bs+W+(Vs>>>0<M0>>>0?1:0),Vs=Vs+Fi,Bs=Bs+ks+(Vs>>>0<Fi>>>0?1:0),ra.high=Bs,ra.low=Vs}var Us=L0&z0^~L0&zr,us=k0&Sr^~k0&Mr,Fs=b0&F0^b0&Er^F0&Er,Dr=H0&y0^H0&Se^y0&Se,zf=(b0>>>28|H0<<4)^(b0<<30|H0>>>2)^(b0<<25|H0>>>7),Iu=(H0>>>28|b0<<4)^(H0<<30|b0>>>2)^(H0<<25|b0>>>7),El=(L0>>>14|k0<<18)^(L0>>>18|k0<<14)^(L0<<23|k0>>>9),pc=(k0>>>14|L0<<18)^(k0>>>18|L0<<14)^(k0<<23|L0>>>9),Ef=u[mr],Zc=Ef.high,s0=Ef.low,Q=nn+pc,bt=le+El+(Q>>>0<nn>>>0?1:0),Q=Q+us,bt=bt+Us+(Q>>>0<us>>>0?1:0),Q=Q+s0,bt=bt+Zc+(Q>>>0<s0>>>0?1:0),Q=Q+Vs,bt=bt+Bs+(Q>>>0<Vs>>>0?1:0),wt=Iu+Dr,_e=zf+Fs+(wt>>>0<Iu>>>0?1:0);le=zr,nn=Mr,zr=z0,Mr=Sr,z0=L0,Sr=k0,k0=St+Q|0,L0=O0+bt+(k0>>>0<St>>>0?1:0)|0,O0=Er,St=Se,Er=F0,Se=y0,F0=b0,y0=H0,H0=Q+wt|0,b0=bt+_e+(H0>>>0<Q>>>0?1:0)|0}we=x.low=we+H0,x.high=ve+b0+(we>>>0<H0>>>0?1:0),f0=S.low=f0+y0,S.high=Xt+F0+(f0>>>0<y0>>>0?1:0),c0=E.low=c0+Se,E.high=Jt+Er+(c0>>>0<Se>>>0?1:0),je=R.low=je+St,R.high=yt+O0+(je>>>0<St>>>0?1:0),u0=B.low=u0+k0,B.high=i0+L0+(u0>>>0<k0>>>0?1:0),N0=O.low=N0+Sr,O.high=l0+z0+(N0>>>0<Sr>>>0?1:0),o0=L.low=o0+Mr,L.high=kt+zr+(o0>>>0<Mr>>>0?1:0),Me=F.low=Me+nn,F.high=de+le+(Me>>>0<nn>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,v=this._nDataBytes*8,x=p.sigBytes*8;m[x>>>5]|=128<<24-x%32,m[(x+128>>>10<<5)+30]=Math.floor(v/4294967296),m[(x+128>>>10<<5)+31]=v,p.sigBytes=m.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});t.SHA512=n._createHelper(h),t.HmacSHA512=n._createHmacHelper(h)}(),e.SHA512})});var AL=t0((Ty,IL)=>{(function(e,t,r){typeof Ty=="object"?IL.exports=Ty=t(Cs(),qm(),eT()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Ty,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,a=t.algo,l=a.SHA512,f=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=l._createHelper(f),t.HmacSHA384=l._createHmacHelper(f)}(),e.SHA384})});var RL=t0((Sy,PL)=>{(function(e,t,r){typeof Sy=="object"?PL.exports=Sy=t(Cs(),qm()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Sy,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.x64,f=l.Word,c=r.algo,u=[],d=[],h=[];(function(){for(var v=1,x=0,S=0;S<24;S++){u[v+5*x]=(S+1)*(S+2)/2%64;var E=x%5,R=(2*v+3*x)%5;v=E,x=R}for(var v=0;v<5;v++)for(var x=0;x<5;x++)d[v+5*x]=x+(2*v+3*x)%5*5;for(var B=1,O=0;O<24;O++){for(var L=0,F=0,ve=0;ve<7;ve++){if(B&1){var we=(1<<ve)-1;we<32?F^=1<<we:L^=1<<we-32}B&128?B=B<<1^113:B<<=1}h[O]=f.create(L,F)}})();var p=[];(function(){for(var v=0;v<25;v++)p[v]=f.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],x=0;x<25;x++)v[x]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,x){for(var S=this._state,E=this.blockSize/2,R=0;R<E;R++){var B=v[x+2*R],O=v[x+2*R+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360;var L=S[R];L.high^=O,L.low^=B}for(var F=0;F<24;F++){for(var ve=0;ve<5;ve++){for(var we=0,Xt=0,f0=0;f0<5;f0++){var L=S[ve+5*f0];we^=L.high,Xt^=L.low}var Jt=p[ve];Jt.high=we,Jt.low=Xt}for(var ve=0;ve<5;ve++)for(var c0=p[(ve+4)%5],yt=p[(ve+1)%5],je=yt.high,i0=yt.low,we=c0.high^(je<<1|i0>>>31),Xt=c0.low^(i0<<1|je>>>31),f0=0;f0<5;f0++){var L=S[ve+5*f0];L.high^=we,L.low^=Xt}for(var u0=1;u0<25;u0++){var we,Xt,L=S[u0],l0=L.high,N0=L.low,kt=u[u0];kt<32?(we=l0<<kt|N0>>>32-kt,Xt=N0<<kt|l0>>>32-kt):(we=N0<<kt-32|l0>>>64-kt,Xt=l0<<kt-32|N0>>>64-kt);var o0=p[d[u0]];o0.high=we,o0.low=Xt}var de=p[0],Me=S[0];de.high=Me.high,de.low=Me.low;for(var ve=0;ve<5;ve++)for(var f0=0;f0<5;f0++){var u0=ve+5*f0,L=S[u0],b0=p[u0],H0=p[(ve+1)%5+5*f0],F0=p[(ve+2)%5+5*f0];L.high=b0.high^~H0.high&F0.high,L.low=b0.low^~H0.low&F0.low}var L=S[0],y0=h[F];L.high^=y0.high,L.low^=y0.low}},_doFinalize:function(){var v=this._data,x=v.words,S=this._nDataBytes*8,E=v.sigBytes*8,R=this.blockSize*32;x[E>>>5]|=1<<24-E%32,x[(t.ceil((E+1)/R)*R>>>5)-1]|=128,v.sigBytes=x.length*4,this._process();for(var B=this._state,O=this.cfg.outputLength/8,L=O/8,F=[],ve=0;ve<L;ve++){var we=B[ve],Xt=we.high,f0=we.low;Xt=(Xt<<8|Xt>>>24)&16711935|(Xt<<24|Xt>>>8)&4278255360,f0=(f0<<8|f0>>>24)&16711935|(f0<<24|f0>>>8)&4278255360,F.push(f0),F.push(Xt)}return new s.init(F,O)},clone:function(){for(var v=a.clone.call(this),x=v._state=this._state.slice(0),S=0;S<25;S++)x[S]=x[S].clone();return v}});r.SHA3=a._createHelper(m),r.HmacSHA3=a._createHmacHelper(m)}(Math),e.SHA3})});var kL=t0((wy,NL)=>{(function(e,t){typeof wy=="object"?NL.exports=wy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(wy,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,L){for(var F=0;F<16;F++){var ve=L+F,we=O[ve];O[ve]=(we<<8|we>>>24)&16711935|(we<<24|we>>>8)&4278255360}var Xt=this._hash.words,f0=h.words,Jt=p.words,c0=f.words,yt=c.words,je=u.words,i0=d.words,u0,l0,N0,kt,o0,de,Me,b0,H0,F0;de=u0=Xt[0],Me=l0=Xt[1],b0=N0=Xt[2],H0=kt=Xt[3],F0=o0=Xt[4];for(var y0,F=0;F<80;F+=1)y0=u0+O[L+c0[F]]|0,F<16?y0+=v(l0,N0,kt)+f0[0]:F<32?y0+=x(l0,N0,kt)+f0[1]:F<48?y0+=S(l0,N0,kt)+f0[2]:F<64?y0+=E(l0,N0,kt)+f0[3]:y0+=R(l0,N0,kt)+f0[4],y0=y0|0,y0=B(y0,je[F]),y0=y0+o0|0,u0=o0,o0=kt,kt=B(N0,10),N0=l0,l0=y0,y0=de+O[L+yt[F]]|0,F<16?y0+=R(Me,b0,H0)+Jt[0]:F<32?y0+=E(Me,b0,H0)+Jt[1]:F<48?y0+=S(Me,b0,H0)+Jt[2]:F<64?y0+=x(Me,b0,H0)+Jt[3]:y0+=v(Me,b0,H0)+Jt[4],y0=y0|0,y0=B(y0,i0[F]),y0=y0+F0|0,de=F0,F0=H0,H0=B(b0,10),b0=Me,Me=y0;y0=Xt[1]+N0+H0|0,Xt[1]=Xt[2]+kt+F0|0,Xt[2]=Xt[3]+o0+de|0,Xt[3]=Xt[4]+u0+Me|0,Xt[4]=Xt[0]+l0+b0|0,Xt[0]=y0},_doFinalize:function(){var O=this._data,L=O.words,F=this._nDataBytes*8,ve=O.sigBytes*8;L[ve>>>5]|=128<<24-ve%32,L[(ve+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,O.sigBytes=(L.length+1)*4,this._process();for(var we=this._hash,Xt=we.words,f0=0;f0<5;f0++){var Jt=Xt[f0];Xt[f0]=(Jt<<8|Jt>>>24)&16711935|(Jt<<24|Jt>>>8)&4278255360}return we},clone:function(){var O=a.clone.call(this);return O._hash=this._hash.clone(),O}});function v(O,L,F){return O^L^F}o(v,"f1");function x(O,L,F){return O&L|~O&F}o(x,"f2");function S(O,L,F){return(O|~L)^F}o(S,"f3");function E(O,L,F){return O&F|L&~F}o(E,"f4");function R(O,L,F){return O^(L|~F)}o(R,"f5");function B(O,L){return O<<L|O>>>32-L}o(B,"rotl"),r.RIPEMD160=a._createHelper(m),r.HmacRIPEMD160=a._createHmacHelper(m)}(Math),e.RIPEMD160})});var Ay=t0((Iy,DL)=>{(function(e,t){typeof Iy=="object"?DL.exports=Iy=t(Cs()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Iy,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,a=s.Utf8,l=t.algo,f=l.HMAC=n.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var d=c.blockSize,h=d*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),m=this._iKey=u.clone(),v=p.words,x=m.words,S=0;S<d;S++)v[S]^=1549556828,x[S]^=909522486;p.sigBytes=m.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,d=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(d));return h}})})()})});var BL=t0((Py,LL)=>{(function(e,t,r){typeof Py=="object"?LL.exports=Py=t(Cs(),by(),Ay()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(Py,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,a=t.algo,l=a.SHA256,f=a.HMAC,c=a.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var h=this.cfg,p=f.create(h.hasher,u),m=s.create(),v=s.create([1]),x=m.words,S=v.words,E=h.keySize,R=h.iterations;x.length<E;){var B=p.update(d).finalize(v);p.reset();for(var O=B.words,L=O.length,F=B,ve=1;ve<R;ve++){F=p.finalize(F),p.reset();for(var we=F.words,Xt=0;Xt<L;Xt++)O[Xt]^=we[Xt]}m.concat(B),S[0]++}return m.sigBytes=E*4,m}});t.PBKDF2=function(u,d,h){return c.create(h).compute(u,d)}}(),e.PBKDF2})});var cd=t0((Ry,OL)=>{(function(e,t,r){typeof Ry=="object"?OL.exports=Ry=t(Cs(),QE(),Ay()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Ry,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,a=t.algo,l=a.MD5,f=a.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d,h=this.cfg,p=h.hasher.create(),m=s.create(),v=m.words,x=h.keySize,S=h.iterations;v.length<x;){d&&p.update(d),d=p.update(c).finalize(u),p.reset();for(var E=1;E<S;E++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=x*4,m}});t.EvpKDF=function(c,u,d){return f.create(d).compute(c,u)}}(),e.EvpKDF})});var el=t0((Ny,FL)=>{(function(e,t,r){typeof Ny=="object"?FL.exports=Ny=t(Cs(),cd()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(Ny,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,a=n.WordArray,l=n.BufferedBlockAlgorithm,f=r.enc,c=f.Utf8,u=f.Base64,d=r.algo,h=d.EvpKDF,p=n.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(Jt,c0){return this.create(this._ENC_XFORM_MODE,Jt,c0)},createDecryptor:function(Jt,c0){return this.create(this._DEC_XFORM_MODE,Jt,c0)},init:function(Jt,c0,yt){this.cfg=this.cfg.extend(yt),this._xformMode=Jt,this._key=c0,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(Jt){return this._append(Jt),this._process()},finalize:function(Jt){Jt&&this._append(Jt);var c0=this._doFinalize();return c0},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Jt(c0){return typeof c0=="string"?f0:ve}return o(Jt,"selectCipherStrategy"),function(c0){return{encrypt:function(yt,je,i0){return Jt(je).encrypt(c0,yt,je,i0)},decrypt:function(yt,je,i0){return Jt(je).decrypt(c0,yt,je,i0)}}}}()}),m=n.StreamCipher=p.extend({_doFinalize:function(){var Jt=this._process(!0);return Jt},blockSize:1}),v=r.mode={},x=n.BlockCipherMode=s.extend({createEncryptor:function(Jt,c0){return this.Encryptor.create(Jt,c0)},createDecryptor:function(Jt,c0){return this.Decryptor.create(Jt,c0)},init:function(Jt,c0){this._cipher=Jt,this._iv=c0}}),S=v.CBC=function(){var Jt=x.extend();Jt.Encryptor=Jt.extend({processBlock:function(yt,je){var i0=this._cipher,u0=i0.blockSize;c0.call(this,yt,je,u0),i0.encryptBlock(yt,je),this._prevBlock=yt.slice(je,je+u0)}}),Jt.Decryptor=Jt.extend({processBlock:function(yt,je){var i0=this._cipher,u0=i0.blockSize,l0=yt.slice(je,je+u0);i0.decryptBlock(yt,je),c0.call(this,yt,je,u0),this._prevBlock=l0}});function c0(yt,je,i0){var u0,l0=this._iv;l0?(u0=l0,this._iv=t):u0=this._prevBlock;for(var N0=0;N0<i0;N0++)yt[je+N0]^=u0[N0]}return o(c0,"xorBlock"),Jt}(),E=r.pad={},R=E.Pkcs7={pad:function(Jt,c0){for(var yt=c0*4,je=yt-Jt.sigBytes%yt,i0=je<<24|je<<16|je<<8|je,u0=[],l0=0;l0<je;l0+=4)u0.push(i0);var N0=a.create(u0,je);Jt.concat(N0)},unpad:function(Jt){var c0=Jt.words[Jt.sigBytes-1>>>2]&255;Jt.sigBytes-=c0}},B=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:S,padding:R}),reset:function(){var Jt;p.reset.call(this);var c0=this.cfg,yt=c0.iv,je=c0.mode;this._xformMode==this._ENC_XFORM_MODE?Jt=je.createEncryptor:(Jt=je.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Jt?this._mode.init(this,yt&&yt.words):(this._mode=Jt.call(je,this,yt&&yt.words),this._mode.__creator=Jt)},_doProcessBlock:function(Jt,c0){this._mode.processBlock(Jt,c0)},_doFinalize:function(){var Jt,c0=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(c0.pad(this._data,this.blockSize),Jt=this._process(!0)):(Jt=this._process(!0),c0.unpad(Jt)),Jt},blockSize:128/32}),O=n.CipherParams=s.extend({init:function(Jt){this.mixIn(Jt)},toString:function(Jt){return(Jt||this.formatter).stringify(this)}}),L=r.format={},F=L.OpenSSL={stringify:function(Jt){var c0,yt=Jt.ciphertext,je=Jt.salt;return je?c0=a.create([1398893684,1701076831]).concat(je).concat(yt):c0=yt,c0.toString(u)},parse:function(Jt){var c0,yt=u.parse(Jt),je=yt.words;return je[0]==1398893684&&je[1]==1701076831&&(c0=a.create(je.slice(2,4)),je.splice(0,4),yt.sigBytes-=16),O.create({ciphertext:yt,salt:c0})}},ve=n.SerializableCipher=s.extend({cfg:s.extend({format:F}),encrypt:function(Jt,c0,yt,je){je=this.cfg.extend(je);var i0=Jt.createEncryptor(yt,je),u0=i0.finalize(c0),l0=i0.cfg;return O.create({ciphertext:u0,key:yt,iv:l0.iv,algorithm:Jt,mode:l0.mode,padding:l0.padding,blockSize:Jt.blockSize,formatter:je.format})},decrypt:function(Jt,c0,yt,je){je=this.cfg.extend(je),c0=this._parse(c0,je.format);var i0=Jt.createDecryptor(yt,je).finalize(c0.ciphertext);return i0},_parse:function(Jt,c0){return typeof Jt=="string"?c0.parse(Jt,this):Jt}}),we=r.kdf={},Xt=we.OpenSSL={execute:function(Jt,c0,yt,je,i0){if(je||(je=a.random(64/8)),i0)var u0=h.create({keySize:c0+yt,hasher:i0}).compute(Jt,je);else var u0=h.create({keySize:c0+yt}).compute(Jt,je);var l0=a.create(u0.words.slice(c0),yt*4);return u0.sigBytes=c0*4,O.create({key:u0,iv:l0,salt:je})}},f0=n.PasswordBasedCipher=ve.extend({cfg:ve.cfg.extend({kdf:Xt}),encrypt:function(Jt,c0,yt,je){je=this.cfg.extend(je);var i0=je.kdf.execute(yt,Jt.keySize,Jt.ivSize,je.salt,je.hasher);je.iv=i0.iv;var u0=ve.encrypt.call(this,Jt,c0,i0.key,je);return u0.mixIn(i0),u0},decrypt:function(Jt,c0,yt,je){je=this.cfg.extend(je),c0=this._parse(c0,je.format);var i0=je.kdf.execute(yt,Jt.keySize,Jt.ivSize,c0.salt,je.hasher);je.iv=i0.iv;var u0=ve.decrypt.call(this,Jt,c0,i0.key,je);return u0}})}()})});var UL=t0((ky,ML)=>{(function(e,t,r){typeof ky=="object"?ML.exports=ky=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ky,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize;r.call(this,n,s,l,a),this._prevBlock=n.slice(s,s+l)}}),t.Decryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize,f=n.slice(s,s+l);r.call(this,n,s,l,a),this._prevBlock=f}});function r(n,s,a,l){var f,c=this._iv;c?(f=c.slice(0),this._iv=void 0):f=this._prevBlock,l.encryptBlock(f,0);for(var u=0;u<a;u++)n[s+u]^=f[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var jL=t0((Dy,qL)=>{(function(e,t,r){typeof Dy=="object"?qL.exports=Dy=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dy,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize,f=this._iv,c=this._counter;f&&(c=this._counter=f.slice(0),this._iv=void 0);var u=c.slice(0);a.encryptBlock(u,0),c[l-1]=c[l-1]+1|0;for(var d=0;d<l;d++)n[s+d]^=u[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var HL=t0((Ly,$L)=>{(function(e,t,r){typeof Ly=="object"?$L.exports=Ly=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ly,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(a){if((a>>24&255)===255){var l=a>>16&255,f=a>>8&255,c=a&255;l===255?(l=0,f===255?(f=0,c===255?c=0:++c):++f):++l,a=0,a+=l<<16,a+=f<<8,a+=c}else a+=1<<24;return a}o(r,"incWord");function n(a){return(a[0]=r(a[0]))===0&&(a[1]=r(a[1])),a}o(n,"incCounter");var s=t.Encryptor=t.extend({processBlock:function(a,l){var f=this._cipher,c=f.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0),n(d);var h=d.slice(0);f.encryptBlock(h,0);for(var p=0;p<c;p++)a[l+p]^=h[p]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var zL=t0((By,VL)=>{(function(e,t,r){typeof By=="object"?VL.exports=By=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(By,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize,f=this._iv,c=this._keystream;f&&(c=this._keystream=f.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var u=0;u<l;u++)n[s+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.OFB})});var KL=t0((Oy,GL)=>{(function(e,t,r){typeof Oy=="object"?GL.exports=Oy=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Oy,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var YL=t0((Fy,WL)=>{(function(e,t,r){typeof Fy=="object"?WL.exports=Fy=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Fy,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,a=s-n%s,l=n+a-1;t.clamp(),t.words[l>>>2]|=a<<24-l%4*8,t.sigBytes+=a},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var XL=t0((My,JL)=>{(function(e,t,r){typeof My=="object"?JL.exports=My=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(My,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var QL=t0((Uy,ZL)=>{(function(e,t,r){typeof Uy=="object"?ZL.exports=Uy=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Uy,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var tB=t0((qy,eB)=>{(function(e,t,r){typeof qy=="object"?eB.exports=qy=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(qy,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var nB=t0((jy,rB)=>{(function(e,t,r){typeof jy=="object"?rB.exports=jy=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(jy,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var sB=t0(($y,iB)=>{(function(e,t,r){typeof $y=="object"?iB.exports=$y=t(Cs(),el()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})($y,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,a=r.enc,l=a.Hex,f=r.format,c=f.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var d=l.parse(u);return s.create({ciphertext:d})}}}(),e.format.Hex})});var aB=t0((Hy,oB)=>{(function(e,t,r){typeof Hy=="object"?oB.exports=Hy=t(Cs(),$5(),H5(),cd(),el()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Hy,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,a=[],l=[],f=[],c=[],u=[],d=[],h=[],p=[],m=[],v=[];(function(){for(var E=[],R=0;R<256;R++)R<128?E[R]=R<<1:E[R]=R<<1^283;for(var B=0,O=0,R=0;R<256;R++){var L=O^O<<1^O<<2^O<<3^O<<4;L=L>>>8^L&255^99,a[B]=L,l[L]=B;var F=E[B],ve=E[F],we=E[ve],Xt=E[L]*257^L*16843008;f[B]=Xt<<24|Xt>>>8,c[B]=Xt<<16|Xt>>>16,u[B]=Xt<<8|Xt>>>24,d[B]=Xt;var Xt=we*16843009^ve*65537^F*257^B*16843008;h[L]=Xt<<24|Xt>>>8,p[L]=Xt<<16|Xt>>>16,m[L]=Xt<<8|Xt>>>24,v[L]=Xt,B?(B=F^E[E[E[we^F]]],O^=E[E[O]]):B=O=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],S=s.AES=n.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var R=this._keyPriorReset=this._key,B=R.words,O=R.sigBytes/4,L=this._nRounds=O+6,F=(L+1)*4,ve=this._keySchedule=[],we=0;we<F;we++)we<O?ve[we]=B[we]:(E=ve[we-1],we%O?O>6&&we%O==4&&(E=a[E>>>24]<<24|a[E>>>16&255]<<16|a[E>>>8&255]<<8|a[E&255]):(E=E<<8|E>>>24,E=a[E>>>24]<<24|a[E>>>16&255]<<16|a[E>>>8&255]<<8|a[E&255],E^=x[we/O|0]<<24),ve[we]=ve[we-O]^E);for(var Xt=this._invKeySchedule=[],f0=0;f0<F;f0++){var we=F-f0;if(f0%4)var E=ve[we];else var E=ve[we-4];f0<4||we<=4?Xt[f0]=E:Xt[f0]=h[a[E>>>24]]^p[a[E>>>16&255]]^m[a[E>>>8&255]]^v[a[E&255]]}}},encryptBlock:function(E,R){this._doCryptBlock(E,R,this._keySchedule,f,c,u,d,a)},decryptBlock:function(E,R){var B=E[R+1];E[R+1]=E[R+3],E[R+3]=B,this._doCryptBlock(E,R,this._invKeySchedule,h,p,m,v,l);var B=E[R+1];E[R+1]=E[R+3],E[R+3]=B},_doCryptBlock:function(E,R,B,O,L,F,ve,we){for(var Xt=this._nRounds,f0=E[R]^B[0],Jt=E[R+1]^B[1],c0=E[R+2]^B[2],yt=E[R+3]^B[3],je=4,i0=1;i0<Xt;i0++){var u0=O[f0>>>24]^L[Jt>>>16&255]^F[c0>>>8&255]^ve[yt&255]^B[je++],l0=O[Jt>>>24]^L[c0>>>16&255]^F[yt>>>8&255]^ve[f0&255]^B[je++],N0=O[c0>>>24]^L[yt>>>16&255]^F[f0>>>8&255]^ve[Jt&255]^B[je++],kt=O[yt>>>24]^L[f0>>>16&255]^F[Jt>>>8&255]^ve[c0&255]^B[je++];f0=u0,Jt=l0,c0=N0,yt=kt}var u0=(we[f0>>>24]<<24|we[Jt>>>16&255]<<16|we[c0>>>8&255]<<8|we[yt&255])^B[je++],l0=(we[Jt>>>24]<<24|we[c0>>>16&255]<<16|we[yt>>>8&255]<<8|we[f0&255])^B[je++],N0=(we[c0>>>24]<<24|we[yt>>>16&255]<<16|we[f0>>>8&255]<<8|we[Jt&255])^B[je++],kt=(we[yt>>>24]<<24|we[f0>>>16&255]<<16|we[Jt>>>8&255]<<8|we[c0&255])^B[je++];E[R]=u0,E[R+1]=l0,E[R+2]=N0,E[R+3]=kt},keySize:256/32});t.AES=n._createHelper(S)}(),e.AES})});var fB=t0((Vy,lB)=>{(function(e,t,r){typeof Vy=="object"?lB.exports=Vy=t(Cs(),$5(),H5(),cd(),el()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Vy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,a=t.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=s.extend({_doReset:function(){for(var x=this._key,S=x.words,E=[],R=0;R<56;R++){var B=l[R]-1;E[R]=S[B>>>5]>>>31-B%32&1}for(var O=this._subKeys=[],L=0;L<16;L++){for(var F=O[L]=[],ve=c[L],R=0;R<24;R++)F[R/6|0]|=E[(f[R]-1+ve)%28]<<31-R%6,F[4+(R/6|0)]|=E[28+(f[R+24]-1+ve)%28]<<31-R%6;F[0]=F[0]<<1|F[0]>>>31;for(var R=1;R<7;R++)F[R]=F[R]>>>(R-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var we=this._invSubKeys=[],R=0;R<16;R++)we[R]=O[15-R]},encryptBlock:function(x,S){this._doCryptBlock(x,S,this._subKeys)},decryptBlock:function(x,S){this._doCryptBlock(x,S,this._invSubKeys)},_doCryptBlock:function(x,S,E){this._lBlock=x[S],this._rBlock=x[S+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var R=0;R<16;R++){for(var B=E[R],O=this._lBlock,L=this._rBlock,F=0,ve=0;ve<8;ve++)F|=u[ve][((L^B[ve])&d[ve])>>>0];this._lBlock=L,this._rBlock=O^F}var we=this._lBlock;this._lBlock=this._rBlock,this._rBlock=we,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),x[S]=this._lBlock,x[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(x,S){var E=(this._lBlock>>>x^this._rBlock)&S;this._rBlock^=E,this._lBlock^=E<<x}o(p,"exchangeLR");function m(x,S){var E=(this._rBlock>>>x^this._lBlock)&S;this._lBlock^=E,this._rBlock^=E<<x}o(m,"exchangeRL"),t.DES=s._createHelper(h);var v=a.TripleDES=s.extend({_doReset:function(){var x=this._key,S=x.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=S.slice(0,2),R=S.length<4?S.slice(0,2):S.slice(2,4),B=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=h.createEncryptor(n.create(E)),this._des2=h.createEncryptor(n.create(R)),this._des3=h.createEncryptor(n.create(B))},encryptBlock:function(x,S){this._des1.encryptBlock(x,S),this._des2.decryptBlock(x,S),this._des3.encryptBlock(x,S)},decryptBlock:function(x,S){this._des3.decryptBlock(x,S),this._des2.encryptBlock(x,S),this._des1.decryptBlock(x,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(v)}(),e.TripleDES})});var uB=t0((zy,cB)=>{(function(e,t,r){typeof zy=="object"?cB.exports=zy=t(Cs(),$5(),H5(),cd(),el()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(zy,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=s.RC4=n.extend({_doReset:function(){for(var c=this._key,u=c.words,d=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var v=p%d,x=u[v>>>2]>>>24-v%4*8&255;m=(m+h[p]+x)%256;var S=h[p];h[p]=h[m],h[m]=S}this._i=this._j=0},_doProcessBlock:function(c,u){c[u]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,u=this._i,d=this._j,h=0,p=0;p<4;p++){u=(u+1)%256,d=(d+c[u])%256;var m=c[u];c[u]=c[d],c[d]=m,h|=c[(c[u]+c[d])%256]<<24-p*8}return this._i=u,this._j=d,h}o(l,"generateKeystreamWord"),t.RC4=n._createHelper(a);var f=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});t.RC4Drop=n._createHelper(f)}(),e.RC4})});var hB=t0((Gy,dB)=>{(function(e,t,r){typeof Gy=="object"?dB.exports=Gy=t(Cs(),$5(),H5(),cd(),el()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Gy,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=[],l=[],f=[],c=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)v[p]^=m[p+4&7];if(h){var x=h.words,S=x[0],E=x[1],R=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,O=R>>>16|B&4294901760,L=B<<16|R&65535;v[0]^=R,v[1]^=O,v[2]^=B,v[3]^=L,v[4]^=R,v[5]^=O,v[6]^=B,v[7]^=L;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(d,h){var p=this._X;u.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,x=m>>>16,S=((v*v>>>17)+v*x>>>15)+x*x,E=((m&4294901760)*m|0)+((m&65535)*m|0);f[p]=S^E}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var mB=t0((Ky,gB)=>{(function(e,t,r){typeof Ky=="object"?gB.exports=Ky=t(Cs(),$5(),H5(),cd(),el()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Ky,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=[],l=[],f=[],c=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)u.call(this);for(var v=0;v<8;v++)m[v]^=p[v+4&7];if(h){var x=h.words,S=x[0],E=x[1],R=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,O=R>>>16|B&4294901760,L=B<<16|R&65535;m[0]^=R,m[1]^=O,m[2]^=B,m[3]^=L,m[4]^=R,m[5]^=O,m[6]^=B,m[7]^=L;for(var v=0;v<4;v++)u.call(this)}},_doProcessBlock:function(d,h){var p=this._X;u.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,x=m>>>16,S=((v*v>>>17)+v*x>>>15)+x*x,E=((m&4294901760)*m|0)+((m&65535)*m|0);f[p]=S^E}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var yB=t0((Wy,pB)=>{(function(e,t,r){typeof Wy=="object"?pB.exports=Wy=t(Cs(),$5(),H5(),cd(),el()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Wy,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(v,x){let S=x>>24&255,E=x>>16&255,R=x>>8&255,B=x&255,O=v.sbox[0][S]+v.sbox[1][E];return O=O^v.sbox[2][R],O=O+v.sbox[3][B],O}o(u,"F");function d(v,x,S){let E=x,R=S,B;for(let O=0;O<a;++O)E=E^v.pbox[O],R=u(v,E)^R,B=E,E=R,R=B;return B=E,E=R,R=B,R=R^v.pbox[a],E=E^v.pbox[a+1],{left:E,right:R}}o(d,"BlowFish_Encrypt");function h(v,x,S){let E=x,R=S,B;for(let O=a+1;O>1;--O)E=E^v.pbox[O],R=u(v,E)^R,B=E,E=R,R=B;return B=E,E=R,R=B,R=R^v.pbox[1],E=E^v.pbox[0],{left:E,right:R}}o(h,"BlowFish_Decrypt");function p(v,x,S){for(let L=0;L<4;L++){v.sbox[L]=[];for(let F=0;F<256;F++)v.sbox[L][F]=f[L][F]}let E=0;for(let L=0;L<a+2;L++)v.pbox[L]=l[L]^x[E],E++,E>=S&&(E=0);let R=0,B=0,O=0;for(let L=0;L<a+2;L+=2)O=d(v,R,B),R=O.left,B=O.right,v.pbox[L]=R,v.pbox[L+1]=B;for(let L=0;L<4;L++)for(let F=0;F<256;F+=2)O=d(v,R,B),R=O.left,B=O.right,v.sbox[L][F]=R,v.sbox[L][F+1]=B;return!0}o(p,"BlowFishInit");var m=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,x=v.words,S=v.sigBytes/4;p(c,x,S)}},encryptBlock:function(v,x){var S=d(c,v[x],v[x+1]);v[x]=S.left,v[x+1]=S.right},decryptBlock:function(v,x){var S=h(c,v[x],v[x+1]);v[x]=S.left,v[x+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var jm=t0((Yy,vB)=>{(function(e,t,r){typeof Yy=="object"?vB.exports=Yy=t(Cs(),qm(),mL(),yL(),$5(),_L(),H5(),QE(),by(),SL(),eT(),AL(),RL(),kL(),Ay(),BL(),cd(),el(),UL(),jL(),HL(),zL(),KL(),YL(),XL(),QL(),tB(),nB(),sB(),aB(),fB(),uB(),hB(),mB(),yB()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Yy,function(e){return e})});var s8=t0(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.stringArray=nf.array=nf.func=nf.error=nf.number=nf.string=nf.boolean=void 0;function UJ(e){return e===!0||e===!1}o(UJ,"boolean");nf.boolean=UJ;function CB(e){return typeof e=="string"||e instanceof String}o(CB,"string");nf.string=CB;function qJ(e){return typeof e=="number"||e instanceof Number}o(qJ,"number");nf.number=qJ;function jJ(e){return e instanceof Error}o(jJ,"error");nf.error=jJ;function $J(e){return typeof e=="function"}o($J,"func");nf.func=$J;function EB(e){return Array.isArray(e)}o(EB,"array");nf.array=EB;function HJ(e){return EB(e)&&e.every(t=>CB(t))}o(HJ,"stringArray");nf.stringArray=HJ});var XT=t0(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.Message=Ur.NotificationType9=Ur.NotificationType8=Ur.NotificationType7=Ur.NotificationType6=Ur.NotificationType5=Ur.NotificationType4=Ur.NotificationType3=Ur.NotificationType2=Ur.NotificationType1=Ur.NotificationType0=Ur.NotificationType=Ur.RequestType9=Ur.RequestType8=Ur.RequestType7=Ur.RequestType6=Ur.RequestType5=Ur.RequestType4=Ur.RequestType3=Ur.RequestType2=Ur.RequestType1=Ur.RequestType=Ur.RequestType0=Ur.AbstractMessageSignature=Ur.ParameterStructures=Ur.ResponseError=Ur.ErrorCodes=void 0;var e4=s8(),iT;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(iT||(Ur.ErrorCodes=iT={}));var Zy=class Zy extends Error{constructor(t,r,n){super(r),this.code=e4.number(t)?t:iT.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Zy.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};o(Zy,"ResponseError");var sT=Zy;Ur.ResponseError=sT;var o8=class o8{constructor(t){this.kind=t}static is(t){return t===o8.auto||t===o8.byName||t===o8.byPosition}toString(){return this.kind}};o(o8,"ParameterStructures");var Of=o8;Ur.ParameterStructures=Of;Of.auto=new Of("auto");Of.byPosition=new Of("byPosition");Of.byName=new Of("byName");var AT=class AT{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Of.auto}};o(AT,"AbstractMessageSignature");var oa=AT;Ur.AbstractMessageSignature=oa;var PT=class PT extends oa{constructor(t){super(t,0)}};o(PT,"RequestType0");var oT=PT;Ur.RequestType0=oT;var RT=class RT extends oa{constructor(t,r=Of.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(RT,"RequestType");var aT=RT;Ur.RequestType=aT;var NT=class NT extends oa{constructor(t,r=Of.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(NT,"RequestType1");var lT=NT;Ur.RequestType1=lT;var kT=class kT extends oa{constructor(t){super(t,2)}};o(kT,"RequestType2");var fT=kT;Ur.RequestType2=fT;var DT=class DT extends oa{constructor(t){super(t,3)}};o(DT,"RequestType3");var cT=DT;Ur.RequestType3=cT;var LT=class LT extends oa{constructor(t){super(t,4)}};o(LT,"RequestType4");var uT=LT;Ur.RequestType4=uT;var BT=class BT extends oa{constructor(t){super(t,5)}};o(BT,"RequestType5");var dT=BT;Ur.RequestType5=dT;var OT=class OT extends oa{constructor(t){super(t,6)}};o(OT,"RequestType6");var hT=OT;Ur.RequestType6=hT;var FT=class FT extends oa{constructor(t){super(t,7)}};o(FT,"RequestType7");var gT=FT;Ur.RequestType7=gT;var MT=class MT extends oa{constructor(t){super(t,8)}};o(MT,"RequestType8");var mT=MT;Ur.RequestType8=mT;var UT=class UT extends oa{constructor(t){super(t,9)}};o(UT,"RequestType9");var pT=UT;Ur.RequestType9=pT;var qT=class qT extends oa{constructor(t,r=Of.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(qT,"NotificationType");var yT=qT;Ur.NotificationType=yT;var jT=class jT extends oa{constructor(t){super(t,0)}};o(jT,"NotificationType0");var vT=jT;Ur.NotificationType0=vT;var $T=class $T extends oa{constructor(t,r=Of.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o($T,"NotificationType1");var xT=$T;Ur.NotificationType1=xT;var HT=class HT extends oa{constructor(t){super(t,2)}};o(HT,"NotificationType2");var _T=HT;Ur.NotificationType2=_T;var VT=class VT extends oa{constructor(t){super(t,3)}};o(VT,"NotificationType3");var bT=VT;Ur.NotificationType3=bT;var zT=class zT extends oa{constructor(t){super(t,4)}};o(zT,"NotificationType4");var CT=zT;Ur.NotificationType4=CT;var GT=class GT extends oa{constructor(t){super(t,5)}};o(GT,"NotificationType5");var ET=GT;Ur.NotificationType5=ET;var KT=class KT extends oa{constructor(t){super(t,6)}};o(KT,"NotificationType6");var TT=KT;Ur.NotificationType6=TT;var WT=class WT extends oa{constructor(t){super(t,7)}};o(WT,"NotificationType7");var ST=WT;Ur.NotificationType7=ST;var YT=class YT extends oa{constructor(t){super(t,8)}};o(YT,"NotificationType8");var wT=YT;Ur.NotificationType8=wT;var JT=class JT extends oa{constructor(t){super(t,9)}};o(JT,"NotificationType9");var IT=JT;Ur.NotificationType9=IT;var TB;(function(e){function t(s){let a=s;return a&&e4.string(a.method)&&(e4.string(a.id)||e4.number(a.id))}o(t,"isRequest"),e.isRequest=t;function r(s){let a=s;return a&&e4.string(a.method)&&s.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(s){let a=s;return a&&(a.result!==void 0||!!a.error)&&(e4.string(a.id)||e4.number(a.id)||a.id===null)}o(n,"isResponse"),e.isResponse=n})(TB||(Ur.Message=TB={}))});var tS=t0(V5=>{"use strict";var SB;Object.defineProperty(V5,"__esModule",{value:!0});V5.LRUCache=V5.LinkedMap=V5.Touch=void 0;var sf;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(sf||(V5.Touch=sf={}));var QT=class QT{constructor(){this[SB]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,r=sf.None){let n=this._map.get(t);if(n)return r!==sf.None&&this.touch(n,r),n.value}set(t,r,n=sf.None){let s=this._map.get(t);if(s)s.value=r,n!==sf.None&&this.touch(s,n);else{switch(s={key:t,value:r,next:void 0,previous:void 0},n){case sf.None:this.addItemLast(s);break;case sf.First:this.addItemFirst(s);break;case sf.Last:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(t,s),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,s=this._head;for(;s;){if(r?t.bind(r)(s.value,s.key,this):t(s.value,s.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}[(SB=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==sf.First&&r!==sf.Last)){if(r===sf.First){if(t===this._head)return;let n=t.next,s=t.previous;t===this._tail?(s.next=void 0,this._tail=s):(n.previous=s,s.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===sf.Last){if(t===this._tail)return;let n=t.next,s=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=s,s.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};o(QT,"LinkedMap");var Qy=QT;V5.LinkedMap=Qy;var eS=class eS extends Qy{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=sf.AsNew){return super.get(t,r)}peek(t){return super.get(t,sf.None)}set(t,r){return super.set(t,r,sf.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};o(eS,"LRUCache");var ZT=eS;V5.LRUCache=ZT});var IB=t0(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0});ev.Disposable=void 0;var wB;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(wB||(ev.Disposable=wB={}))});var z5=t0(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});var rS;function nS(){if(rS===void 0)throw new Error("No runtime abstraction layer installed");return rS}o(nS,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");rS=r}o(t,"install"),e.install=t})(nS||(nS={}));iS.default=nS});var l8=t0(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});a8.Emitter=a8.Event=void 0;var VJ=z5(),AB;(function(e){let t={dispose(){}};e.None=function(){return t}})(AB||(a8.Event=AB={}));var oS=class oS{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let s=0,a=this._callbacks.length;s<a;s++)if(this._callbacks[s]===t)if(this._contexts[s]===r){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),s=this._contexts.slice(0);for(let a=0,l=n.length;a<l;a++)try{r.push(n[a].apply(s[a],t))}catch(f){(0,VJ.default)().console.error(f)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};o(oS,"CallbackList");var sS=oS,rv=class rv{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new sS),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let s={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),s.dispose=rv._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(s),s}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};o(rv,"Emitter");var tv=rv;a8.Emitter=tv;tv._noop=function(){}});var sv=t0(f8=>{"use strict";Object.defineProperty(f8,"__esModule",{value:!0});f8.CancellationTokenSource=f8.CancellationToken=void 0;var zJ=z5(),GJ=s8(),aS=l8(),nv;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:aS.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:aS.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||GJ.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(nv||(f8.CancellationToken=nv={}));var KJ=Object.freeze(function(e,t){let r=(0,zJ.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),fS=class fS{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?KJ:(this._emitter||(this._emitter=new aS.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};o(fS,"MutableToken");var iv=fS,cS=class cS{get token(){return this._token||(this._token=new iv),this._token}cancel(){this._token?this._token.cancel():this._token=nv.Cancelled}dispose(){this._token?this._token instanceof iv&&this._token.dispose():this._token=nv.None}};o(cS,"CancellationTokenSource");var lS=cS;f8.CancellationTokenSource=lS});var PB=t0(c8=>{"use strict";Object.defineProperty(c8,"__esModule",{value:!0});c8.SharedArrayReceiverStrategy=c8.SharedArraySenderStrategy=void 0;var WJ=sv(),$m;(function(e){e.Continue=0,e.Cancelled=1})($m||($m={}));var mS=class mS{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=$m.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let s=new Int32Array(n,0,1);Atomics.store(s,0,$m.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};o(mS,"SharedArraySenderStrategy");var uS=mS;c8.SharedArraySenderStrategy=uS;var pS=class pS{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===$m.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};o(pS,"SharedArrayBufferCancellationToken");var dS=pS,yS=class yS{constructor(t){this.token=new dS(t)}cancel(){}dispose(){}};o(yS,"SharedArrayBufferCancellationTokenSource");var hS=yS,vS=class vS{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new WJ.CancellationTokenSource:new hS(r)}};o(vS,"SharedArrayReceiverStrategy");var gS=vS;c8.SharedArrayReceiverStrategy=gS});var bS=t0(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.Semaphore=void 0;var YJ=z5(),_S=class _S{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,YJ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};o(_S,"Semaphore");var xS=_S;ov.Semaphore=xS});var NB=t0(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});G5.ReadableStreamMessageReader=G5.AbstractMessageReader=G5.MessageReader=void 0;var ES=z5(),u8=s8(),CS=l8(),JJ=bS(),RB;(function(e){function t(r){let n=r;return n&&u8.func(n.listen)&&u8.func(n.dispose)&&u8.func(n.onError)&&u8.func(n.onClose)&&u8.func(n.onPartialMessage)}o(t,"is"),e.is=t})(RB||(G5.MessageReader=RB={}));var wS=class wS{constructor(){this.errorEmitter=new CS.Emitter,this.closeEmitter=new CS.Emitter,this.partialMessageEmitter=new CS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${u8.string(t.message)?t.message:"unknown"}`)}};o(wS,"AbstractMessageReader");var av=wS;G5.AbstractMessageReader=av;var TS;(function(e){function t(r){var u;let n,s,a,l=new Map,f,c=new Map;if(r===void 0||typeof r=="string")n=r!=null?r:"utf-8";else{if(n=(u=r.charset)!=null?u:"utf-8",r.contentDecoder!==void 0&&(a=r.contentDecoder,l.set(a.name,a)),r.contentDecoders!==void 0)for(let d of r.contentDecoders)l.set(d.name,d);if(r.contentTypeDecoder!==void 0&&(f=r.contentTypeDecoder,c.set(f.name,f)),r.contentTypeDecoders!==void 0)for(let d of r.contentTypeDecoders)c.set(d.name,d)}return f===void 0&&(f=(0,ES.default)().applicationJson.decoder,c.set(f.name,f)),{charset:n,contentDecoder:a,contentDecoders:l,contentTypeDecoder:f,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(TS||(TS={}));var IS=class IS extends av{constructor(t,r){super(),this.readable=t,this.options=TS.fromOptions(r),this.buffer=(0,ES.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new JJ.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let s=n.get("content-length");if(!s){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let a=parseInt(s);if(isNaN(a)){this.fireError(new Error(`Content-Length value must be a number. Got ${s}`));return}this.nextMessageLength=a}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,s=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(s)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ES.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};o(IS,"ReadableStreamMessageReader");var SS=IS;G5.ReadableStreamMessageReader=SS});var OB=t0(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});K5.WriteableStreamMessageWriter=K5.AbstractMessageWriter=K5.MessageWriter=void 0;var kB=z5(),Hm=s8(),XJ=bS(),DB=l8(),ZJ="Content-Length: ",LB=`\r
`,BB;(function(e){function t(r){let n=r;return n&&Hm.func(n.dispose)&&Hm.func(n.onClose)&&Hm.func(n.onError)&&Hm.func(n.write)}o(t,"is"),e.is=t})(BB||(K5.MessageWriter=BB={}));var RS=class RS{constructor(){this.errorEmitter=new DB.Emitter,this.closeEmitter=new DB.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Hm.string(t.message)?t.message:"unknown"}`)}};o(RS,"AbstractMessageWriter");var lv=RS;K5.AbstractMessageWriter=lv;var AS;(function(e){function t(r){var n,s;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:(0,kB.default)().applicationJson.encoder}:{charset:(n=r.charset)!=null?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(s=r.contentTypeEncoder)!=null?s:(0,kB.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(AS||(AS={}));var NS=class NS extends lv{constructor(t,r){super(),this.writable=t,this.options=AS.fromOptions(r),this.errorCount=0,this.writeSemaphore=new XJ.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let s=[];return s.push(ZJ,n.byteLength.toString(),LB),s.push(LB),this.doWrite(t,s,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(s){return this.handleError(s,t),Promise.reject(s)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};o(NS,"WriteableStreamMessageWriter");var PS=NS;K5.WriteableStreamMessageWriter=PS});var FB=t0(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.AbstractMessageBuffer=void 0;var QJ=13,eX=10,tX=`\r
`,DS=class DS{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,s=0,a=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(s=0;s<u.length;){switch(u[s]){case QJ:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case eX:switch(r){case 1:r=2;break;case 3:r=4,s++;break e;default:r=0}break;default:r=0}s++}a+=u.byteLength,n++}if(r!==4)return;let l=this._read(a+s),f=new Map,c=this.toString(l,"ascii").split(tX);if(c.length<2)return f;for(let u=0;u<c.length-2;u++){let d=c[u],h=d.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let p=d.substr(0,h),m=d.substr(h+1).trim();f.set(t?p.toLowerCase():p,m)}return f}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){let a=this._chunks[0],l=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,l}let r=this.allocNative(t),n=0,s=0;for(;t>0;){let a=this._chunks[s];if(a.byteLength>t){let l=a.slice(0,t);r.set(l,n),n+=t,this._chunks[s]=a.slice(t),this._totalLength-=t,t-=t}else r.set(a,n),n+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return r}};o(DS,"AbstractMessageBuffer");var kS=DS;fv.AbstractMessageBuffer=kS});var $B=t0(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.createMessageConnection=Bi.ConnectionOptions=Bi.MessageStrategy=Bi.CancellationStrategy=Bi.CancellationSenderStrategy=Bi.CancellationReceiverStrategy=Bi.RequestCancellationReceiverStrategy=Bi.IdCancellationReceiverStrategy=Bi.ConnectionStrategy=Bi.ConnectionError=Bi.ConnectionErrors=Bi.LogTraceNotification=Bi.SetTraceNotification=Bi.TraceFormat=Bi.TraceValues=Bi.Trace=Bi.NullLogger=Bi.ProgressType=Bi.ProgressToken=void 0;var MB=z5(),xa=s8(),mn=XT(),UB=tS(),Vm=l8(),LS=sv(),Km;(function(e){e.type=new mn.NotificationType("$/cancelRequest")})(Km||(Km={}));var BS;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(BS||(Bi.ProgressToken=BS={}));var zm;(function(e){e.type=new mn.NotificationType("$/progress")})(zm||(zm={}));var $S=class $S{constructor(){}};o($S,"ProgressType");var OS=$S;Bi.ProgressType=OS;var MS;(function(e){function t(r){return xa.func(r)}o(t,"is"),e.is=t})(MS||(MS={}));Bi.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Hs;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Hs||(Bi.Trace=Hs={}));var qB;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(qB||(Bi.TraceValues=qB={}));(function(e){function t(n){if(!xa.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(Hs||(Bi.Trace=Hs={}));var sc;(function(e){e.Text="text",e.JSON="json"})(sc||(Bi.TraceFormat=sc={}));(function(e){function t(r){return xa.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(sc||(Bi.TraceFormat=sc={}));var US;(function(e){e.type=new mn.NotificationType("$/setTrace")})(US||(Bi.SetTraceNotification=US={}));var cv;(function(e){e.type=new mn.NotificationType("$/logTrace")})(cv||(Bi.LogTraceNotification=cv={}));var Gm;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Gm||(Bi.ConnectionErrors=Gm={}));var pv=class pv extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,pv.prototype)}};o(pv,"ConnectionError");var d8=pv;Bi.ConnectionError=d8;var qS;(function(e){function t(r){let n=r;return n&&xa.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(qS||(Bi.ConnectionStrategy=qS={}));var uv;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&xa.func(n.createCancellationTokenSource)&&(n.dispose===void 0||xa.func(n.dispose))}o(t,"is"),e.is=t})(uv||(Bi.IdCancellationReceiverStrategy=uv={}));var jS;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&xa.func(n.createCancellationTokenSource)&&(n.dispose===void 0||xa.func(n.dispose))}o(t,"is"),e.is=t})(jS||(Bi.RequestCancellationReceiverStrategy=jS={}));var dv;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new LS.CancellationTokenSource}});function t(r){return uv.is(r)||jS.is(r)}o(t,"is"),e.is=t})(dv||(Bi.CancellationReceiverStrategy=dv={}));var hv;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Km.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&xa.func(n.sendCancellation)&&xa.func(n.cleanup)}o(t,"is"),e.is=t})(hv||(Bi.CancellationSenderStrategy=hv={}));var gv;(function(e){e.Message=Object.freeze({receiver:dv.Message,sender:hv.Message});function t(r){let n=r;return n&&dv.is(n.receiver)&&hv.is(n.sender)}o(t,"is"),e.is=t})(gv||(Bi.CancellationStrategy=gv={}));var mv;(function(e){function t(r){let n=r;return n&&xa.func(n.handleMessage)}o(t,"is"),e.is=t})(mv||(Bi.MessageStrategy=mv={}));var jB;(function(e){function t(r){let n=r;return n&&(gv.is(n.cancellationStrategy)||qS.is(n.connectionStrategy)||mv.is(n.messageStrategy))}o(t,"is"),e.is=t})(jB||(Bi.ConnectionOptions=jB={}));var _1;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(_1||(_1={}));function rX(e,t,r,n){let s=r!==void 0?r:Bi.NullLogger,a=0,l=0,f=0,c="2.0",u,d=new Map,h,p=new Map,m=new Map,v,x=new UB.LinkedMap,S=new Map,E=new Set,R=new Map,B=Hs.Off,O=sc.Text,L,F=_1.New,ve=new Vm.Emitter,we=new Vm.Emitter,Xt=new Vm.Emitter,f0=new Vm.Emitter,Jt=new Vm.Emitter,c0=n&&n.cancellationStrategy?n.cancellationStrategy:gv.Message;function yt(Ue){if(Ue===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Ue.toString()}o(yt,"createRequestQueueKey");function je(Ue){return Ue===null?"res-unknown-"+(++f).toString():"res-"+Ue.toString()}o(je,"createResponseQueueKey");function i0(){return"not-"+(++l).toString()}o(i0,"createNotificationQueueKey");function u0(Ue,V){mn.Message.isRequest(V)?Ue.set(yt(V.id),V):mn.Message.isResponse(V)?Ue.set(je(V.id),V):Ue.set(i0(),V)}o(u0,"addMessageToQueue");function l0(Ue){}o(l0,"cancelUndispatched");function N0(){return F===_1.Listening}o(N0,"isListening");function kt(){return F===_1.Closed}o(kt,"isClosed");function o0(){return F===_1.Disposed}o(o0,"isDisposed");function de(){(F===_1.New||F===_1.Listening)&&(F=_1.Closed,we.fire(void 0))}o(de,"closeHandler");function Me(Ue){ve.fire([Ue,void 0,void 0])}o(Me,"readErrorHandler");function b0(Ue){ve.fire(Ue)}o(b0,"writeErrorHandler"),e.onClose(de),e.onError(Me),t.onClose(de),t.onError(b0);function H0(){v||x.size===0||(v=(0,MB.default)().timer.setImmediate(()=>{v=void 0,y0()}))}o(H0,"triggerMessageQueue");function F0(Ue){mn.Message.isRequest(Ue)?Se(Ue):mn.Message.isNotification(Ue)?St(Ue):mn.Message.isResponse(Ue)?O0(Ue):L0(Ue)}o(F0,"handleMessage");function y0(){if(x.size===0)return;let Ue=x.shift();try{let V=n==null?void 0:n.messageStrategy;mv.is(V)?V.handleMessage(Ue,F0):F0(Ue)}finally{H0()}}o(y0,"processMessageQueue");let Er=o(Ue=>{try{if(mn.Message.isNotification(Ue)&&Ue.method===Km.type.method){let V=Ue.params.id,W=yt(V),M0=x.get(W);if(mn.Message.isRequest(M0)){let Qi=n==null?void 0:n.connectionStrategy,hs=Qi&&Qi.cancelUndispatched?Qi.cancelUndispatched(M0,l0):void 0;if(hs&&(hs.error!==void 0||hs.result!==void 0)){x.delete(W),R.delete(V),hs.id=M0.id,zr(hs,Ue.method,Date.now()),t.write(hs).catch(()=>s.error("Sending response for canceled message failed."));return}}let an=R.get(V);if(an!==void 0){an.cancel(),le(Ue);return}else E.add(V)}u0(x,Ue)}finally{H0()}},"callback");function Se(Ue){var ks;if(o0())return;function V(Fi,Us,us){let Fs={jsonrpc:c,id:Ue.id};Fi instanceof mn.ResponseError?Fs.error=Fi.toJson():Fs.result=Fi===void 0?null:Fi,zr(Fs,Us,us),t.write(Fs).catch(()=>s.error("Sending response failed."))}o(V,"reply");function W(Fi,Us,us){let Fs={jsonrpc:c,id:Ue.id,error:Fi.toJson()};zr(Fs,Us,us),t.write(Fs).catch(()=>s.error("Sending response failed."))}o(W,"replyError");function M0(Fi,Us,us){Fi===void 0&&(Fi=null);let Fs={jsonrpc:c,id:Ue.id,result:Fi};zr(Fs,Us,us),t.write(Fs).catch(()=>s.error("Sending response failed."))}o(M0,"replySuccess"),Mr(Ue);let an=d.get(Ue.method),Qi,hs;an&&(Qi=an.type,hs=an.handler);let cn=Date.now();if(hs||u){let Fi=(ks=Ue.id)!=null?ks:String(Date.now()),Us=uv.is(c0.receiver)?c0.receiver.createCancellationTokenSource(Fi):c0.receiver.createCancellationTokenSource(Ue);Ue.id!==null&&E.has(Ue.id)&&Us.cancel(),Ue.id!==null&&R.set(Fi,Us);try{let us;if(hs)if(Ue.params===void 0){if(Qi!==void 0&&Qi.numberOfParams!==0){W(new mn.ResponseError(mn.ErrorCodes.InvalidParams,`Request ${Ue.method} defines ${Qi.numberOfParams} params but received none.`),Ue.method,cn);return}us=hs(Us.token)}else if(Array.isArray(Ue.params)){if(Qi!==void 0&&Qi.parameterStructures===mn.ParameterStructures.byName){W(new mn.ResponseError(mn.ErrorCodes.InvalidParams,`Request ${Ue.method} defines parameters by name but received parameters by position`),Ue.method,cn);return}us=hs(...Ue.params,Us.token)}else{if(Qi!==void 0&&Qi.parameterStructures===mn.ParameterStructures.byPosition){W(new mn.ResponseError(mn.ErrorCodes.InvalidParams,`Request ${Ue.method} defines parameters by position but received parameters by name`),Ue.method,cn);return}us=hs(Ue.params,Us.token)}else u&&(us=u(Ue.method,Ue.params,Us.token));let Fs=us;us?Fs.then?Fs.then(Dr=>{R.delete(Fi),V(Dr,Ue.method,cn)},Dr=>{R.delete(Fi),Dr instanceof mn.ResponseError?W(Dr,Ue.method,cn):Dr&&xa.string(Dr.message)?W(new mn.ResponseError(mn.ErrorCodes.InternalError,`Request ${Ue.method} failed with message: ${Dr.message}`),Ue.method,cn):W(new mn.ResponseError(mn.ErrorCodes.InternalError,`Request ${Ue.method} failed unexpectedly without providing any details.`),Ue.method,cn)}):(R.delete(Fi),V(us,Ue.method,cn)):(R.delete(Fi),M0(us,Ue.method,cn))}catch(us){R.delete(Fi),us instanceof mn.ResponseError?V(us,Ue.method,cn):us&&xa.string(us.message)?W(new mn.ResponseError(mn.ErrorCodes.InternalError,`Request ${Ue.method} failed with message: ${us.message}`),Ue.method,cn):W(new mn.ResponseError(mn.ErrorCodes.InternalError,`Request ${Ue.method} failed unexpectedly without providing any details.`),Ue.method,cn)}}else W(new mn.ResponseError(mn.ErrorCodes.MethodNotFound,`Unhandled method ${Ue.method}`),Ue.method,cn)}o(Se,"handleRequest");function O0(Ue){if(!o0())if(Ue.id===null)Ue.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(Ue.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{let V=Ue.id,W=S.get(V);if(nn(Ue,W),W!==void 0){S.delete(V);try{if(Ue.error){let M0=Ue.error;W.reject(new mn.ResponseError(M0.code,M0.message,M0.data))}else if(Ue.result!==void 0)W.resolve(Ue.result);else throw new Error("Should never happen.")}catch(M0){M0.message?s.error(`Response handler '${W.method}' failed with message: ${M0.message}`):s.error(`Response handler '${W.method}' failed unexpectedly.`)}}}}o(O0,"handleResponse");function St(Ue){if(o0())return;let V,W;if(Ue.method===Km.type.method){let M0=Ue.params.id;E.delete(M0),le(Ue);return}else{let M0=p.get(Ue.method);M0&&(W=M0.handler,V=M0.type)}if(W||h)try{if(le(Ue),W)if(Ue.params===void 0)V!==void 0&&V.numberOfParams!==0&&V.parameterStructures!==mn.ParameterStructures.byName&&s.error(`Notification ${Ue.method} defines ${V.numberOfParams} params but received none.`),W();else if(Array.isArray(Ue.params)){let M0=Ue.params;Ue.method===zm.type.method&&M0.length===2&&BS.is(M0[0])?W({token:M0[0],value:M0[1]}):(V!==void 0&&(V.parameterStructures===mn.ParameterStructures.byName&&s.error(`Notification ${Ue.method} defines parameters by name but received parameters by position`),V.numberOfParams!==Ue.params.length&&s.error(`Notification ${Ue.method} defines ${V.numberOfParams} params but received ${M0.length} arguments`)),W(...M0))}else V!==void 0&&V.parameterStructures===mn.ParameterStructures.byPosition&&s.error(`Notification ${Ue.method} defines parameters by position but received parameters by name`),W(Ue.params);else h&&h(Ue.method,Ue.params)}catch(M0){M0.message?s.error(`Notification handler '${Ue.method}' failed with message: ${M0.message}`):s.error(`Notification handler '${Ue.method}' failed unexpectedly.`)}else Xt.fire(Ue)}o(St,"handleNotification");function L0(Ue){if(!Ue){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Ue,null,4)}`);let V=Ue;if(xa.string(V.id)||xa.number(V.id)){let W=V.id,M0=S.get(W);M0&&M0.reject(new Error("The received response has neither a result nor an error property."))}}o(L0,"handleInvalidMessage");function k0(Ue){if(Ue!=null)switch(B){case Hs.Verbose:return JSON.stringify(Ue,null,4);case Hs.Compact:return JSON.stringify(Ue);default:return}}o(k0,"stringifyTrace");function z0(Ue){if(!(B===Hs.Off||!L))if(O===sc.Text){let V;(B===Hs.Verbose||B===Hs.Compact)&&Ue.params&&(V=`Params: ${k0(Ue.params)}

`),L.log(`Sending request '${Ue.method} - (${Ue.id})'.`,V)}else mr("send-request",Ue)}o(z0,"traceSendingRequest");function Sr(Ue){if(!(B===Hs.Off||!L))if(O===sc.Text){let V;(B===Hs.Verbose||B===Hs.Compact)&&(Ue.params?V=`Params: ${k0(Ue.params)}

`:V=`No parameters provided.

`),L.log(`Sending notification '${Ue.method}'.`,V)}else mr("send-notification",Ue)}o(Sr,"traceSendingNotification");function zr(Ue,V,W){if(!(B===Hs.Off||!L))if(O===sc.Text){let M0;(B===Hs.Verbose||B===Hs.Compact)&&(Ue.error&&Ue.error.data?M0=`Error data: ${k0(Ue.error.data)}

`:Ue.result?M0=`Result: ${k0(Ue.result)}

`:Ue.error===void 0&&(M0=`No result returned.

`)),L.log(`Sending response '${V} - (${Ue.id})'. Processing request took ${Date.now()-W}ms`,M0)}else mr("send-response",Ue)}o(zr,"traceSendingResponse");function Mr(Ue){if(!(B===Hs.Off||!L))if(O===sc.Text){let V;(B===Hs.Verbose||B===Hs.Compact)&&Ue.params&&(V=`Params: ${k0(Ue.params)}

`),L.log(`Received request '${Ue.method} - (${Ue.id})'.`,V)}else mr("receive-request",Ue)}o(Mr,"traceReceivedRequest");function le(Ue){if(!(B===Hs.Off||!L||Ue.method===cv.type.method))if(O===sc.Text){let V;(B===Hs.Verbose||B===Hs.Compact)&&(Ue.params?V=`Params: ${k0(Ue.params)}

`:V=`No parameters provided.

`),L.log(`Received notification '${Ue.method}'.`,V)}else mr("receive-notification",Ue)}o(le,"traceReceivedNotification");function nn(Ue,V){if(!(B===Hs.Off||!L))if(O===sc.Text){let W;if((B===Hs.Verbose||B===Hs.Compact)&&(Ue.error&&Ue.error.data?W=`Error data: ${k0(Ue.error.data)}

`:Ue.result?W=`Result: ${k0(Ue.result)}

`:Ue.error===void 0&&(W=`No result returned.

`)),V){let M0=Ue.error?` Request failed: ${Ue.error.message} (${Ue.error.code}).`:"";L.log(`Received response '${V.method} - (${Ue.id})' in ${Date.now()-V.timerStart}ms.${M0}`,W)}else L.log(`Received response ${Ue.id} without active response promise.`,W)}else mr("receive-response",Ue)}o(nn,"traceReceivedResponse");function mr(Ue,V){if(!L||B===Hs.Off)return;let W={isLSPMessage:!0,type:Ue,message:V,timestamp:Date.now()};L.log(W)}o(mr,"logLSPMessage");function Vs(){if(kt())throw new d8(Gm.Closed,"Connection is closed.");if(o0())throw new d8(Gm.Disposed,"Connection is disposed.")}o(Vs,"throwIfClosedOrDisposed");function Bs(){if(N0())throw new d8(Gm.AlreadyListening,"Connection is already listening")}o(Bs,"throwIfListening");function ra(){if(!N0())throw new Error("Call listen() first.")}o(ra,"throwIfNotListening");function Os(Ue){return Ue===void 0?null:Ue}o(Os,"undefinedToNull");function Da(Ue){if(Ue!==null)return Ue}o(Da,"nullToUndefined");function Ja(Ue){return Ue!=null&&!Array.isArray(Ue)&&typeof Ue=="object"}o(Ja,"isNamedParam");function Cl(Ue,V){switch(Ue){case mn.ParameterStructures.auto:return Ja(V)?Da(V):[Os(V)];case mn.ParameterStructures.byName:if(!Ja(V))throw new Error("Received parameters by name but param is not an object literal.");return Da(V);case mn.ParameterStructures.byPosition:return[Os(V)];default:throw new Error(`Unknown parameter structure ${Ue.toString()}`)}}o(Cl,"computeSingleParam");function Xa(Ue,V){let W,M0=Ue.numberOfParams;switch(M0){case 0:W=void 0;break;case 1:W=Cl(Ue.parameterStructures,V[0]);break;default:W=[];for(let an=0;an<V.length&&an<M0;an++)W.push(Os(V[an]));if(V.length<M0)for(let an=V.length;an<M0;an++)W.push(null);break}return W}o(Xa,"computeMessageParams");let hn={sendNotification:(Ue,...V)=>{Vs();let W,M0;if(xa.string(Ue)){W=Ue;let Qi=V[0],hs=0,cn=mn.ParameterStructures.auto;mn.ParameterStructures.is(Qi)&&(hs=1,cn=Qi);let ks=V.length,Fi=ks-hs;switch(Fi){case 0:M0=void 0;break;case 1:M0=Cl(cn,V[hs]);break;default:if(cn===mn.ParameterStructures.byName)throw new Error(`Received ${Fi} parameters for 'by Name' notification parameter structure.`);M0=V.slice(hs,ks).map(Us=>Os(Us));break}}else{let Qi=V;W=Ue.method,M0=Xa(Ue,Qi)}let an={jsonrpc:c,method:W,params:M0};return Sr(an),t.write(an).catch(Qi=>{throw s.error("Sending notification failed."),Qi})},onNotification:(Ue,V)=>{Vs();let W;return xa.func(Ue)?h=Ue:V&&(xa.string(Ue)?(W=Ue,p.set(Ue,{type:void 0,handler:V})):(W=Ue.method,p.set(Ue.method,{type:Ue,handler:V}))),{dispose:()=>{W!==void 0?p.delete(W):h=void 0}}},onProgress:(Ue,V,W)=>{if(m.has(V))throw new Error(`Progress handler for token ${V} already registered`);return m.set(V,W),{dispose:()=>{m.delete(V)}}},sendProgress:(Ue,V,W)=>hn.sendNotification(zm.type,{token:V,value:W}),onUnhandledProgress:f0.event,sendRequest:(Ue,...V)=>{Vs(),ra();let W,M0,an;if(xa.string(Ue)){W=Ue;let ks=V[0],Fi=V[V.length-1],Us=0,us=mn.ParameterStructures.auto;mn.ParameterStructures.is(ks)&&(Us=1,us=ks);let Fs=V.length;LS.CancellationToken.is(Fi)&&(Fs=Fs-1,an=Fi);let Dr=Fs-Us;switch(Dr){case 0:M0=void 0;break;case 1:M0=Cl(us,V[Us]);break;default:if(us===mn.ParameterStructures.byName)throw new Error(`Received ${Dr} parameters for 'by Name' request parameter structure.`);M0=V.slice(Us,Fs).map(zf=>Os(zf));break}}else{let ks=V;W=Ue.method,M0=Xa(Ue,ks);let Fi=Ue.numberOfParams;an=LS.CancellationToken.is(ks[Fi])?ks[Fi]:void 0}let Qi=a++,hs;an&&(hs=an.onCancellationRequested(()=>{let ks=c0.sender.sendCancellation(hn,Qi);return ks===void 0?(s.log(`Received no promise from cancellation strategy when cancelling id ${Qi}`),Promise.resolve()):ks.catch(()=>{s.log(`Sending cancellation messages for id ${Qi} failed`)})}));let cn={jsonrpc:c,id:Qi,method:W,params:M0};return z0(cn),typeof c0.sender.enableCancellation=="function"&&c0.sender.enableCancellation(cn),new Promise(async(ks,Fi)=>{let Us=o(Dr=>{ks(Dr),c0.sender.cleanup(Qi),hs==null||hs.dispose()},"resolveWithCleanup"),us=o(Dr=>{Fi(Dr),c0.sender.cleanup(Qi),hs==null||hs.dispose()},"rejectWithCleanup"),Fs={method:W,timerStart:Date.now(),resolve:Us,reject:us};try{await t.write(cn),S.set(Qi,Fs)}catch(Dr){throw s.error("Sending request failed."),Fs.reject(new mn.ResponseError(mn.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Dr}})},onRequest:(Ue,V)=>{Vs();let W=null;return MS.is(Ue)?(W=void 0,u=Ue):xa.string(Ue)?(W=null,V!==void 0&&(W=Ue,d.set(Ue,{handler:V,type:void 0}))):V!==void 0&&(W=Ue.method,d.set(Ue.method,{type:Ue,handler:V})),{dispose:()=>{W!==null&&(W!==void 0?d.delete(W):u=void 0)}}},hasPendingResponse:()=>S.size>0,trace:async(Ue,V,W)=>{let M0=!1,an=sc.Text;W!==void 0&&(xa.boolean(W)?M0=W:(M0=W.sendNotification||!1,an=W.traceFormat||sc.Text)),B=Ue,O=an,B===Hs.Off?L=void 0:L=V,M0&&!kt()&&!o0()&&await hn.sendNotification(US.type,{value:Hs.toString(Ue)})},onError:ve.event,onClose:we.event,onUnhandledNotification:Xt.event,onDispose:Jt.event,end:()=>{t.end()},dispose:()=>{if(o0())return;F=_1.Disposed,Jt.fire(void 0);let Ue=new mn.ResponseError(mn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let V of S.values())V.reject(Ue);S=new Map,R=new Map,E=new Set,x=new UB.LinkedMap,xa.func(t.dispose)&&t.dispose(),xa.func(e.dispose)&&e.dispose()},listen:()=>{Vs(),Bs(),F=_1.Listening,e.listen(Er)},inspect:()=>{(0,MB.default)().console.log("inspect")}};return hn.onNotification(cv.type,Ue=>{if(B===Hs.Off||!L)return;let V=B===Hs.Verbose||B===Hs.Compact;L.log(Ue.message,V?Ue.verbose:void 0)}),hn.onNotification(zm.type,Ue=>{let V=m.get(Ue.token);V?V(Ue.value):f0.fire(Ue)}),hn}o(rX,"createMessageConnection");Bi.createMessageConnection=rX});var yv=t0(I0=>{"use strict";Object.defineProperty(I0,"__esModule",{value:!0});I0.ProgressType=I0.ProgressToken=I0.createMessageConnection=I0.NullLogger=I0.ConnectionOptions=I0.ConnectionStrategy=I0.AbstractMessageBuffer=I0.WriteableStreamMessageWriter=I0.AbstractMessageWriter=I0.MessageWriter=I0.ReadableStreamMessageReader=I0.AbstractMessageReader=I0.MessageReader=I0.SharedArrayReceiverStrategy=I0.SharedArraySenderStrategy=I0.CancellationToken=I0.CancellationTokenSource=I0.Emitter=I0.Event=I0.Disposable=I0.LRUCache=I0.Touch=I0.LinkedMap=I0.ParameterStructures=I0.NotificationType9=I0.NotificationType8=I0.NotificationType7=I0.NotificationType6=I0.NotificationType5=I0.NotificationType4=I0.NotificationType3=I0.NotificationType2=I0.NotificationType1=I0.NotificationType0=I0.NotificationType=I0.ErrorCodes=I0.ResponseError=I0.RequestType9=I0.RequestType8=I0.RequestType7=I0.RequestType6=I0.RequestType5=I0.RequestType4=I0.RequestType3=I0.RequestType2=I0.RequestType1=I0.RequestType0=I0.RequestType=I0.Message=I0.RAL=void 0;I0.MessageStrategy=I0.CancellationStrategy=I0.CancellationSenderStrategy=I0.CancellationReceiverStrategy=I0.ConnectionError=I0.ConnectionErrors=I0.LogTraceNotification=I0.SetTraceNotification=I0.TraceFormat=I0.TraceValues=I0.Trace=void 0;var na=XT();Object.defineProperty(I0,"Message",{enumerable:!0,get:function(){return na.Message}});Object.defineProperty(I0,"RequestType",{enumerable:!0,get:function(){return na.RequestType}});Object.defineProperty(I0,"RequestType0",{enumerable:!0,get:function(){return na.RequestType0}});Object.defineProperty(I0,"RequestType1",{enumerable:!0,get:function(){return na.RequestType1}});Object.defineProperty(I0,"RequestType2",{enumerable:!0,get:function(){return na.RequestType2}});Object.defineProperty(I0,"RequestType3",{enumerable:!0,get:function(){return na.RequestType3}});Object.defineProperty(I0,"RequestType4",{enumerable:!0,get:function(){return na.RequestType4}});Object.defineProperty(I0,"RequestType5",{enumerable:!0,get:function(){return na.RequestType5}});Object.defineProperty(I0,"RequestType6",{enumerable:!0,get:function(){return na.RequestType6}});Object.defineProperty(I0,"RequestType7",{enumerable:!0,get:function(){return na.RequestType7}});Object.defineProperty(I0,"RequestType8",{enumerable:!0,get:function(){return na.RequestType8}});Object.defineProperty(I0,"RequestType9",{enumerable:!0,get:function(){return na.RequestType9}});Object.defineProperty(I0,"ResponseError",{enumerable:!0,get:function(){return na.ResponseError}});Object.defineProperty(I0,"ErrorCodes",{enumerable:!0,get:function(){return na.ErrorCodes}});Object.defineProperty(I0,"NotificationType",{enumerable:!0,get:function(){return na.NotificationType}});Object.defineProperty(I0,"NotificationType0",{enumerable:!0,get:function(){return na.NotificationType0}});Object.defineProperty(I0,"NotificationType1",{enumerable:!0,get:function(){return na.NotificationType1}});Object.defineProperty(I0,"NotificationType2",{enumerable:!0,get:function(){return na.NotificationType2}});Object.defineProperty(I0,"NotificationType3",{enumerable:!0,get:function(){return na.NotificationType3}});Object.defineProperty(I0,"NotificationType4",{enumerable:!0,get:function(){return na.NotificationType4}});Object.defineProperty(I0,"NotificationType5",{enumerable:!0,get:function(){return na.NotificationType5}});Object.defineProperty(I0,"NotificationType6",{enumerable:!0,get:function(){return na.NotificationType6}});Object.defineProperty(I0,"NotificationType7",{enumerable:!0,get:function(){return na.NotificationType7}});Object.defineProperty(I0,"NotificationType8",{enumerable:!0,get:function(){return na.NotificationType8}});Object.defineProperty(I0,"NotificationType9",{enumerable:!0,get:function(){return na.NotificationType9}});Object.defineProperty(I0,"ParameterStructures",{enumerable:!0,get:function(){return na.ParameterStructures}});var HS=tS();Object.defineProperty(I0,"LinkedMap",{enumerable:!0,get:function(){return HS.LinkedMap}});Object.defineProperty(I0,"LRUCache",{enumerable:!0,get:function(){return HS.LRUCache}});Object.defineProperty(I0,"Touch",{enumerable:!0,get:function(){return HS.Touch}});var nX=IB();Object.defineProperty(I0,"Disposable",{enumerable:!0,get:function(){return nX.Disposable}});var HB=l8();Object.defineProperty(I0,"Event",{enumerable:!0,get:function(){return HB.Event}});Object.defineProperty(I0,"Emitter",{enumerable:!0,get:function(){return HB.Emitter}});var VB=sv();Object.defineProperty(I0,"CancellationTokenSource",{enumerable:!0,get:function(){return VB.CancellationTokenSource}});Object.defineProperty(I0,"CancellationToken",{enumerable:!0,get:function(){return VB.CancellationToken}});var zB=PB();Object.defineProperty(I0,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return zB.SharedArraySenderStrategy}});Object.defineProperty(I0,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return zB.SharedArrayReceiverStrategy}});var VS=NB();Object.defineProperty(I0,"MessageReader",{enumerable:!0,get:function(){return VS.MessageReader}});Object.defineProperty(I0,"AbstractMessageReader",{enumerable:!0,get:function(){return VS.AbstractMessageReader}});Object.defineProperty(I0,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return VS.ReadableStreamMessageReader}});var zS=OB();Object.defineProperty(I0,"MessageWriter",{enumerable:!0,get:function(){return zS.MessageWriter}});Object.defineProperty(I0,"AbstractMessageWriter",{enumerable:!0,get:function(){return zS.AbstractMessageWriter}});Object.defineProperty(I0,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return zS.WriteableStreamMessageWriter}});var iX=FB();Object.defineProperty(I0,"AbstractMessageBuffer",{enumerable:!0,get:function(){return iX.AbstractMessageBuffer}});var Fl=$B();Object.defineProperty(I0,"ConnectionStrategy",{enumerable:!0,get:function(){return Fl.ConnectionStrategy}});Object.defineProperty(I0,"ConnectionOptions",{enumerable:!0,get:function(){return Fl.ConnectionOptions}});Object.defineProperty(I0,"NullLogger",{enumerable:!0,get:function(){return Fl.NullLogger}});Object.defineProperty(I0,"createMessageConnection",{enumerable:!0,get:function(){return Fl.createMessageConnection}});Object.defineProperty(I0,"ProgressToken",{enumerable:!0,get:function(){return Fl.ProgressToken}});Object.defineProperty(I0,"ProgressType",{enumerable:!0,get:function(){return Fl.ProgressType}});Object.defineProperty(I0,"Trace",{enumerable:!0,get:function(){return Fl.Trace}});Object.defineProperty(I0,"TraceValues",{enumerable:!0,get:function(){return Fl.TraceValues}});Object.defineProperty(I0,"TraceFormat",{enumerable:!0,get:function(){return Fl.TraceFormat}});Object.defineProperty(I0,"SetTraceNotification",{enumerable:!0,get:function(){return Fl.SetTraceNotification}});Object.defineProperty(I0,"LogTraceNotification",{enumerable:!0,get:function(){return Fl.LogTraceNotification}});Object.defineProperty(I0,"ConnectionErrors",{enumerable:!0,get:function(){return Fl.ConnectionErrors}});Object.defineProperty(I0,"ConnectionError",{enumerable:!0,get:function(){return Fl.ConnectionError}});Object.defineProperty(I0,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Fl.CancellationReceiverStrategy}});Object.defineProperty(I0,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Fl.CancellationSenderStrategy}});Object.defineProperty(I0,"CancellationStrategy",{enumerable:!0,get:function(){return Fl.CancellationStrategy}});Object.defineProperty(I0,"MessageStrategy",{enumerable:!0,get:function(){return Fl.MessageStrategy}});var sX=z5();I0.RAL=sX.default});var WB=t0(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});var GB=require("util"),ud=yv(),xv=class xv extends ud.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return xv.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new GB.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};o(xv,"MessageBuffer");var vv=xv;vv.emptyBuffer=Buffer.allocUnsafe(0);var JS=class JS{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ud.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ud.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ud.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ud.Disposable.create(()=>this.stream.off("data",t))}};o(JS,"ReadableStreamWrapper");var GS=JS,XS=class XS{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ud.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ud.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ud.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,s)=>{let a=o(l=>{l==null?n():s(l)},"callback");typeof t=="string"?this.stream.write(t,r,a):this.stream.write(t,a)})}end(){this.stream.end()}};o(XS,"WritableStreamWrapper");var KS=XS,KB=Object.freeze({messageBuffer:Object.freeze({create:e=>new vv(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new GB.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new GS(e),asWritableStream:e=>new KS(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:()=>clearImmediate(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function WS(){return KB}o(WS,"RIL");(function(e){function t(){ud.RAL.install(KB)}o(t,"install"),e.install=t})(WS||(WS={}));YS.default=WS});var n4=t0(As=>{"use strict";var oX=As&&As.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aX=As&&As.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oX(t,e,r)};Object.defineProperty(As,"__esModule",{value:!0});As.createMessageConnection=As.createServerSocketTransport=As.createClientSocketTransport=As.createServerPipeTransport=As.createClientPipeTransport=As.generateRandomPipeName=As.StreamMessageWriter=As.StreamMessageReader=As.SocketMessageWriter=As.SocketMessageReader=As.PortMessageWriter=As.PortMessageReader=As.IPCMessageWriter=As.IPCMessageReader=void 0;var h8=WB();h8.default.install();var YB=require("path"),lX=require("os"),fX=require("crypto"),Cv=require("net"),oc=yv();aX(yv(),As);var rw=class rw extends oc.AbstractMessageReader{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),oc.Disposable.create(()=>this.process.off("message",t))}};o(rw,"IPCMessageReader");var ZS=rw;As.IPCMessageReader=ZS;var nw=class nw extends oc.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};o(nw,"IPCMessageWriter");var QS=nw;As.IPCMessageWriter=QS;var iw=class iw extends oc.AbstractMessageReader{constructor(t){super(),this.onData=new oc.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};o(iw,"PortMessageReader");var ew=iw;As.PortMessageReader=ew;var sw=class sw extends oc.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};o(sw,"PortMessageWriter");var tw=sw;As.PortMessageWriter=tw;var ow=class ow extends oc.ReadableStreamMessageReader{constructor(t,r="utf-8"){super((0,h8.default)().stream.asReadableStream(t),r)}};o(ow,"SocketMessageReader");var t4=ow;As.SocketMessageReader=t4;var aw=class aw extends oc.WriteableStreamMessageWriter{constructor(t,r){super((0,h8.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};o(aw,"SocketMessageWriter");var r4=aw;As.SocketMessageWriter=r4;var lw=class lw extends oc.ReadableStreamMessageReader{constructor(t,r){super((0,h8.default)().stream.asReadableStream(t),r)}};o(lw,"StreamMessageReader");var _v=lw;As.StreamMessageReader=_v;var fw=class fw extends oc.WriteableStreamMessageWriter{constructor(t,r){super((0,h8.default)().stream.asWritableStream(t),r)}};o(fw,"StreamMessageWriter");var bv=fw;As.StreamMessageWriter=bv;var JB=process.env.XDG_RUNTIME_DIR,cX=new Map([["linux",107],["darwin",103]]);function uX(){let e=(0,fX.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;JB?t=YB.join(JB,`vscode-ipc-${e}.sock`):t=YB.join(lX.tmpdir(),`vscode-${e}.sock`);let r=cX.get(process.platform);return r!==void 0&&t.length>r&&(0,h8.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(uX,"generateRandomPipeName");As.generateRandomPipeName=uX;function dX(e,t="utf-8"){let r,n=new Promise((s,a)=>{r=s});return new Promise((s,a)=>{let l=(0,Cv.createServer)(f=>{l.close(),r([new t4(f,t),new r4(f,t)])});l.on("error",a),l.listen(e,()=>{l.removeListener("error",a),s({onConnected:()=>n})})})}o(dX,"createClientPipeTransport");As.createClientPipeTransport=dX;function hX(e,t="utf-8"){let r=(0,Cv.createConnection)(e);return[new t4(r,t),new r4(r,t)]}o(hX,"createServerPipeTransport");As.createServerPipeTransport=hX;function gX(e,t="utf-8"){let r,n=new Promise((s,a)=>{r=s});return new Promise((s,a)=>{let l=(0,Cv.createServer)(f=>{l.close(),r([new t4(f,t),new r4(f,t)])});l.on("error",a),l.listen(e,"127.0.0.1",()=>{l.removeListener("error",a),s({onConnected:()=>n})})})}o(gX,"createClientSocketTransport");As.createClientSocketTransport=gX;function mX(e,t="utf-8"){let r=(0,Cv.createConnection)(e,"127.0.0.1");return[new t4(r,t),new r4(r,t)]}o(mX,"createServerSocketTransport");As.createServerSocketTransport=mX;function pX(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(pX,"isReadableStream");function yX(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(yX,"isWritableStream");function vX(e,t,r,n){r||(r=oc.NullLogger);let s=pX(e)?new _v(e):e,a=yX(t)?new bv(t):t;return oc.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,oc.createMessageConnection)(s,a,r,n)}o(vX,"createMessageConnection");As.createMessageConnection=vX});var cw=t0((Hce,XB)=>{"use strict";XB.exports=n4()});var Tv=t0((ZB,Ev)=>{(function(e){if(typeof Ev=="object"&&typeof Ev.exports=="object"){var t=e(require,ZB);t!==void 0&&(Ev.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(Q){function bt(wt){return typeof wt=="string"}o(bt,"is"),Q.is=bt})(r||(t.DocumentUri=r={}));var n;(function(Q){function bt(wt){return typeof wt=="string"}o(bt,"is"),Q.is=bt})(n||(t.URI=n={}));var s;(function(Q){Q.MIN_VALUE=-2147483648,Q.MAX_VALUE=2147483647;function bt(wt){return typeof wt=="number"&&Q.MIN_VALUE<=wt&&wt<=Q.MAX_VALUE}o(bt,"is"),Q.is=bt})(s||(t.integer=s={}));var a;(function(Q){Q.MIN_VALUE=0,Q.MAX_VALUE=2147483647;function bt(wt){return typeof wt=="number"&&Q.MIN_VALUE<=wt&&wt<=Q.MAX_VALUE}o(bt,"is"),Q.is=bt})(a||(t.uinteger=a={}));var l;(function(Q){function bt(_e,Y){return _e===Number.MAX_VALUE&&(_e=a.MAX_VALUE),Y===Number.MAX_VALUE&&(Y=a.MAX_VALUE),{line:_e,character:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&s0.uinteger(Y.line)&&s0.uinteger(Y.character)}o(wt,"is"),Q.is=wt})(l||(t.Position=l={}));var f;(function(Q){function bt(_e,Y,d0,P0){if(s0.uinteger(_e)&&s0.uinteger(Y)&&s0.uinteger(d0)&&s0.uinteger(P0))return{start:l.create(_e,Y),end:l.create(d0,P0)};if(l.is(_e)&&l.is(Y))return{start:_e,end:Y};throw new Error("Range#create called with invalid arguments[".concat(_e,", ").concat(Y,", ").concat(d0,", ").concat(P0,"]"))}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&l.is(Y.start)&&l.is(Y.end)}o(wt,"is"),Q.is=wt})(f||(t.Range=f={}));var c;(function(Q){function bt(_e,Y){return{uri:_e,range:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&f.is(Y.range)&&(s0.string(Y.uri)||s0.undefined(Y.uri))}o(wt,"is"),Q.is=wt})(c||(t.Location=c={}));var u;(function(Q){function bt(_e,Y,d0,P0){return{targetUri:_e,targetRange:Y,targetSelectionRange:d0,originSelectionRange:P0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&f.is(Y.targetRange)&&s0.string(Y.targetUri)&&f.is(Y.targetSelectionRange)&&(f.is(Y.originSelectionRange)||s0.undefined(Y.originSelectionRange))}o(wt,"is"),Q.is=wt})(u||(t.LocationLink=u={}));var d;(function(Q){function bt(_e,Y,d0,P0){return{red:_e,green:Y,blue:d0,alpha:P0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&s0.numberRange(Y.red,0,1)&&s0.numberRange(Y.green,0,1)&&s0.numberRange(Y.blue,0,1)&&s0.numberRange(Y.alpha,0,1)}o(wt,"is"),Q.is=wt})(d||(t.Color=d={}));var h;(function(Q){function bt(_e,Y){return{range:_e,color:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&f.is(Y.range)&&d.is(Y.color)}o(wt,"is"),Q.is=wt})(h||(t.ColorInformation=h={}));var p;(function(Q){function bt(_e,Y,d0){return{label:_e,textEdit:Y,additionalTextEdits:d0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&s0.string(Y.label)&&(s0.undefined(Y.textEdit)||L.is(Y))&&(s0.undefined(Y.additionalTextEdits)||s0.typedArray(Y.additionalTextEdits,L.is))}o(wt,"is"),Q.is=wt})(p||(t.ColorPresentation=p={}));var m;(function(Q){Q.Comment="comment",Q.Imports="imports",Q.Region="region"})(m||(t.FoldingRangeKind=m={}));var v;(function(Q){function bt(_e,Y,d0,P0,sn,zs){var qs={startLine:_e,endLine:Y};return s0.defined(d0)&&(qs.startCharacter=d0),s0.defined(P0)&&(qs.endCharacter=P0),s0.defined(sn)&&(qs.kind=sn),s0.defined(zs)&&(qs.collapsedText=zs),qs}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&s0.uinteger(Y.startLine)&&s0.uinteger(Y.startLine)&&(s0.undefined(Y.startCharacter)||s0.uinteger(Y.startCharacter))&&(s0.undefined(Y.endCharacter)||s0.uinteger(Y.endCharacter))&&(s0.undefined(Y.kind)||s0.string(Y.kind))}o(wt,"is"),Q.is=wt})(v||(t.FoldingRange=v={}));var x;(function(Q){function bt(_e,Y){return{location:_e,message:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&c.is(Y.location)&&s0.string(Y.message)}o(wt,"is"),Q.is=wt})(x||(t.DiagnosticRelatedInformation=x={}));var S;(function(Q){Q.Error=1,Q.Warning=2,Q.Information=3,Q.Hint=4})(S||(t.DiagnosticSeverity=S={}));var E;(function(Q){Q.Unnecessary=1,Q.Deprecated=2})(E||(t.DiagnosticTag=E={}));var R;(function(Q){function bt(wt){var _e=wt;return s0.objectLiteral(_e)&&s0.string(_e.href)}o(bt,"is"),Q.is=bt})(R||(t.CodeDescription=R={}));var B;(function(Q){function bt(_e,Y,d0,P0,sn,zs){var qs={range:_e,message:Y};return s0.defined(d0)&&(qs.severity=d0),s0.defined(P0)&&(qs.code=P0),s0.defined(sn)&&(qs.source=sn),s0.defined(zs)&&(qs.relatedInformation=zs),qs}o(bt,"create"),Q.create=bt;function wt(_e){var Y,d0=_e;return s0.defined(d0)&&f.is(d0.range)&&s0.string(d0.message)&&(s0.number(d0.severity)||s0.undefined(d0.severity))&&(s0.integer(d0.code)||s0.string(d0.code)||s0.undefined(d0.code))&&(s0.undefined(d0.codeDescription)||s0.string((Y=d0.codeDescription)===null||Y===void 0?void 0:Y.href))&&(s0.string(d0.source)||s0.undefined(d0.source))&&(s0.undefined(d0.relatedInformation)||s0.typedArray(d0.relatedInformation,x.is))}o(wt,"is"),Q.is=wt})(B||(t.Diagnostic=B={}));var O;(function(Q){function bt(_e,Y){for(var d0=[],P0=2;P0<arguments.length;P0++)d0[P0-2]=arguments[P0];var sn={title:_e,command:Y};return s0.defined(d0)&&d0.length>0&&(sn.arguments=d0),sn}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.string(Y.title)&&s0.string(Y.command)}o(wt,"is"),Q.is=wt})(O||(t.Command=O={}));var L;(function(Q){function bt(d0,P0){return{range:d0,newText:P0}}o(bt,"replace"),Q.replace=bt;function wt(d0,P0){return{range:{start:d0,end:d0},newText:P0}}o(wt,"insert"),Q.insert=wt;function _e(d0){return{range:d0,newText:""}}o(_e,"del"),Q.del=_e;function Y(d0){var P0=d0;return s0.objectLiteral(P0)&&s0.string(P0.newText)&&f.is(P0.range)}o(Y,"is"),Q.is=Y})(L||(t.TextEdit=L={}));var F;(function(Q){function bt(_e,Y,d0){var P0={label:_e};return Y!==void 0&&(P0.needsConfirmation=Y),d0!==void 0&&(P0.description=d0),P0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&s0.string(Y.label)&&(s0.boolean(Y.needsConfirmation)||Y.needsConfirmation===void 0)&&(s0.string(Y.description)||Y.description===void 0)}o(wt,"is"),Q.is=wt})(F||(t.ChangeAnnotation=F={}));var ve;(function(Q){function bt(wt){var _e=wt;return s0.string(_e)}o(bt,"is"),Q.is=bt})(ve||(t.ChangeAnnotationIdentifier=ve={}));var we;(function(Q){function bt(d0,P0,sn){return{range:d0,newText:P0,annotationId:sn}}o(bt,"replace"),Q.replace=bt;function wt(d0,P0,sn){return{range:{start:d0,end:d0},newText:P0,annotationId:sn}}o(wt,"insert"),Q.insert=wt;function _e(d0,P0){return{range:d0,newText:"",annotationId:P0}}o(_e,"del"),Q.del=_e;function Y(d0){var P0=d0;return L.is(P0)&&(F.is(P0.annotationId)||ve.is(P0.annotationId))}o(Y,"is"),Q.is=Y})(we||(t.AnnotatedTextEdit=we={}));var Xt;(function(Q){function bt(_e,Y){return{textDocument:_e,edits:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&kt.is(Y.textDocument)&&Array.isArray(Y.edits)}o(wt,"is"),Q.is=wt})(Xt||(t.TextDocumentEdit=Xt={}));var f0;(function(Q){function bt(_e,Y,d0){var P0={kind:"create",uri:_e};return Y!==void 0&&(Y.overwrite!==void 0||Y.ignoreIfExists!==void 0)&&(P0.options=Y),d0!==void 0&&(P0.annotationId=d0),P0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y&&Y.kind==="create"&&s0.string(Y.uri)&&(Y.options===void 0||(Y.options.overwrite===void 0||s0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||s0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||ve.is(Y.annotationId))}o(wt,"is"),Q.is=wt})(f0||(t.CreateFile=f0={}));var Jt;(function(Q){function bt(_e,Y,d0,P0){var sn={kind:"rename",oldUri:_e,newUri:Y};return d0!==void 0&&(d0.overwrite!==void 0||d0.ignoreIfExists!==void 0)&&(sn.options=d0),P0!==void 0&&(sn.annotationId=P0),sn}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y&&Y.kind==="rename"&&s0.string(Y.oldUri)&&s0.string(Y.newUri)&&(Y.options===void 0||(Y.options.overwrite===void 0||s0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||s0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||ve.is(Y.annotationId))}o(wt,"is"),Q.is=wt})(Jt||(t.RenameFile=Jt={}));var c0;(function(Q){function bt(_e,Y,d0){var P0={kind:"delete",uri:_e};return Y!==void 0&&(Y.recursive!==void 0||Y.ignoreIfNotExists!==void 0)&&(P0.options=Y),d0!==void 0&&(P0.annotationId=d0),P0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y&&Y.kind==="delete"&&s0.string(Y.uri)&&(Y.options===void 0||(Y.options.recursive===void 0||s0.boolean(Y.options.recursive))&&(Y.options.ignoreIfNotExists===void 0||s0.boolean(Y.options.ignoreIfNotExists)))&&(Y.annotationId===void 0||ve.is(Y.annotationId))}o(wt,"is"),Q.is=wt})(c0||(t.DeleteFile=c0={}));var yt;(function(Q){function bt(wt){var _e=wt;return _e&&(_e.changes!==void 0||_e.documentChanges!==void 0)&&(_e.documentChanges===void 0||_e.documentChanges.every(function(Y){return s0.string(Y.kind)?f0.is(Y)||Jt.is(Y)||c0.is(Y):Xt.is(Y)}))}o(bt,"is"),Q.is=bt})(yt||(t.WorkspaceEdit=yt={}));var je=function(){function Q(bt,wt){this.edits=bt,this.changeAnnotations=wt}return o(Q,"TextEditChangeImpl"),Q.prototype.insert=function(bt,wt,_e){var Y,d0;if(_e===void 0?Y=L.insert(bt,wt):ve.is(_e)?(d0=_e,Y=we.insert(bt,wt,_e)):(this.assertChangeAnnotations(this.changeAnnotations),d0=this.changeAnnotations.manage(_e),Y=we.insert(bt,wt,d0)),this.edits.push(Y),d0!==void 0)return d0},Q.prototype.replace=function(bt,wt,_e){var Y,d0;if(_e===void 0?Y=L.replace(bt,wt):ve.is(_e)?(d0=_e,Y=we.replace(bt,wt,_e)):(this.assertChangeAnnotations(this.changeAnnotations),d0=this.changeAnnotations.manage(_e),Y=we.replace(bt,wt,d0)),this.edits.push(Y),d0!==void 0)return d0},Q.prototype.delete=function(bt,wt){var _e,Y;if(wt===void 0?_e=L.del(bt):ve.is(wt)?(Y=wt,_e=we.del(bt,wt)):(this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(wt),_e=we.del(bt,Y)),this.edits.push(_e),Y!==void 0)return Y},Q.prototype.add=function(bt){this.edits.push(bt)},Q.prototype.all=function(){return this.edits},Q.prototype.clear=function(){this.edits.splice(0,this.edits.length)},Q.prototype.assertChangeAnnotations=function(bt){if(bt===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},Q}(),i0=function(){function Q(bt){this._annotations=bt===void 0?Object.create(null):bt,this._counter=0,this._size=0}return o(Q,"ChangeAnnotations"),Q.prototype.all=function(){return this._annotations},Object.defineProperty(Q.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Q.prototype.manage=function(bt,wt){var _e;if(ve.is(bt)?_e=bt:(_e=this.nextId(),wt=bt),this._annotations[_e]!==void 0)throw new Error("Id ".concat(_e," is already in use."));if(wt===void 0)throw new Error("No annotation provided for id ".concat(_e));return this._annotations[_e]=wt,this._size++,_e},Q.prototype.nextId=function(){return this._counter++,this._counter.toString()},Q}(),u0=function(){function Q(bt){var wt=this;this._textEditChanges=Object.create(null),bt!==void 0?(this._workspaceEdit=bt,bt.documentChanges?(this._changeAnnotations=new i0(bt.changeAnnotations),bt.changeAnnotations=this._changeAnnotations.all(),bt.documentChanges.forEach(function(_e){if(Xt.is(_e)){var Y=new je(_e.edits,wt._changeAnnotations);wt._textEditChanges[_e.textDocument.uri]=Y}})):bt.changes&&Object.keys(bt.changes).forEach(function(_e){var Y=new je(bt.changes[_e]);wt._textEditChanges[_e]=Y})):this._workspaceEdit={}}return o(Q,"WorkspaceChange"),Object.defineProperty(Q.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),Q.prototype.getTextEditChange=function(bt){if(kt.is(bt)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var wt={uri:bt.uri,version:bt.version},_e=this._textEditChanges[wt.uri];if(!_e){var Y=[],d0={textDocument:wt,edits:Y};this._workspaceEdit.documentChanges.push(d0),_e=new je(Y,this._changeAnnotations),this._textEditChanges[wt.uri]=_e}return _e}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var _e=this._textEditChanges[bt];if(!_e){var Y=[];this._workspaceEdit.changes[bt]=Y,_e=new je(Y),this._textEditChanges[bt]=_e}return _e}},Q.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new i0,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},Q.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},Q.prototype.createFile=function(bt,wt,_e){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;F.is(wt)||ve.is(wt)?Y=wt:_e=wt;var d0,P0;if(Y===void 0?d0=f0.create(bt,_e):(P0=ve.is(Y)?Y:this._changeAnnotations.manage(Y),d0=f0.create(bt,_e,P0)),this._workspaceEdit.documentChanges.push(d0),P0!==void 0)return P0},Q.prototype.renameFile=function(bt,wt,_e,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d0;F.is(_e)||ve.is(_e)?d0=_e:Y=_e;var P0,sn;if(d0===void 0?P0=Jt.create(bt,wt,Y):(sn=ve.is(d0)?d0:this._changeAnnotations.manage(d0),P0=Jt.create(bt,wt,Y,sn)),this._workspaceEdit.documentChanges.push(P0),sn!==void 0)return sn},Q.prototype.deleteFile=function(bt,wt,_e){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;F.is(wt)||ve.is(wt)?Y=wt:_e=wt;var d0,P0;if(Y===void 0?d0=c0.create(bt,_e):(P0=ve.is(Y)?Y:this._changeAnnotations.manage(Y),d0=c0.create(bt,_e,P0)),this._workspaceEdit.documentChanges.push(d0),P0!==void 0)return P0},Q}();t.WorkspaceChange=u0;var l0;(function(Q){function bt(_e){return{uri:_e}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.string(Y.uri)}o(wt,"is"),Q.is=wt})(l0||(t.TextDocumentIdentifier=l0={}));var N0;(function(Q){function bt(_e,Y){return{uri:_e,version:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.string(Y.uri)&&s0.integer(Y.version)}o(wt,"is"),Q.is=wt})(N0||(t.VersionedTextDocumentIdentifier=N0={}));var kt;(function(Q){function bt(_e,Y){return{uri:_e,version:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.string(Y.uri)&&(Y.version===null||s0.integer(Y.version))}o(wt,"is"),Q.is=wt})(kt||(t.OptionalVersionedTextDocumentIdentifier=kt={}));var o0;(function(Q){function bt(_e,Y,d0,P0){return{uri:_e,languageId:Y,version:d0,text:P0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.string(Y.uri)&&s0.string(Y.languageId)&&s0.integer(Y.version)&&s0.string(Y.text)}o(wt,"is"),Q.is=wt})(o0||(t.TextDocumentItem=o0={}));var de;(function(Q){Q.PlainText="plaintext",Q.Markdown="markdown";function bt(wt){var _e=wt;return _e===Q.PlainText||_e===Q.Markdown}o(bt,"is"),Q.is=bt})(de||(t.MarkupKind=de={}));var Me;(function(Q){function bt(wt){var _e=wt;return s0.objectLiteral(wt)&&de.is(_e.kind)&&s0.string(_e.value)}o(bt,"is"),Q.is=bt})(Me||(t.MarkupContent=Me={}));var b0;(function(Q){Q.Text=1,Q.Method=2,Q.Function=3,Q.Constructor=4,Q.Field=5,Q.Variable=6,Q.Class=7,Q.Interface=8,Q.Module=9,Q.Property=10,Q.Unit=11,Q.Value=12,Q.Enum=13,Q.Keyword=14,Q.Snippet=15,Q.Color=16,Q.File=17,Q.Reference=18,Q.Folder=19,Q.EnumMember=20,Q.Constant=21,Q.Struct=22,Q.Event=23,Q.Operator=24,Q.TypeParameter=25})(b0||(t.CompletionItemKind=b0={}));var H0;(function(Q){Q.PlainText=1,Q.Snippet=2})(H0||(t.InsertTextFormat=H0={}));var F0;(function(Q){Q.Deprecated=1})(F0||(t.CompletionItemTag=F0={}));var y0;(function(Q){function bt(_e,Y,d0){return{newText:_e,insert:Y,replace:d0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y&&s0.string(Y.newText)&&f.is(Y.insert)&&f.is(Y.replace)}o(wt,"is"),Q.is=wt})(y0||(t.InsertReplaceEdit=y0={}));var Er;(function(Q){Q.asIs=1,Q.adjustIndentation=2})(Er||(t.InsertTextMode=Er={}));var Se;(function(Q){function bt(wt){var _e=wt;return _e&&(s0.string(_e.detail)||_e.detail===void 0)&&(s0.string(_e.description)||_e.description===void 0)}o(bt,"is"),Q.is=bt})(Se||(t.CompletionItemLabelDetails=Se={}));var O0;(function(Q){function bt(wt){return{label:wt}}o(bt,"create"),Q.create=bt})(O0||(t.CompletionItem=O0={}));var St;(function(Q){function bt(wt,_e){return{items:wt||[],isIncomplete:!!_e}}o(bt,"create"),Q.create=bt})(St||(t.CompletionList=St={}));var L0;(function(Q){function bt(_e){return _e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(bt,"fromPlainText"),Q.fromPlainText=bt;function wt(_e){var Y=_e;return s0.string(Y)||s0.objectLiteral(Y)&&s0.string(Y.language)&&s0.string(Y.value)}o(wt,"is"),Q.is=wt})(L0||(t.MarkedString=L0={}));var k0;(function(Q){function bt(wt){var _e=wt;return!!_e&&s0.objectLiteral(_e)&&(Me.is(_e.contents)||L0.is(_e.contents)||s0.typedArray(_e.contents,L0.is))&&(wt.range===void 0||f.is(wt.range))}o(bt,"is"),Q.is=bt})(k0||(t.Hover=k0={}));var z0;(function(Q){function bt(wt,_e){return _e?{label:wt,documentation:_e}:{label:wt}}o(bt,"create"),Q.create=bt})(z0||(t.ParameterInformation=z0={}));var Sr;(function(Q){function bt(wt,_e){for(var Y=[],d0=2;d0<arguments.length;d0++)Y[d0-2]=arguments[d0];var P0={label:wt};return s0.defined(_e)&&(P0.documentation=_e),s0.defined(Y)?P0.parameters=Y:P0.parameters=[],P0}o(bt,"create"),Q.create=bt})(Sr||(t.SignatureInformation=Sr={}));var zr;(function(Q){Q.Text=1,Q.Read=2,Q.Write=3})(zr||(t.DocumentHighlightKind=zr={}));var Mr;(function(Q){function bt(wt,_e){var Y={range:wt};return s0.number(_e)&&(Y.kind=_e),Y}o(bt,"create"),Q.create=bt})(Mr||(t.DocumentHighlight=Mr={}));var le;(function(Q){Q.File=1,Q.Module=2,Q.Namespace=3,Q.Package=4,Q.Class=5,Q.Method=6,Q.Property=7,Q.Field=8,Q.Constructor=9,Q.Enum=10,Q.Interface=11,Q.Function=12,Q.Variable=13,Q.Constant=14,Q.String=15,Q.Number=16,Q.Boolean=17,Q.Array=18,Q.Object=19,Q.Key=20,Q.Null=21,Q.EnumMember=22,Q.Struct=23,Q.Event=24,Q.Operator=25,Q.TypeParameter=26})(le||(t.SymbolKind=le={}));var nn;(function(Q){Q.Deprecated=1})(nn||(t.SymbolTag=nn={}));var mr;(function(Q){function bt(wt,_e,Y,d0,P0){var sn={name:wt,kind:_e,location:{uri:d0,range:Y}};return P0&&(sn.containerName=P0),sn}o(bt,"create"),Q.create=bt})(mr||(t.SymbolInformation=mr={}));var Vs;(function(Q){function bt(wt,_e,Y,d0){return d0!==void 0?{name:wt,kind:_e,location:{uri:Y,range:d0}}:{name:wt,kind:_e,location:{uri:Y}}}o(bt,"create"),Q.create=bt})(Vs||(t.WorkspaceSymbol=Vs={}));var Bs;(function(Q){function bt(_e,Y,d0,P0,sn,zs){var qs={name:_e,detail:Y,kind:d0,range:P0,selectionRange:sn};return zs!==void 0&&(qs.children=zs),qs}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y&&s0.string(Y.name)&&s0.number(Y.kind)&&f.is(Y.range)&&f.is(Y.selectionRange)&&(Y.detail===void 0||s0.string(Y.detail))&&(Y.deprecated===void 0||s0.boolean(Y.deprecated))&&(Y.children===void 0||Array.isArray(Y.children))&&(Y.tags===void 0||Array.isArray(Y.tags))}o(wt,"is"),Q.is=wt})(Bs||(t.DocumentSymbol=Bs={}));var ra;(function(Q){Q.Empty="",Q.QuickFix="quickfix",Q.Refactor="refactor",Q.RefactorExtract="refactor.extract",Q.RefactorInline="refactor.inline",Q.RefactorRewrite="refactor.rewrite",Q.Source="source",Q.SourceOrganizeImports="source.organizeImports",Q.SourceFixAll="source.fixAll"})(ra||(t.CodeActionKind=ra={}));var Os;(function(Q){Q.Invoked=1,Q.Automatic=2})(Os||(t.CodeActionTriggerKind=Os={}));var Da;(function(Q){function bt(_e,Y,d0){var P0={diagnostics:_e};return Y!=null&&(P0.only=Y),d0!=null&&(P0.triggerKind=d0),P0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.typedArray(Y.diagnostics,B.is)&&(Y.only===void 0||s0.typedArray(Y.only,s0.string))&&(Y.triggerKind===void 0||Y.triggerKind===Os.Invoked||Y.triggerKind===Os.Automatic)}o(wt,"is"),Q.is=wt})(Da||(t.CodeActionContext=Da={}));var Ja;(function(Q){function bt(_e,Y,d0){var P0={title:_e},sn=!0;return typeof Y=="string"?(sn=!1,P0.kind=Y):O.is(Y)?P0.command=Y:P0.edit=Y,sn&&d0!==void 0&&(P0.kind=d0),P0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y&&s0.string(Y.title)&&(Y.diagnostics===void 0||s0.typedArray(Y.diagnostics,B.is))&&(Y.kind===void 0||s0.string(Y.kind))&&(Y.edit!==void 0||Y.command!==void 0)&&(Y.command===void 0||O.is(Y.command))&&(Y.isPreferred===void 0||s0.boolean(Y.isPreferred))&&(Y.edit===void 0||yt.is(Y.edit))}o(wt,"is"),Q.is=wt})(Ja||(t.CodeAction=Ja={}));var Cl;(function(Q){function bt(_e,Y){var d0={range:_e};return s0.defined(Y)&&(d0.data=Y),d0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&f.is(Y.range)&&(s0.undefined(Y.command)||O.is(Y.command))}o(wt,"is"),Q.is=wt})(Cl||(t.CodeLens=Cl={}));var Xa;(function(Q){function bt(_e,Y){return{tabSize:_e,insertSpaces:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&s0.uinteger(Y.tabSize)&&s0.boolean(Y.insertSpaces)}o(wt,"is"),Q.is=wt})(Xa||(t.FormattingOptions=Xa={}));var hn;(function(Q){function bt(_e,Y,d0){return{range:_e,target:Y,data:d0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&f.is(Y.range)&&(s0.undefined(Y.target)||s0.string(Y.target))}o(wt,"is"),Q.is=wt})(hn||(t.DocumentLink=hn={}));var Ue;(function(Q){function bt(_e,Y){return{range:_e,parent:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&f.is(Y.range)&&(Y.parent===void 0||Q.is(Y.parent))}o(wt,"is"),Q.is=wt})(Ue||(t.SelectionRange=Ue={}));var V;(function(Q){Q.namespace="namespace",Q.type="type",Q.class="class",Q.enum="enum",Q.interface="interface",Q.struct="struct",Q.typeParameter="typeParameter",Q.parameter="parameter",Q.variable="variable",Q.property="property",Q.enumMember="enumMember",Q.event="event",Q.function="function",Q.method="method",Q.macro="macro",Q.keyword="keyword",Q.modifier="modifier",Q.comment="comment",Q.string="string",Q.number="number",Q.regexp="regexp",Q.operator="operator",Q.decorator="decorator"})(V||(t.SemanticTokenTypes=V={}));var W;(function(Q){Q.declaration="declaration",Q.definition="definition",Q.readonly="readonly",Q.static="static",Q.deprecated="deprecated",Q.abstract="abstract",Q.async="async",Q.modification="modification",Q.documentation="documentation",Q.defaultLibrary="defaultLibrary"})(W||(t.SemanticTokenModifiers=W={}));var M0;(function(Q){function bt(wt){var _e=wt;return s0.objectLiteral(_e)&&(_e.resultId===void 0||typeof _e.resultId=="string")&&Array.isArray(_e.data)&&(_e.data.length===0||typeof _e.data[0]=="number")}o(bt,"is"),Q.is=bt})(M0||(t.SemanticTokens=M0={}));var an;(function(Q){function bt(_e,Y){return{range:_e,text:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y!=null&&f.is(Y.range)&&s0.string(Y.text)}o(wt,"is"),Q.is=wt})(an||(t.InlineValueText=an={}));var Qi;(function(Q){function bt(_e,Y,d0){return{range:_e,variableName:Y,caseSensitiveLookup:d0}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y!=null&&f.is(Y.range)&&s0.boolean(Y.caseSensitiveLookup)&&(s0.string(Y.variableName)||Y.variableName===void 0)}o(wt,"is"),Q.is=wt})(Qi||(t.InlineValueVariableLookup=Qi={}));var hs;(function(Q){function bt(_e,Y){return{range:_e,expression:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return Y!=null&&f.is(Y.range)&&(s0.string(Y.expression)||Y.expression===void 0)}o(wt,"is"),Q.is=wt})(hs||(t.InlineValueEvaluatableExpression=hs={}));var cn;(function(Q){function bt(_e,Y){return{frameId:_e,stoppedLocation:Y}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.defined(Y)&&f.is(_e.stoppedLocation)}o(wt,"is"),Q.is=wt})(cn||(t.InlineValueContext=cn={}));var ks;(function(Q){Q.Type=1,Q.Parameter=2;function bt(wt){return wt===1||wt===2}o(bt,"is"),Q.is=bt})(ks||(t.InlayHintKind=ks={}));var Fi;(function(Q){function bt(_e){return{value:_e}}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&(Y.tooltip===void 0||s0.string(Y.tooltip)||Me.is(Y.tooltip))&&(Y.location===void 0||c.is(Y.location))&&(Y.command===void 0||O.is(Y.command))}o(wt,"is"),Q.is=wt})(Fi||(t.InlayHintLabelPart=Fi={}));var Us;(function(Q){function bt(_e,Y,d0){var P0={position:_e,label:Y};return d0!==void 0&&(P0.kind=d0),P0}o(bt,"create"),Q.create=bt;function wt(_e){var Y=_e;return s0.objectLiteral(Y)&&l.is(Y.position)&&(s0.string(Y.label)||s0.typedArray(Y.label,Fi.is))&&(Y.kind===void 0||ks.is(Y.kind))&&Y.textEdits===void 0||s0.typedArray(Y.textEdits,L.is)&&(Y.tooltip===void 0||s0.string(Y.tooltip)||Me.is(Y.tooltip))&&(Y.paddingLeft===void 0||s0.boolean(Y.paddingLeft))&&(Y.paddingRight===void 0||s0.boolean(Y.paddingRight))}o(wt,"is"),Q.is=wt})(Us||(t.InlayHint=Us={}));var us;(function(Q){function bt(wt){return{kind:"snippet",value:wt}}o(bt,"createSnippet"),Q.createSnippet=bt})(us||(t.StringValue=us={}));var Fs;(function(Q){function bt(wt,_e,Y,d0){return{insertText:wt,filterText:_e,range:Y,command:d0}}o(bt,"create"),Q.create=bt})(Fs||(t.InlineCompletionItem=Fs={}));var Dr;(function(Q){function bt(wt){return{items:wt}}o(bt,"create"),Q.create=bt})(Dr||(t.InlineCompletionList=Dr={}));var zf;(function(Q){Q.Invoked=0,Q.Automatic=1})(zf||(t.InlineCompletionTriggerKind=zf={}));var Iu;(function(Q){function bt(wt,_e){return{range:wt,text:_e}}o(bt,"create"),Q.create=bt})(Iu||(t.SelectedCompletionInfo=Iu={}));var El;(function(Q){function bt(wt,_e){return{triggerKind:wt,selectedCompletionInfo:_e}}o(bt,"create"),Q.create=bt})(El||(t.InlineCompletionContext=El={}));var pc;(function(Q){function bt(wt){var _e=wt;return s0.objectLiteral(_e)&&n.is(_e.uri)&&s0.string(_e.name)}o(bt,"is"),Q.is=bt})(pc||(t.WorkspaceFolder=pc={})),t.EOL=[`
`,`\r
`,"\r"];var Ef;(function(Q){function bt(d0,P0,sn,zs){return new Zc(d0,P0,sn,zs)}o(bt,"create"),Q.create=bt;function wt(d0){var P0=d0;return!!(s0.defined(P0)&&s0.string(P0.uri)&&(s0.undefined(P0.languageId)||s0.string(P0.languageId))&&s0.uinteger(P0.lineCount)&&s0.func(P0.getText)&&s0.func(P0.positionAt)&&s0.func(P0.offsetAt))}o(wt,"is"),Q.is=wt;function _e(d0,P0){for(var sn=d0.getText(),zs=Y(P0,function(js,Zs){var Sl=js.range.start.line-Zs.range.start.line;return Sl===0?js.range.start.character-Zs.range.start.character:Sl}),qs=sn.length,Tl=zs.length-1;Tl>=0;Tl--){var Ks=zs[Tl],zl=d0.offsetAt(Ks.range.start),Pi=d0.offsetAt(Ks.range.end);if(Pi<=qs)sn=sn.substring(0,zl)+Ks.newText+sn.substring(Pi,sn.length);else throw new Error("Overlapping edit");qs=zl}return sn}o(_e,"applyEdits"),Q.applyEdits=_e;function Y(d0,P0){if(d0.length<=1)return d0;var sn=d0.length/2|0,zs=d0.slice(0,sn),qs=d0.slice(sn);Y(zs,P0),Y(qs,P0);for(var Tl=0,Ks=0,zl=0;Tl<zs.length&&Ks<qs.length;){var Pi=P0(zs[Tl],qs[Ks]);Pi<=0?d0[zl++]=zs[Tl++]:d0[zl++]=qs[Ks++]}for(;Tl<zs.length;)d0[zl++]=zs[Tl++];for(;Ks<qs.length;)d0[zl++]=qs[Ks++];return d0}o(Y,"mergeSort")})(Ef||(t.TextDocument=Ef={}));var Zc=function(){function Q(bt,wt,_e,Y){this._uri=bt,this._languageId=wt,this._version=_e,this._content=Y,this._lineOffsets=void 0}return o(Q,"FullTextDocument"),Object.defineProperty(Q.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Q.prototype.getText=function(bt){if(bt){var wt=this.offsetAt(bt.start),_e=this.offsetAt(bt.end);return this._content.substring(wt,_e)}return this._content},Q.prototype.update=function(bt,wt){this._content=bt.text,this._version=wt,this._lineOffsets=void 0},Q.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var bt=[],wt=this._content,_e=!0,Y=0;Y<wt.length;Y++){_e&&(bt.push(Y),_e=!1);var d0=wt.charAt(Y);_e=d0==="\r"||d0===`
`,d0==="\r"&&Y+1<wt.length&&wt.charAt(Y+1)===`
`&&Y++}_e&&wt.length>0&&bt.push(wt.length),this._lineOffsets=bt}return this._lineOffsets},Q.prototype.positionAt=function(bt){bt=Math.max(Math.min(bt,this._content.length),0);var wt=this.getLineOffsets(),_e=0,Y=wt.length;if(Y===0)return l.create(0,bt);for(;_e<Y;){var d0=Math.floor((_e+Y)/2);wt[d0]>bt?Y=d0:_e=d0+1}var P0=_e-1;return l.create(P0,bt-wt[P0])},Q.prototype.offsetAt=function(bt){var wt=this.getLineOffsets();if(bt.line>=wt.length)return this._content.length;if(bt.line<0)return 0;var _e=wt[bt.line],Y=bt.line+1<wt.length?wt[bt.line+1]:this._content.length;return Math.max(Math.min(_e+bt.character,Y),_e)},Object.defineProperty(Q.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),Q}(),s0;(function(Q){var bt=Object.prototype.toString;function wt(Pi){return typeof Pi<"u"}o(wt,"defined"),Q.defined=wt;function _e(Pi){return typeof Pi>"u"}o(_e,"undefined"),Q.undefined=_e;function Y(Pi){return Pi===!0||Pi===!1}o(Y,"boolean"),Q.boolean=Y;function d0(Pi){return bt.call(Pi)==="[object String]"}o(d0,"string"),Q.string=d0;function P0(Pi){return bt.call(Pi)==="[object Number]"}o(P0,"number"),Q.number=P0;function sn(Pi,js,Zs){return bt.call(Pi)==="[object Number]"&&js<=Pi&&Pi<=Zs}o(sn,"numberRange"),Q.numberRange=sn;function zs(Pi){return bt.call(Pi)==="[object Number]"&&-2147483648<=Pi&&Pi<=2147483647}o(zs,"integer"),Q.integer=zs;function qs(Pi){return bt.call(Pi)==="[object Number]"&&0<=Pi&&Pi<=2147483647}o(qs,"uinteger"),Q.uinteger=qs;function Tl(Pi){return bt.call(Pi)==="[object Function]"}o(Tl,"func"),Q.func=Tl;function Ks(Pi){return Pi!==null&&typeof Pi=="object"}o(Ks,"objectLiteral"),Q.objectLiteral=Ks;function zl(Pi,js){return Array.isArray(Pi)&&Pi.every(js)}o(zl,"typedArray"),Q.typedArray=zl})(s0||(s0={}))})});var ha=t0(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.ProtocolNotificationType=Ff.ProtocolNotificationType0=Ff.ProtocolRequestType=Ff.ProtocolRequestType0=Ff.RegistrationType=Ff.MessageDirection=void 0;var g8=n4(),QB;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(QB||(Ff.MessageDirection=QB={}));var pw=class pw{constructor(t){this.method=t}};o(pw,"RegistrationType");var uw=pw;Ff.RegistrationType=uw;var yw=class yw extends g8.RequestType0{constructor(t){super(t)}};o(yw,"ProtocolRequestType0");var dw=yw;Ff.ProtocolRequestType0=dw;var vw=class vw extends g8.RequestType{constructor(t){super(t,g8.ParameterStructures.byName)}};o(vw,"ProtocolRequestType");var hw=vw;Ff.ProtocolRequestType=hw;var xw=class xw extends g8.NotificationType0{constructor(t){super(t)}};o(xw,"ProtocolNotificationType0");var gw=xw;Ff.ProtocolNotificationType0=gw;var _w=class _w extends g8.NotificationType{constructor(t){super(t,g8.ParameterStructures.byName)}};o(_w,"ProtocolNotificationType");var mw=_w;Ff.ProtocolNotificationType=mw});var Sv=t0(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.objectLiteral=Va.typedArray=Va.stringArray=Va.array=Va.func=Va.error=Va.number=Va.string=Va.boolean=void 0;function xX(e){return e===!0||e===!1}o(xX,"boolean");Va.boolean=xX;function eO(e){return typeof e=="string"||e instanceof String}o(eO,"string");Va.string=eO;function _X(e){return typeof e=="number"||e instanceof Number}o(_X,"number");Va.number=_X;function bX(e){return e instanceof Error}o(bX,"error");Va.error=bX;function CX(e){return typeof e=="function"}o(CX,"func");Va.func=CX;function tO(e){return Array.isArray(e)}o(tO,"array");Va.array=tO;function EX(e){return tO(e)&&e.every(t=>eO(t))}o(EX,"stringArray");Va.stringArray=EX;function TX(e,t){return Array.isArray(e)&&e.every(t)}o(TX,"typedArray");Va.typedArray=TX;function SX(e){return e!==null&&typeof e=="object"}o(SX,"objectLiteral");Va.objectLiteral=SX});var iO=t0(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.ImplementationRequest=void 0;var rO=ha(),nO;(function(e){e.method="textDocument/implementation",e.messageDirection=rO.MessageDirection.clientToServer,e.type=new rO.ProtocolRequestType(e.method)})(nO||(wv.ImplementationRequest=nO={}))});var aO=t0(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});Iv.TypeDefinitionRequest=void 0;var sO=ha(),oO;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=sO.MessageDirection.clientToServer,e.type=new sO.ProtocolRequestType(e.method)})(oO||(Iv.TypeDefinitionRequest=oO={}))});var cO=t0(m8=>{"use strict";Object.defineProperty(m8,"__esModule",{value:!0});m8.DidChangeWorkspaceFoldersNotification=m8.WorkspaceFoldersRequest=void 0;var Av=ha(),lO;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Av.MessageDirection.serverToClient,e.type=new Av.ProtocolRequestType0(e.method)})(lO||(m8.WorkspaceFoldersRequest=lO={}));var fO;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Av.MessageDirection.clientToServer,e.type=new Av.ProtocolNotificationType(e.method)})(fO||(m8.DidChangeWorkspaceFoldersNotification=fO={}))});var hO=t0(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.ConfigurationRequest=void 0;var uO=ha(),dO;(function(e){e.method="workspace/configuration",e.messageDirection=uO.MessageDirection.serverToClient,e.type=new uO.ProtocolRequestType(e.method)})(dO||(Pv.ConfigurationRequest=dO={}))});var pO=t0(p8=>{"use strict";Object.defineProperty(p8,"__esModule",{value:!0});p8.ColorPresentationRequest=p8.DocumentColorRequest=void 0;var Rv=ha(),gO;(function(e){e.method="textDocument/documentColor",e.messageDirection=Rv.MessageDirection.clientToServer,e.type=new Rv.ProtocolRequestType(e.method)})(gO||(p8.DocumentColorRequest=gO={}));var mO;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Rv.MessageDirection.clientToServer,e.type=new Rv.ProtocolRequestType(e.method)})(mO||(p8.ColorPresentationRequest=mO={}))});var xO=t0(y8=>{"use strict";Object.defineProperty(y8,"__esModule",{value:!0});y8.FoldingRangeRefreshRequest=y8.FoldingRangeRequest=void 0;var Nv=ha(),yO;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Nv.MessageDirection.clientToServer,e.type=new Nv.ProtocolRequestType(e.method)})(yO||(y8.FoldingRangeRequest=yO={}));var vO;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=Nv.MessageDirection.serverToClient,e.type=new Nv.ProtocolRequestType0(e.method)})(vO||(y8.FoldingRangeRefreshRequest=vO={}))});var CO=t0(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.DeclarationRequest=void 0;var _O=ha(),bO;(function(e){e.method="textDocument/declaration",e.messageDirection=_O.MessageDirection.clientToServer,e.type=new _O.ProtocolRequestType(e.method)})(bO||(kv.DeclarationRequest=bO={}))});var SO=t0(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.SelectionRangeRequest=void 0;var EO=ha(),TO;(function(e){e.method="textDocument/selectionRange",e.messageDirection=EO.MessageDirection.clientToServer,e.type=new EO.ProtocolRequestType(e.method)})(TO||(Dv.SelectionRangeRequest=TO={}))});var PO=t0(W5=>{"use strict";Object.defineProperty(W5,"__esModule",{value:!0});W5.WorkDoneProgressCancelNotification=W5.WorkDoneProgressCreateRequest=W5.WorkDoneProgress=void 0;var wX=n4(),Lv=ha(),wO;(function(e){e.type=new wX.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(wO||(W5.WorkDoneProgress=wO={}));var IO;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Lv.MessageDirection.serverToClient,e.type=new Lv.ProtocolRequestType(e.method)})(IO||(W5.WorkDoneProgressCreateRequest=IO={}));var AO;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Lv.MessageDirection.clientToServer,e.type=new Lv.ProtocolNotificationType(e.method)})(AO||(W5.WorkDoneProgressCancelNotification=AO={}))});var DO=t0(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.CallHierarchyOutgoingCallsRequest=Y5.CallHierarchyIncomingCallsRequest=Y5.CallHierarchyPrepareRequest=void 0;var v8=ha(),RO;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=v8.MessageDirection.clientToServer,e.type=new v8.ProtocolRequestType(e.method)})(RO||(Y5.CallHierarchyPrepareRequest=RO={}));var NO;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=v8.MessageDirection.clientToServer,e.type=new v8.ProtocolRequestType(e.method)})(NO||(Y5.CallHierarchyIncomingCallsRequest=NO={}));var kO;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=v8.MessageDirection.clientToServer,e.type=new v8.ProtocolRequestType(e.method)})(kO||(Y5.CallHierarchyOutgoingCallsRequest=kO={}))});var UO=t0(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.SemanticTokensRefreshRequest=Mf.SemanticTokensRangeRequest=Mf.SemanticTokensDeltaRequest=Mf.SemanticTokensRequest=Mf.SemanticTokensRegistrationType=Mf.TokenFormat=void 0;var dd=ha(),LO;(function(e){e.Relative="relative"})(LO||(Mf.TokenFormat=LO={}));var Wm;(function(e){e.method="textDocument/semanticTokens",e.type=new dd.RegistrationType(e.method)})(Wm||(Mf.SemanticTokensRegistrationType=Wm={}));var BO;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=dd.MessageDirection.clientToServer,e.type=new dd.ProtocolRequestType(e.method),e.registrationMethod=Wm.method})(BO||(Mf.SemanticTokensRequest=BO={}));var OO;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=dd.MessageDirection.clientToServer,e.type=new dd.ProtocolRequestType(e.method),e.registrationMethod=Wm.method})(OO||(Mf.SemanticTokensDeltaRequest=OO={}));var FO;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=dd.MessageDirection.clientToServer,e.type=new dd.ProtocolRequestType(e.method),e.registrationMethod=Wm.method})(FO||(Mf.SemanticTokensRangeRequest=FO={}));var MO;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=dd.MessageDirection.serverToClient,e.type=new dd.ProtocolRequestType0(e.method)})(MO||(Mf.SemanticTokensRefreshRequest=MO={}))});var $O=t0(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0});Bv.ShowDocumentRequest=void 0;var qO=ha(),jO;(function(e){e.method="window/showDocument",e.messageDirection=qO.MessageDirection.serverToClient,e.type=new qO.ProtocolRequestType(e.method)})(jO||(Bv.ShowDocumentRequest=jO={}))});var zO=t0(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.LinkedEditingRangeRequest=void 0;var HO=ha(),VO;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=HO.MessageDirection.clientToServer,e.type=new HO.ProtocolRequestType(e.method)})(VO||(Ov.LinkedEditingRangeRequest=VO={}))});var QO=t0(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.WillDeleteFilesRequest=of.DidDeleteFilesNotification=of.DidRenameFilesNotification=of.WillRenameFilesRequest=of.DidCreateFilesNotification=of.WillCreateFilesRequest=of.FileOperationPatternKind=void 0;var Dc=ha(),GO;(function(e){e.file="file",e.folder="folder"})(GO||(of.FileOperationPatternKind=GO={}));var KO;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolRequestType(e.method)})(KO||(of.WillCreateFilesRequest=KO={}));var WO;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolNotificationType(e.method)})(WO||(of.DidCreateFilesNotification=WO={}));var YO;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolRequestType(e.method)})(YO||(of.WillRenameFilesRequest=YO={}));var JO;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolNotificationType(e.method)})(JO||(of.DidRenameFilesNotification=JO={}));var XO;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolNotificationType(e.method)})(XO||(of.DidDeleteFilesNotification=XO={}));var ZO;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Dc.MessageDirection.clientToServer,e.type=new Dc.ProtocolRequestType(e.method)})(ZO||(of.WillDeleteFilesRequest=ZO={}))});var iF=t0(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});J5.MonikerRequest=J5.MonikerKind=J5.UniquenessLevel=void 0;var eF=ha(),tF;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(tF||(J5.UniquenessLevel=tF={}));var rF;(function(e){e.$import="import",e.$export="export",e.local="local"})(rF||(J5.MonikerKind=rF={}));var nF;(function(e){e.method="textDocument/moniker",e.messageDirection=eF.MessageDirection.clientToServer,e.type=new eF.ProtocolRequestType(e.method)})(nF||(J5.MonikerRequest=nF={}))});var lF=t0(X5=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});X5.TypeHierarchySubtypesRequest=X5.TypeHierarchySupertypesRequest=X5.TypeHierarchyPrepareRequest=void 0;var x8=ha(),sF;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=x8.MessageDirection.clientToServer,e.type=new x8.ProtocolRequestType(e.method)})(sF||(X5.TypeHierarchyPrepareRequest=sF={}));var oF;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=x8.MessageDirection.clientToServer,e.type=new x8.ProtocolRequestType(e.method)})(oF||(X5.TypeHierarchySupertypesRequest=oF={}));var aF;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=x8.MessageDirection.clientToServer,e.type=new x8.ProtocolRequestType(e.method)})(aF||(X5.TypeHierarchySubtypesRequest=aF={}))});var uF=t0(_8=>{"use strict";Object.defineProperty(_8,"__esModule",{value:!0});_8.InlineValueRefreshRequest=_8.InlineValueRequest=void 0;var Fv=ha(),fF;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Fv.MessageDirection.clientToServer,e.type=new Fv.ProtocolRequestType(e.method)})(fF||(_8.InlineValueRequest=fF={}));var cF;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Fv.MessageDirection.serverToClient,e.type=new Fv.ProtocolRequestType0(e.method)})(cF||(_8.InlineValueRefreshRequest=cF={}))});var mF=t0(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});Z5.InlayHintRefreshRequest=Z5.InlayHintResolveRequest=Z5.InlayHintRequest=void 0;var b8=ha(),dF;(function(e){e.method="textDocument/inlayHint",e.messageDirection=b8.MessageDirection.clientToServer,e.type=new b8.ProtocolRequestType(e.method)})(dF||(Z5.InlayHintRequest=dF={}));var hF;(function(e){e.method="inlayHint/resolve",e.messageDirection=b8.MessageDirection.clientToServer,e.type=new b8.ProtocolRequestType(e.method)})(hF||(Z5.InlayHintResolveRequest=hF={}));var gF;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=b8.MessageDirection.serverToClient,e.type=new b8.ProtocolRequestType0(e.method)})(gF||(Z5.InlayHintRefreshRequest=gF={}))});var CF=t0(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.DiagnosticRefreshRequest=Lc.WorkspaceDiagnosticRequest=Lc.DocumentDiagnosticRequest=Lc.DocumentDiagnosticReportKind=Lc.DiagnosticServerCancellationData=void 0;var bF=n4(),IX=Sv(),C8=ha(),pF;(function(e){function t(r){let n=r;return n&&IX.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(pF||(Lc.DiagnosticServerCancellationData=pF={}));var yF;(function(e){e.Full="full",e.Unchanged="unchanged"})(yF||(Lc.DocumentDiagnosticReportKind=yF={}));var vF;(function(e){e.method="textDocument/diagnostic",e.messageDirection=C8.MessageDirection.clientToServer,e.type=new C8.ProtocolRequestType(e.method),e.partialResult=new bF.ProgressType})(vF||(Lc.DocumentDiagnosticRequest=vF={}));var xF;(function(e){e.method="workspace/diagnostic",e.messageDirection=C8.MessageDirection.clientToServer,e.type=new C8.ProtocolRequestType(e.method),e.partialResult=new bF.ProgressType})(xF||(Lc.WorkspaceDiagnosticRequest=xF={}));var _F;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=C8.MessageDirection.serverToClient,e.type=new C8.ProtocolRequestType0(e.method)})(_F||(Lc.DiagnosticRefreshRequest=_F={}))});var PF=t0(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.DidCloseNotebookDocumentNotification=wa.DidSaveNotebookDocumentNotification=wa.DidChangeNotebookDocumentNotification=wa.NotebookCellArrayChange=wa.DidOpenNotebookDocumentNotification=wa.NotebookDocumentSyncRegistrationType=wa.NotebookDocument=wa.NotebookCell=wa.ExecutionSummary=wa.NotebookCellKind=void 0;var Ym=Tv(),b1=Sv(),lu=ha(),bw;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(bw||(wa.NotebookCellKind=bw={}));var Cw;(function(e){function t(s,a){let l={executionOrder:s};return(a===!0||a===!1)&&(l.success=a),l}o(t,"create"),e.create=t;function r(s){let a=s;return b1.objectLiteral(a)&&Ym.uinteger.is(a.executionOrder)&&(a.success===void 0||b1.boolean(a.success))}o(r,"is"),e.is=r;function n(s,a){return s===a?!0:s==null||a===null||a===void 0?!1:s.executionOrder===a.executionOrder&&s.success===a.success}o(n,"equals"),e.equals=n})(Cw||(wa.ExecutionSummary=Cw={}));var Mv;(function(e){function t(a,l){return{kind:a,document:l}}o(t,"create"),e.create=t;function r(a){let l=a;return b1.objectLiteral(l)&&bw.is(l.kind)&&Ym.DocumentUri.is(l.document)&&(l.metadata===void 0||b1.objectLiteral(l.metadata))}o(r,"is"),e.is=r;function n(a,l){let f=new Set;return a.document!==l.document&&f.add("document"),a.kind!==l.kind&&f.add("kind"),a.executionSummary!==l.executionSummary&&f.add("executionSummary"),(a.metadata!==void 0||l.metadata!==void 0)&&!s(a.metadata,l.metadata)&&f.add("metadata"),(a.executionSummary!==void 0||l.executionSummary!==void 0)&&!Cw.equals(a.executionSummary,l.executionSummary)&&f.add("executionSummary"),f}o(n,"diff"),e.diff=n;function s(a,l){if(a===l)return!0;if(a==null||l===null||l===void 0||typeof a!=typeof l||typeof a!="object")return!1;let f=Array.isArray(a),c=Array.isArray(l);if(f!==c)return!1;if(f&&c){if(a.length!==l.length)return!1;for(let u=0;u<a.length;u++)if(!s(a[u],l[u]))return!1}if(b1.objectLiteral(a)&&b1.objectLiteral(l)){let u=Object.keys(a),d=Object.keys(l);if(u.length!==d.length||(u.sort(),d.sort(),!s(u,d)))return!1;for(let h=0;h<u.length;h++){let p=u[h];if(!s(a[p],l[p]))return!1}}return!0}o(s,"equalsMetadata")})(Mv||(wa.NotebookCell=Mv={}));var EF;(function(e){function t(n,s,a,l){return{uri:n,notebookType:s,version:a,cells:l}}o(t,"create"),e.create=t;function r(n){let s=n;return b1.objectLiteral(s)&&b1.string(s.uri)&&Ym.integer.is(s.version)&&b1.typedArray(s.cells,Mv.is)}o(r,"is"),e.is=r})(EF||(wa.NotebookDocument=EF={}));var E8;(function(e){e.method="notebookDocument/sync",e.messageDirection=lu.MessageDirection.clientToServer,e.type=new lu.RegistrationType(e.method)})(E8||(wa.NotebookDocumentSyncRegistrationType=E8={}));var TF;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=lu.MessageDirection.clientToServer,e.type=new lu.ProtocolNotificationType(e.method),e.registrationMethod=E8.method})(TF||(wa.DidOpenNotebookDocumentNotification=TF={}));var SF;(function(e){function t(n){let s=n;return b1.objectLiteral(s)&&Ym.uinteger.is(s.start)&&Ym.uinteger.is(s.deleteCount)&&(s.cells===void 0||b1.typedArray(s.cells,Mv.is))}o(t,"is"),e.is=t;function r(n,s,a){let l={start:n,deleteCount:s};return a!==void 0&&(l.cells=a),l}o(r,"create"),e.create=r})(SF||(wa.NotebookCellArrayChange=SF={}));var wF;(function(e){e.method="notebookDocument/didChange",e.messageDirection=lu.MessageDirection.clientToServer,e.type=new lu.ProtocolNotificationType(e.method),e.registrationMethod=E8.method})(wF||(wa.DidChangeNotebookDocumentNotification=wF={}));var IF;(function(e){e.method="notebookDocument/didSave",e.messageDirection=lu.MessageDirection.clientToServer,e.type=new lu.ProtocolNotificationType(e.method),e.registrationMethod=E8.method})(IF||(wa.DidSaveNotebookDocumentNotification=IF={}));var AF;(function(e){e.method="notebookDocument/didClose",e.messageDirection=lu.MessageDirection.clientToServer,e.type=new lu.ProtocolNotificationType(e.method),e.registrationMethod=E8.method})(AF||(wa.DidCloseNotebookDocumentNotification=AF={}))});var kF=t0(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.InlineCompletionRequest=void 0;var RF=ha(),NF;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=RF.MessageDirection.clientToServer,e.type=new RF.ProtocolRequestType(e.method)})(NF||(Uv.InlineCompletionRequest=NF={}))});var zM=t0($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.WorkspaceSymbolRequest=$e.CodeActionResolveRequest=$e.CodeActionRequest=$e.DocumentSymbolRequest=$e.DocumentHighlightRequest=$e.ReferencesRequest=$e.DefinitionRequest=$e.SignatureHelpRequest=$e.SignatureHelpTriggerKind=$e.HoverRequest=$e.CompletionResolveRequest=$e.CompletionRequest=$e.CompletionTriggerKind=$e.PublishDiagnosticsNotification=$e.WatchKind=$e.RelativePattern=$e.FileChangeType=$e.DidChangeWatchedFilesNotification=$e.WillSaveTextDocumentWaitUntilRequest=$e.WillSaveTextDocumentNotification=$e.TextDocumentSaveReason=$e.DidSaveTextDocumentNotification=$e.DidCloseTextDocumentNotification=$e.DidChangeTextDocumentNotification=$e.TextDocumentContentChangeEvent=$e.DidOpenTextDocumentNotification=$e.TextDocumentSyncKind=$e.TelemetryEventNotification=$e.LogMessageNotification=$e.ShowMessageRequest=$e.ShowMessageNotification=$e.MessageType=$e.DidChangeConfigurationNotification=$e.ExitNotification=$e.ShutdownRequest=$e.InitializedNotification=$e.InitializeErrorCodes=$e.InitializeRequest=$e.WorkDoneProgressOptions=$e.TextDocumentRegistrationOptions=$e.StaticRegistrationOptions=$e.PositionEncodingKind=$e.FailureHandlingKind=$e.ResourceOperationKind=$e.UnregistrationRequest=$e.RegistrationRequest=$e.DocumentSelector=$e.NotebookCellTextDocumentFilter=$e.NotebookDocumentFilter=$e.TextDocumentFilter=void 0;$e.MonikerRequest=$e.MonikerKind=$e.UniquenessLevel=$e.WillDeleteFilesRequest=$e.DidDeleteFilesNotification=$e.WillRenameFilesRequest=$e.DidRenameFilesNotification=$e.WillCreateFilesRequest=$e.DidCreateFilesNotification=$e.FileOperationPatternKind=$e.LinkedEditingRangeRequest=$e.ShowDocumentRequest=$e.SemanticTokensRegistrationType=$e.SemanticTokensRefreshRequest=$e.SemanticTokensRangeRequest=$e.SemanticTokensDeltaRequest=$e.SemanticTokensRequest=$e.TokenFormat=$e.CallHierarchyPrepareRequest=$e.CallHierarchyOutgoingCallsRequest=$e.CallHierarchyIncomingCallsRequest=$e.WorkDoneProgressCancelNotification=$e.WorkDoneProgressCreateRequest=$e.WorkDoneProgress=$e.SelectionRangeRequest=$e.DeclarationRequest=$e.FoldingRangeRefreshRequest=$e.FoldingRangeRequest=$e.ColorPresentationRequest=$e.DocumentColorRequest=$e.ConfigurationRequest=$e.DidChangeWorkspaceFoldersNotification=$e.WorkspaceFoldersRequest=$e.TypeDefinitionRequest=$e.ImplementationRequest=$e.ApplyWorkspaceEditRequest=$e.ExecuteCommandRequest=$e.PrepareRenameRequest=$e.RenameRequest=$e.PrepareSupportDefaultBehavior=$e.DocumentOnTypeFormattingRequest=$e.DocumentRangesFormattingRequest=$e.DocumentRangeFormattingRequest=$e.DocumentFormattingRequest=$e.DocumentLinkResolveRequest=$e.DocumentLinkRequest=$e.CodeLensRefreshRequest=$e.CodeLensResolveRequest=$e.CodeLensRequest=$e.WorkspaceSymbolResolveRequest=void 0;$e.InlineCompletionRequest=$e.DidCloseNotebookDocumentNotification=$e.DidSaveNotebookDocumentNotification=$e.DidChangeNotebookDocumentNotification=$e.NotebookCellArrayChange=$e.DidOpenNotebookDocumentNotification=$e.NotebookDocumentSyncRegistrationType=$e.NotebookDocument=$e.NotebookCell=$e.ExecutionSummary=$e.NotebookCellKind=$e.DiagnosticRefreshRequest=$e.WorkspaceDiagnosticRequest=$e.DocumentDiagnosticRequest=$e.DocumentDiagnosticReportKind=$e.DiagnosticServerCancellationData=$e.InlayHintRefreshRequest=$e.InlayHintResolveRequest=$e.InlayHintRequest=$e.InlineValueRefreshRequest=$e.InlineValueRequest=$e.TypeHierarchySupertypesRequest=$e.TypeHierarchySubtypesRequest=$e.TypeHierarchyPrepareRequest=void 0;var Y0=ha(),DF=Tv(),dl=Sv(),AX=iO();Object.defineProperty($e,"ImplementationRequest",{enumerable:!0,get:function(){return AX.ImplementationRequest}});var PX=aO();Object.defineProperty($e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return PX.TypeDefinitionRequest}});var jM=cO();Object.defineProperty($e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return jM.WorkspaceFoldersRequest}});Object.defineProperty($e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return jM.DidChangeWorkspaceFoldersNotification}});var RX=hO();Object.defineProperty($e,"ConfigurationRequest",{enumerable:!0,get:function(){return RX.ConfigurationRequest}});var $M=pO();Object.defineProperty($e,"DocumentColorRequest",{enumerable:!0,get:function(){return $M.DocumentColorRequest}});Object.defineProperty($e,"ColorPresentationRequest",{enumerable:!0,get:function(){return $M.ColorPresentationRequest}});var HM=xO();Object.defineProperty($e,"FoldingRangeRequest",{enumerable:!0,get:function(){return HM.FoldingRangeRequest}});Object.defineProperty($e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return HM.FoldingRangeRefreshRequest}});var NX=CO();Object.defineProperty($e,"DeclarationRequest",{enumerable:!0,get:function(){return NX.DeclarationRequest}});var kX=SO();Object.defineProperty($e,"SelectionRangeRequest",{enumerable:!0,get:function(){return kX.SelectionRangeRequest}});var Iw=PO();Object.defineProperty($e,"WorkDoneProgress",{enumerable:!0,get:function(){return Iw.WorkDoneProgress}});Object.defineProperty($e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Iw.WorkDoneProgressCreateRequest}});Object.defineProperty($e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Iw.WorkDoneProgressCancelNotification}});var Aw=DO();Object.defineProperty($e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Aw.CallHierarchyIncomingCallsRequest}});Object.defineProperty($e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Aw.CallHierarchyOutgoingCallsRequest}});Object.defineProperty($e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Aw.CallHierarchyPrepareRequest}});var T8=UO();Object.defineProperty($e,"TokenFormat",{enumerable:!0,get:function(){return T8.TokenFormat}});Object.defineProperty($e,"SemanticTokensRequest",{enumerable:!0,get:function(){return T8.SemanticTokensRequest}});Object.defineProperty($e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return T8.SemanticTokensDeltaRequest}});Object.defineProperty($e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return T8.SemanticTokensRangeRequest}});Object.defineProperty($e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return T8.SemanticTokensRefreshRequest}});Object.defineProperty($e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return T8.SemanticTokensRegistrationType}});var DX=$O();Object.defineProperty($e,"ShowDocumentRequest",{enumerable:!0,get:function(){return DX.ShowDocumentRequest}});var LX=zO();Object.defineProperty($e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return LX.LinkedEditingRangeRequest}});var i4=QO();Object.defineProperty($e,"FileOperationPatternKind",{enumerable:!0,get:function(){return i4.FileOperationPatternKind}});Object.defineProperty($e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return i4.DidCreateFilesNotification}});Object.defineProperty($e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return i4.WillCreateFilesRequest}});Object.defineProperty($e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return i4.DidRenameFilesNotification}});Object.defineProperty($e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return i4.WillRenameFilesRequest}});Object.defineProperty($e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return i4.DidDeleteFilesNotification}});Object.defineProperty($e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return i4.WillDeleteFilesRequest}});var Pw=iF();Object.defineProperty($e,"UniquenessLevel",{enumerable:!0,get:function(){return Pw.UniquenessLevel}});Object.defineProperty($e,"MonikerKind",{enumerable:!0,get:function(){return Pw.MonikerKind}});Object.defineProperty($e,"MonikerRequest",{enumerable:!0,get:function(){return Pw.MonikerRequest}});var Rw=lF();Object.defineProperty($e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Rw.TypeHierarchyPrepareRequest}});Object.defineProperty($e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Rw.TypeHierarchySubtypesRequest}});Object.defineProperty($e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Rw.TypeHierarchySupertypesRequest}});var VM=uF();Object.defineProperty($e,"InlineValueRequest",{enumerable:!0,get:function(){return VM.InlineValueRequest}});Object.defineProperty($e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return VM.InlineValueRefreshRequest}});var Nw=mF();Object.defineProperty($e,"InlayHintRequest",{enumerable:!0,get:function(){return Nw.InlayHintRequest}});Object.defineProperty($e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Nw.InlayHintResolveRequest}});Object.defineProperty($e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Nw.InlayHintRefreshRequest}});var Jm=CF();Object.defineProperty($e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Jm.DiagnosticServerCancellationData}});Object.defineProperty($e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Jm.DocumentDiagnosticReportKind}});Object.defineProperty($e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Jm.DocumentDiagnosticRequest}});Object.defineProperty($e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Jm.WorkspaceDiagnosticRequest}});Object.defineProperty($e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Jm.DiagnosticRefreshRequest}});var fu=PF();Object.defineProperty($e,"NotebookCellKind",{enumerable:!0,get:function(){return fu.NotebookCellKind}});Object.defineProperty($e,"ExecutionSummary",{enumerable:!0,get:function(){return fu.ExecutionSummary}});Object.defineProperty($e,"NotebookCell",{enumerable:!0,get:function(){return fu.NotebookCell}});Object.defineProperty($e,"NotebookDocument",{enumerable:!0,get:function(){return fu.NotebookDocument}});Object.defineProperty($e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return fu.NotebookDocumentSyncRegistrationType}});Object.defineProperty($e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return fu.DidOpenNotebookDocumentNotification}});Object.defineProperty($e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return fu.NotebookCellArrayChange}});Object.defineProperty($e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return fu.DidChangeNotebookDocumentNotification}});Object.defineProperty($e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return fu.DidSaveNotebookDocumentNotification}});Object.defineProperty($e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return fu.DidCloseNotebookDocumentNotification}});var BX=kF();Object.defineProperty($e,"InlineCompletionRequest",{enumerable:!0,get:function(){return BX.InlineCompletionRequest}});var Ew;(function(e){function t(r){let n=r;return dl.string(n)||dl.string(n.language)||dl.string(n.scheme)||dl.string(n.pattern)}o(t,"is"),e.is=t})(Ew||($e.TextDocumentFilter=Ew={}));var Tw;(function(e){function t(r){let n=r;return dl.objectLiteral(n)&&(dl.string(n.notebookType)||dl.string(n.scheme)||dl.string(n.pattern))}o(t,"is"),e.is=t})(Tw||($e.NotebookDocumentFilter=Tw={}));var Sw;(function(e){function t(r){let n=r;return dl.objectLiteral(n)&&(dl.string(n.notebook)||Tw.is(n.notebook))&&(n.language===void 0||dl.string(n.language))}o(t,"is"),e.is=t})(Sw||($e.NotebookCellTextDocumentFilter=Sw={}));var ww;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!dl.string(n)&&!Ew.is(n)&&!Sw.is(n))return!1;return!0}o(t,"is"),e.is=t})(ww||($e.DocumentSelector=ww={}));var LF;(function(e){e.method="client/registerCapability",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolRequestType(e.method)})(LF||($e.RegistrationRequest=LF={}));var BF;(function(e){e.method="client/unregisterCapability",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolRequestType(e.method)})(BF||($e.UnregistrationRequest=BF={}));var OF;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(OF||($e.ResourceOperationKind=OF={}));var FF;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(FF||($e.FailureHandlingKind=FF={}));var MF;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(MF||($e.PositionEncodingKind=MF={}));var UF;(function(e){function t(r){let n=r;return n&&dl.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(UF||($e.StaticRegistrationOptions=UF={}));var qF;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||ww.is(n.documentSelector))}o(t,"is"),e.is=t})(qF||($e.TextDocumentRegistrationOptions=qF={}));var jF;(function(e){function t(n){let s=n;return dl.objectLiteral(s)&&(s.workDoneProgress===void 0||dl.boolean(s.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let s=n;return s&&dl.boolean(s.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(jF||($e.WorkDoneProgressOptions=jF={}));var $F;(function(e){e.method="initialize",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})($F||($e.InitializeRequest=$F={}));var HF;(function(e){e.unknownProtocolVersion=1})(HF||($e.InitializeErrorCodes=HF={}));var VF;(function(e){e.method="initialized",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(VF||($e.InitializedNotification=VF={}));var zF;(function(e){e.method="shutdown",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType0(e.method)})(zF||($e.ShutdownRequest=zF={}));var GF;(function(e){e.method="exit",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType0(e.method)})(GF||($e.ExitNotification=GF={}));var KF;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(KF||($e.DidChangeConfigurationNotification=KF={}));var WF;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(WF||($e.MessageType=WF={}));var YF;(function(e){e.method="window/showMessage",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolNotificationType(e.method)})(YF||($e.ShowMessageNotification=YF={}));var JF;(function(e){e.method="window/showMessageRequest",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolRequestType(e.method)})(JF||($e.ShowMessageRequest=JF={}));var XF;(function(e){e.method="window/logMessage",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolNotificationType(e.method)})(XF||($e.LogMessageNotification=XF={}));var ZF;(function(e){e.method="telemetry/event",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolNotificationType(e.method)})(ZF||($e.TelemetryEventNotification=ZF={}));var QF;(function(e){e.None=0,e.Full=1,e.Incremental=2})(QF||($e.TextDocumentSyncKind=QF={}));var eM;(function(e){e.method="textDocument/didOpen",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(eM||($e.DidOpenTextDocumentNotification=eM={}));var tM;(function(e){function t(n){let s=n;return s!=null&&typeof s.text=="string"&&s.range!==void 0&&(s.rangeLength===void 0||typeof s.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let s=n;return s!=null&&typeof s.text=="string"&&s.range===void 0&&s.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(tM||($e.TextDocumentContentChangeEvent=tM={}));var rM;(function(e){e.method="textDocument/didChange",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(rM||($e.DidChangeTextDocumentNotification=rM={}));var nM;(function(e){e.method="textDocument/didClose",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(nM||($e.DidCloseTextDocumentNotification=nM={}));var iM;(function(e){e.method="textDocument/didSave",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(iM||($e.DidSaveTextDocumentNotification=iM={}));var sM;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(sM||($e.TextDocumentSaveReason=sM={}));var oM;(function(e){e.method="textDocument/willSave",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(oM||($e.WillSaveTextDocumentNotification=oM={}));var aM;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(aM||($e.WillSaveTextDocumentWaitUntilRequest=aM={}));var lM;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolNotificationType(e.method)})(lM||($e.DidChangeWatchedFilesNotification=lM={}));var fM;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(fM||($e.FileChangeType=fM={}));var cM;(function(e){function t(r){let n=r;return dl.objectLiteral(n)&&(DF.URI.is(n.baseUri)||DF.WorkspaceFolder.is(n.baseUri))&&dl.string(n.pattern)}o(t,"is"),e.is=t})(cM||($e.RelativePattern=cM={}));var uM;(function(e){e.Create=1,e.Change=2,e.Delete=4})(uM||($e.WatchKind=uM={}));var dM;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolNotificationType(e.method)})(dM||($e.PublishDiagnosticsNotification=dM={}));var hM;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(hM||($e.CompletionTriggerKind=hM={}));var gM;(function(e){e.method="textDocument/completion",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(gM||($e.CompletionRequest=gM={}));var mM;(function(e){e.method="completionItem/resolve",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(mM||($e.CompletionResolveRequest=mM={}));var pM;(function(e){e.method="textDocument/hover",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(pM||($e.HoverRequest=pM={}));var yM;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(yM||($e.SignatureHelpTriggerKind=yM={}));var vM;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(vM||($e.SignatureHelpRequest=vM={}));var xM;(function(e){e.method="textDocument/definition",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(xM||($e.DefinitionRequest=xM={}));var _M;(function(e){e.method="textDocument/references",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(_M||($e.ReferencesRequest=_M={}));var bM;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(bM||($e.DocumentHighlightRequest=bM={}));var CM;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(CM||($e.DocumentSymbolRequest=CM={}));var EM;(function(e){e.method="textDocument/codeAction",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(EM||($e.CodeActionRequest=EM={}));var TM;(function(e){e.method="codeAction/resolve",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(TM||($e.CodeActionResolveRequest=TM={}));var SM;(function(e){e.method="workspace/symbol",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(SM||($e.WorkspaceSymbolRequest=SM={}));var wM;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(wM||($e.WorkspaceSymbolResolveRequest=wM={}));var IM;(function(e){e.method="textDocument/codeLens",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(IM||($e.CodeLensRequest=IM={}));var AM;(function(e){e.method="codeLens/resolve",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(AM||($e.CodeLensResolveRequest=AM={}));var PM;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolRequestType0(e.method)})(PM||($e.CodeLensRefreshRequest=PM={}));var RM;(function(e){e.method="textDocument/documentLink",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(RM||($e.DocumentLinkRequest=RM={}));var NM;(function(e){e.method="documentLink/resolve",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(NM||($e.DocumentLinkResolveRequest=NM={}));var kM;(function(e){e.method="textDocument/formatting",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(kM||($e.DocumentFormattingRequest=kM={}));var DM;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(DM||($e.DocumentRangeFormattingRequest=DM={}));var LM;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(LM||($e.DocumentRangesFormattingRequest=LM={}));var BM;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(BM||($e.DocumentOnTypeFormattingRequest=BM={}));var OM;(function(e){e.Identifier=1})(OM||($e.PrepareSupportDefaultBehavior=OM={}));var FM;(function(e){e.method="textDocument/rename",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(FM||($e.RenameRequest=FM={}));var MM;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(MM||($e.PrepareRenameRequest=MM={}));var UM;(function(e){e.method="workspace/executeCommand",e.messageDirection=Y0.MessageDirection.clientToServer,e.type=new Y0.ProtocolRequestType(e.method)})(UM||($e.ExecuteCommandRequest=UM={}));var qM;(function(e){e.method="workspace/applyEdit",e.messageDirection=Y0.MessageDirection.serverToClient,e.type=new Y0.ProtocolRequestType("workspace/applyEdit")})(qM||($e.ApplyWorkspaceEditRequest=qM={}))});var KM=t0(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0});qv.createProtocolConnection=void 0;var GM=n4();function OX(e,t,r,n){return GM.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,GM.createMessageConnection)(e,t,r,n)}o(OX,"createProtocolConnection");qv.createProtocolConnection=OX});var YM=t0(Uf=>{"use strict";var FX=Uf&&Uf.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jv=Uf&&Uf.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FX(t,e,r)};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.LSPErrorCodes=Uf.createProtocolConnection=void 0;jv(n4(),Uf);jv(Tv(),Uf);jv(ha(),Uf);jv(zM(),Uf);var MX=KM();Object.defineProperty(Uf,"createProtocolConnection",{enumerable:!0,get:function(){return MX.createProtocolConnection}});var WM;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(WM||(Uf.LSPErrorCodes=WM={}))});var XM=t0(cu=>{"use strict";var UX=cu&&cu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JM=cu&&cu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UX(t,e,r)};Object.defineProperty(cu,"__esModule",{value:!0});cu.createProtocolConnection=void 0;var qX=cw();JM(cw(),cu);JM(YM(),cu);function jX(e,t,r,n){return(0,qX.createMessageConnection)(e,t,r,n)}o(jX,"createProtocolConnection");cu.createProtocolConnection=jX});var gd=t0((exports,module)=>{"use strict";var _o=Object.create,Le=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,po=Object.getOwnPropertyNames,fo=Object.getPrototypeOf,go=Object.prototype.hasOwnProperty,i=o((e,t)=>Le(e,"name",{value:t,configurable:!0}),"i"),P=o((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"P"),ho=o((e,t)=>{for(var r in t)Le(e,r,{get:t[r],enumerable:!0})},"ho"),xn=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of po(t))!go.call(e,s)&&s!==r&&Le(e,s,{get:()=>t[s],enumerable:!(n=mo(t,s))||n.enumerable});return e},"xn"),Ct=o((e,t,r)=>(r=e!=null?_o(fo(e)):{},xn(t||!e||!e.__esModule?Le(r,"default",{value:e,enumerable:!0}):r,e)),"Ct"),bo=o(e=>xn(Le({},"__esModule",{value:!0}),e),"bo"),_r=P(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,s=90,a=97,l=122,f=48,c=57,u=43,d=47,h=26,p=52;return n<=r&&r<=s?r-n:a<=r&&r<=l?r-a+h:f<=r&&r<=c?r-f+p:r==u?62:r==d?63:-1}}),Yt=P(e=>{var t=_r(),r=5,n=1<<r,s=n-1,a=n;function l(c){return c<0?(-c<<1)+1:(c<<1)+0}o(l,"ms"),i(l,"toVLQSigned");function f(c){var u=(c&1)===1,d=c>>1;return u?-d:d}o(f,"ps"),i(f,"fromVLQSigned"),e.encode=i(function(c){var u="",d,h=l(c);do d=h&s,h>>>=r,h>0&&(d|=a),u+=t.encode(d);while(h>0);return u},"base64VLQ_encode"),e.decode=i(function(c,u,d){var h=c.length,p=0,m=0,v,x;do{if(u>=h)throw new Error("Expected more digits in base 64 VLQ value.");if(x=t.decode(c.charCodeAt(u++)),x===-1)throw new Error("Invalid base64 digit: "+c.charAt(u-1));v=!!(x&a),x&=s,p=p+(x<<m),m+=r}while(v);d.value=f(p),d.rest=u},"base64VLQ_decode")}),Ee=P(e=>{function t(O,L,F){if(L in O)return O[L];if(arguments.length===3)return F;throw new Error('"'+L+'" is a required argument.')}o(t,"gs"),i(t,"getArg"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(O){var L=O.match(r);return L?{scheme:L[1],auth:L[2],host:L[3],port:L[4],path:L[5]}:null}o(s,"Ue"),i(s,"urlParse"),e.urlParse=s;function a(O){var L="";return O.scheme&&(L+=O.scheme+":"),L+="//",O.auth&&(L+=O.auth+"@"),O.host&&(L+=O.host),O.port&&(L+=":"+O.port),O.path&&(L+=O.path),L}o(a,"we"),i(a,"urlGenerate"),e.urlGenerate=a;function l(O){var L=O,F=s(O);if(F){if(!F.path)return O;L=F.path}for(var ve=e.isAbsolute(L),we=L.split(/\/+/),Xt,f0=0,Jt=we.length-1;Jt>=0;Jt--)Xt=we[Jt],Xt==="."?we.splice(Jt,1):Xt===".."?f0++:f0>0&&(Xt===""?(we.splice(Jt+1,f0),f0=0):(we.splice(Jt,2),f0--));return L=we.join("/"),L===""&&(L=ve?"/":"."),F?(F.path=L,a(F)):L}o(l,"en"),i(l,"normalize"),e.normalize=l;function f(O,L){O===""&&(O="."),L===""&&(L=".");var F=s(L),ve=s(O);if(ve&&(O=ve.path||"/"),F&&!F.scheme)return ve&&(F.scheme=ve.scheme),a(F);if(F||L.match(n))return L;if(ve&&!ve.host&&!ve.path)return ve.host=L,a(ve);var we=L.charAt(0)==="/"?L:l(O.replace(/\/+$/,"")+"/"+L);return ve?(ve.path=we,a(ve)):we}o(f,"br"),i(f,"join"),e.join=f,e.isAbsolute=function(O){return O.charAt(0)==="/"||r.test(O)};function c(O,L){O===""&&(O="."),O=O.replace(/\/$/,"");for(var F=0;L.indexOf(O+"/")!==0;){var ve=O.lastIndexOf("/");if(ve<0||(O=O.slice(0,ve),O.match(/^([^\/]+:\/)?\/*$/)))return L;++F}return Array(F+1).join("../")+L.substr(O.length+1)}o(c,"bs"),i(c,"relative"),e.relative=c;var u=function(){var O=Object.create(null);return!("__proto__"in O)}();function d(O){return O}o(d,"wr"),i(d,"identity");function h(O){return m(O)?"$"+O:O}o(h,"ys"),i(h,"toSetString"),e.toSetString=u?d:h;function p(O){return m(O)?O.slice(1):O}o(p,"ws"),i(p,"fromSetString"),e.fromSetString=u?d:p;function m(O){if(!O)return!1;var L=O.length;if(L<9||O.charCodeAt(L-1)!==95||O.charCodeAt(L-2)!==95||O.charCodeAt(L-3)!==111||O.charCodeAt(L-4)!==116||O.charCodeAt(L-5)!==111||O.charCodeAt(L-6)!==114||O.charCodeAt(L-7)!==112||O.charCodeAt(L-8)!==95||O.charCodeAt(L-9)!==95)return!1;for(var F=L-10;F>=0;F--)if(O.charCodeAt(F)!==36)return!1;return!0}o(m,"vr"),i(m,"isProtoString");function v(O,L,F){var ve=S(O.source,L.source);return ve!==0||(ve=O.originalLine-L.originalLine,ve!==0)||(ve=O.originalColumn-L.originalColumn,ve!==0||F)||(ve=O.generatedColumn-L.generatedColumn,ve!==0)||(ve=O.generatedLine-L.generatedLine,ve!==0)?ve:S(O.name,L.name)}o(v,"vs"),i(v,"compareByOriginalPositions"),e.compareByOriginalPositions=v;function x(O,L,F){var ve=O.generatedLine-L.generatedLine;return ve!==0||(ve=O.generatedColumn-L.generatedColumn,ve!==0||F)||(ve=S(O.source,L.source),ve!==0)||(ve=O.originalLine-L.originalLine,ve!==0)||(ve=O.originalColumn-L.originalColumn,ve!==0)?ve:S(O.name,L.name)}o(x,"Es"),i(x,"compareByGeneratedPositionsDeflated"),e.compareByGeneratedPositionsDeflated=x;function S(O,L){return O===L?0:O===null?1:L===null?-1:O>L?1:-1}o(S,"ve"),i(S,"strcmp");function E(O,L){var F=O.generatedLine-L.generatedLine;return F!==0||(F=O.generatedColumn-L.generatedColumn,F!==0)||(F=S(O.source,L.source),F!==0)||(F=O.originalLine-L.originalLine,F!==0)||(F=O.originalColumn-L.originalColumn,F!==0)?F:S(O.name,L.name)}o(E,"Ss"),i(E,"compareByGeneratedPositionsInflated"),e.compareByGeneratedPositionsInflated=E;function R(O){return JSON.parse(O.replace(/^\)]}'[^\n]*\n/,""))}o(R,"Ms"),i(R,"parseSourceMapInput"),e.parseSourceMapInput=R;function B(O,L,F){if(L=L||"",O&&(O[O.length-1]!=="/"&&L[0]!=="/"&&(O+="/"),L=O+L),F){var ve=s(F);if(!ve)throw new Error("sourceMapURL could not be parsed");if(ve.path){var we=ve.path.lastIndexOf("/");we>=0&&(ve.path=ve.path.substring(0,we+1))}L=f(a(ve),L)}return l(L)}o(B,"Ts"),i(B,"computeSourceURL"),e.computeSourceURL=B}),rn=P(e=>{var t=Ee(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}o(s,"Q"),i(s,"ArraySet"),s.fromArray=i(function(a,l){for(var f=new s,c=0,u=a.length;c<u;c++)f.add(a[c],l);return f},"ArraySet_fromArray"),s.prototype.size=i(function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size"),s.prototype.add=i(function(a,l){var f=n?a:t.toSetString(a),c=n?this.has(a):r.call(this._set,f),u=this._array.length;(!c||l)&&this._array.push(a),c||(n?this._set.set(a,u):this._set[f]=u)},"ArraySet_add"),s.prototype.has=i(function(a){if(n)return this._set.has(a);var l=t.toSetString(a);return r.call(this._set,l)},"ArraySet_has"),s.prototype.indexOf=i(function(a){if(n){var l=this._set.get(a);if(l>=0)return l}else{var f=t.toSetString(a);if(r.call(this._set,f))return this._set[f]}throw new Error('"'+a+'" is not in the set.')},"ArraySet_indexOf"),s.prototype.at=i(function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},"ArraySet_at"),s.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray"),e.ArraySet=s}),Tr=P(e=>{var t=Ee();function r(s,a){var l=s.generatedLine,f=a.generatedLine,c=s.generatedColumn,u=a.generatedColumn;return f>l||f==l&&u>=c||t.compareByGeneratedPositionsInflated(s,a)<=0}o(r,"xs"),i(r,"generatedPositionAfter");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(n,"bt"),i(n,"MappingList"),n.prototype.unsortedForEach=i(function(s,a){this._array.forEach(s,a)},"MappingList_forEach"),n.prototype.add=i(function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},"MappingList_add"),n.prototype.toArray=i(function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray"),e.MappingList=n}),on=P(e=>{var t=Yt(),r=Ee(),n=rn().ArraySet,s=Tr().MappingList;function a(l){l||(l={}),this._file=r.getArg(l,"file",null),this._sourceRoot=r.getArg(l,"sourceRoot",null),this._skipValidation=r.getArg(l,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}o(a,"O"),i(a,"SourceMapGenerator"),a.prototype._version=3,a.fromSourceMap=i(function(l){var f=l.sourceRoot,c=new a({file:l.file,sourceRoot:f});return l.eachMapping(function(u){var d={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(d.source=u.source,f!=null&&(d.source=r.relative(f,d.source)),d.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(d.name=u.name)),c.addMapping(d)}),l.sources.forEach(function(u){var d=u;f!==null&&(d=r.relative(f,u)),c._sources.has(d)||c._sources.add(d);var h=l.sourceContentFor(u);h!=null&&c.setSourceContent(u,h)}),c},"SourceMapGenerator_fromSourceMap"),a.prototype.addMapping=i(function(l){var f=r.getArg(l,"generated"),c=r.getArg(l,"original",null),u=r.getArg(l,"source",null),d=r.getArg(l,"name",null);this._skipValidation||this._validateMapping(f,c,u,d),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:u,name:d})},"SourceMapGenerator_addMapping"),a.prototype.setSourceContent=i(function(l,f){var c=l;this._sourceRoot!=null&&(c=r.relative(this._sourceRoot,c)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(c)]=f):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent"),a.prototype.applySourceMap=i(function(l,f,c){var u=f;if(f==null){if(l.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=l.file}var d=this._sourceRoot;d!=null&&(u=r.relative(d,u));var h=new n,p=new n;this._mappings.unsortedForEach(function(m){if(m.source===u&&m.originalLine!=null){var v=l.originalPositionFor({line:m.originalLine,column:m.originalColumn});v.source!=null&&(m.source=v.source,c!=null&&(m.source=r.join(c,m.source)),d!=null&&(m.source=r.relative(d,m.source)),m.originalLine=v.line,m.originalColumn=v.column,v.name!=null&&(m.name=v.name))}var x=m.source;x!=null&&!h.has(x)&&h.add(x);var S=m.name;S!=null&&!p.has(S)&&p.add(S)},this),this._sources=h,this._names=p,l.sources.forEach(function(m){var v=l.sourceContentFor(m);v!=null&&(c!=null&&(m=r.join(c,m)),d!=null&&(m=r.relative(d,m)),this.setSourceContent(m,v))},this)},"SourceMapGenerator_applySourceMap"),a.prototype._validateMapping=i(function(l,f,c,u){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(l&&"line"in l&&"column"in l&&l.line>0&&l.column>=0&&!f&&!c&&!u)){if(l&&"line"in l&&"column"in l&&f&&"line"in f&&"column"in f&&l.line>0&&l.column>=0&&f.line>0&&f.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:l,source:c,original:f,name:u}))}},"SourceMapGenerator_validateMapping"),a.prototype._serializeMappings=i(function(){for(var l=0,f=1,c=0,u=0,d=0,h=0,p="",m,v,x,S,E=this._mappings.toArray(),R=0,B=E.length;R<B;R++){if(v=E[R],m="",v.generatedLine!==f)for(l=0;v.generatedLine!==f;)m+=";",f++;else if(R>0){if(!r.compareByGeneratedPositionsInflated(v,E[R-1]))continue;m+=","}m+=t.encode(v.generatedColumn-l),l=v.generatedColumn,v.source!=null&&(S=this._sources.indexOf(v.source),m+=t.encode(S-h),h=S,m+=t.encode(v.originalLine-1-u),u=v.originalLine-1,m+=t.encode(v.originalColumn-c),c=v.originalColumn,v.name!=null&&(x=this._names.indexOf(v.name),m+=t.encode(x-d),d=x)),p+=m}return p},"SourceMapGenerator_serializeMappings"),a.prototype._generateSourcesContent=i(function(l,f){return l.map(function(c){if(!this._sourcesContents)return null;f!=null&&(c=r.relative(f,c));var u=r.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},"SourceMapGenerator_generateSourcesContent"),a.prototype.toJSON=i(function(){var l={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(l.file=this._file),this._sourceRoot!=null&&(l.sourceRoot=this._sourceRoot),this._sourcesContents&&(l.sourcesContent=this._generateSourcesContent(l.sources,l.sourceRoot)),l},"SourceMapGenerator_toJSON"),a.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString"),e.SourceMapGenerator=a}),Ir=P(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,s,a,l,f){var c=Math.floor((n-r)/2)+r,u=l(s,a[c],!0);return u===0?c:u>0?n-c>1?t(c,n,s,a,l,f):f==e.LEAST_UPPER_BOUND?n<a.length?n:-1:c:c-r>1?t(r,c,s,a,l,f):f==e.LEAST_UPPER_BOUND?c:r<0?-1:r}o(t,"sn"),i(t,"recursiveSearch"),e.search=i(function(r,n,s,a){if(n.length===0)return-1;var l=t(-1,n.length,r,n,s,a||e.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&s(n[l],n[l-1],!0)===0;)--l;return l},"search")}),Nr=P(e=>{function t(s,a,l){var f=s[a];s[a]=s[l],s[l]=f}o(t,"an"),i(t,"swap");function r(s,a){return Math.round(s+Math.random()*(a-s))}o(r,"Ls"),i(r,"randomIntInRange");function n(s,a,l,f){if(l<f){var c=r(l,f),u=l-1;t(s,c,f);for(var d=s[f],h=l;h<f;h++)a(s[h],d)<=0&&(u+=1,t(s,u,h));t(s,u+1,h);var p=u+1;n(s,a,l,p-1),n(s,a,p+1,f)}}o(n,"ln"),i(n,"doQuickSort"),e.quickSort=function(s,a){n(s,a,0,s.length-1)}}),kr=P(e=>{var t=Ee(),r=Ir(),n=rn().ArraySet,s=Yt(),a=Nr().quickSort;function l(d,h){var p=d;return typeof d=="string"&&(p=t.parseSourceMapInput(d)),p.sections!=null?new u(p,h):new f(p,h)}o(l,"S"),i(l,"SourceMapConsumer"),l.fromSourceMap=function(d,h){return f.fromSourceMap(d,h)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=i(function(d,h){var p=d.charAt(h);return p===";"||p===","},"SourceMapConsumer_charIsMappingSeparator"),l.prototype._parseMappings=i(function(d,h){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings"),l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=i(function(d,h,p){var m=h||null,v=p||l.GENERATED_ORDER,x;switch(v){case l.GENERATED_ORDER:x=this._generatedMappings;break;case l.ORIGINAL_ORDER:x=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var S=this.sourceRoot;x.map(function(E){var R=E.source===null?null:this._sources.at(E.source);return R=t.computeSourceURL(S,R,this._sourceMapURL),{source:R,generatedLine:E.generatedLine,generatedColumn:E.generatedColumn,originalLine:E.originalLine,originalColumn:E.originalColumn,name:E.name===null?null:this._names.at(E.name)}},this).forEach(d,m)},"SourceMapConsumer_eachMapping"),l.prototype.allGeneratedPositionsFor=i(function(d){var h=t.getArg(d,"line"),p={source:t.getArg(d,"source"),originalLine:h,originalColumn:t.getArg(d,"column",0)};if(p.source=this._findSourceIndex(p.source),p.source<0)return[];var m=[],v=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(v>=0){var x=this._originalMappings[v];if(d.column===void 0)for(var S=x.originalLine;x&&x.originalLine===S;)m.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v];else for(var E=x.originalColumn;x&&x.originalLine===h&&x.originalColumn==E;)m.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v]}return m},"SourceMapConsumer_allGeneratedPositionsFor"),e.SourceMapConsumer=l;function f(d,h){var p=d;typeof d=="string"&&(p=t.parseSourceMapInput(d));var m=t.getArg(p,"version"),v=t.getArg(p,"sources"),x=t.getArg(p,"names",[]),S=t.getArg(p,"sourceRoot",null),E=t.getArg(p,"sourcesContent",null),R=t.getArg(p,"mappings"),B=t.getArg(p,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);S&&(S=t.normalize(S)),v=v.map(String).map(t.normalize).map(function(O){return S&&t.isAbsolute(S)&&t.isAbsolute(O)?t.relative(S,O):O}),this._names=n.fromArray(x.map(String),!0),this._sources=n.fromArray(v,!0),this._absoluteSources=this._sources.toArray().map(function(O){return t.computeSourceURL(S,O,h)}),this.sourceRoot=S,this.sourcesContent=E,this._mappings=R,this._sourceMapURL=h,this.file=B}o(f,"I"),i(f,"BasicSourceMapConsumer"),f.prototype=Object.create(l.prototype),f.prototype.consumer=l,f.prototype._findSourceIndex=function(d){var h=d;if(this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h)),this._sources.has(h))return this._sources.indexOf(h);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==d)return p;return-1},f.fromSourceMap=i(function(d,h){var p=Object.create(f.prototype),m=p._names=n.fromArray(d._names.toArray(),!0),v=p._sources=n.fromArray(d._sources.toArray(),!0);p.sourceRoot=d._sourceRoot,p.sourcesContent=d._generateSourcesContent(p._sources.toArray(),p.sourceRoot),p.file=d._file,p._sourceMapURL=h,p._absoluteSources=p._sources.toArray().map(function(F){return t.computeSourceURL(p.sourceRoot,F,h)});for(var x=d._mappings.toArray().slice(),S=p.__generatedMappings=[],E=p.__originalMappings=[],R=0,B=x.length;R<B;R++){var O=x[R],L=new c;L.generatedLine=O.generatedLine,L.generatedColumn=O.generatedColumn,O.source&&(L.source=v.indexOf(O.source),L.originalLine=O.originalLine,L.originalColumn=O.originalColumn,O.name&&(L.name=m.indexOf(O.name)),E.push(L)),S.push(L)}return a(p.__originalMappings,t.compareByOriginalPositions),p},"SourceMapConsumer_fromSourceMap"),f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function c(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(c,"Pr"),i(c,"Mapping"),f.prototype._parseMappings=i(function(d,h){for(var p=1,m=0,v=0,x=0,S=0,E=0,R=d.length,B=0,O={},L={},F=[],ve=[],we,Xt,f0,Jt,c0;B<R;)if(d.charAt(B)===";")p++,B++,m=0;else if(d.charAt(B)===",")B++;else{for(we=new c,we.generatedLine=p,Jt=B;Jt<R&&!this._charIsMappingSeparator(d,Jt);Jt++);if(Xt=d.slice(B,Jt),f0=O[Xt],f0)B+=Xt.length;else{for(f0=[];B<Jt;)s.decode(d,B,L),c0=L.value,B=L.rest,f0.push(c0);if(f0.length===2)throw new Error("Found a source, but no line and column");if(f0.length===3)throw new Error("Found a source and line, but no column");O[Xt]=f0}we.generatedColumn=m+f0[0],m=we.generatedColumn,f0.length>1&&(we.source=S+f0[1],S+=f0[1],we.originalLine=v+f0[2],v=we.originalLine,we.originalLine+=1,we.originalColumn=x+f0[3],x=we.originalColumn,f0.length>4&&(we.name=E+f0[4],E+=f0[4])),ve.push(we),typeof we.originalLine=="number"&&F.push(we)}a(ve,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=ve,a(F,t.compareByOriginalPositions),this.__originalMappings=F},"SourceMapConsumer_parseMappings"),f.prototype._findMapping=i(function(d,h,p,m,v,x){if(d[p]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[p]);if(d[m]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[m]);return r.search(d,h,v,x)},"SourceMapConsumer_findMapping"),f.prototype.computeColumnSpans=i(function(){for(var d=0;d<this._generatedMappings.length;++d){var h=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var p=this._generatedMappings[d+1];if(h.generatedLine===p.generatedLine){h.lastGeneratedColumn=p.generatedColumn-1;continue}}h.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans"),f.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},p=this._findMapping(h,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",l.GREATEST_LOWER_BOUND));if(p>=0){var m=this._generatedMappings[p];if(m.generatedLine===h.generatedLine){var v=t.getArg(m,"source",null);v!==null&&(v=this._sources.at(v),v=t.computeSourceURL(this.sourceRoot,v,this._sourceMapURL));var x=t.getArg(m,"name",null);return x!==null&&(x=this._names.at(x)),{source:v,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:x}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor"),f.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources"),f.prototype.sourceContentFor=i(function(d,h){if(!this.sourcesContent)return null;var p=this._findSourceIndex(d);if(p>=0)return this.sourcesContent[p];var m=d;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var v;if(this.sourceRoot!=null&&(v=t.urlParse(this.sourceRoot))){var x=m.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(x))return this.sourcesContent[this._sources.indexOf(x)];if((!v.path||v.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(h)return null;throw new Error('"'+m+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor"),f.prototype.generatedPositionFor=i(function(d){var h=t.getArg(d,"source");if(h=this._findSourceIndex(h),h<0)return{line:null,column:null,lastColumn:null};var p={source:h,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},m=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",l.GREATEST_LOWER_BOUND));if(m>=0){var v=this._originalMappings[m];if(v.source===p.source)return{line:t.getArg(v,"generatedLine",null),column:t.getArg(v,"generatedColumn",null),lastColumn:t.getArg(v,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor"),e.BasicSourceMapConsumer=f;function u(d,h){var p=d;typeof d=="string"&&(p=t.parseSourceMapInput(d));var m=t.getArg(p,"version"),v=t.getArg(p,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var x={line:-1,column:0};this._sections=v.map(function(S){if(S.url)throw new Error("Support for url field in sections not implemented.");var E=t.getArg(S,"offset"),R=t.getArg(E,"line"),B=t.getArg(E,"column");if(R<x.line||R===x.line&&B<x.column)throw new Error("Section offsets must be ordered and non-overlapping.");return x=E,{generatedOffset:{generatedLine:R+1,generatedColumn:B+1},consumer:new l(t.getArg(S,"map"),h)}})}o(u,"V"),i(u,"IndexedSourceMapConsumer"),u.prototype=Object.create(l.prototype),u.prototype.constructor=l,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var d=[],h=0;h<this._sections.length;h++)for(var p=0;p<this._sections[h].consumer.sources.length;p++)d.push(this._sections[h].consumer.sources[p]);return d}}),u.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},p=r.search(h,this._sections,function(v,x){var S=v.generatedLine-x.generatedOffset.generatedLine;return S||v.generatedColumn-x.generatedOffset.generatedColumn}),m=this._sections[p];return m?m.consumer.originalPositionFor({line:h.generatedLine-(m.generatedOffset.generatedLine-1),column:h.generatedColumn-(m.generatedOffset.generatedLine===h.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor"),u.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources"),u.prototype.sourceContentFor=i(function(d,h){for(var p=0;p<this._sections.length;p++){var m=this._sections[p],v=m.consumer.sourceContentFor(d,!0);if(v)return v}if(h)return null;throw new Error('"'+d+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor"),u.prototype.generatedPositionFor=i(function(d){for(var h=0;h<this._sections.length;h++){var p=this._sections[h];if(p.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var m=p.consumer.generatedPositionFor(d);if(m){var v={line:m.line+(p.generatedOffset.generatedLine-1),column:m.column+(p.generatedOffset.generatedLine===m.line?p.generatedOffset.generatedColumn-1:0)};return v}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor"),u.prototype._parseMappings=i(function(d,h){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++)for(var m=this._sections[p],v=m.consumer._generatedMappings,x=0;x<v.length;x++){var S=v[x],E=m.consumer._sources.at(S.source);E=t.computeSourceURL(m.consumer.sourceRoot,E,this._sourceMapURL),this._sources.add(E),E=this._sources.indexOf(E);var R=null;S.name&&(R=m.consumer._names.at(S.name),this._names.add(R),R=this._names.indexOf(R));var B={source:E,generatedLine:S.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:S.generatedColumn+(m.generatedOffset.generatedLine===S.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:S.originalLine,originalColumn:S.originalColumn,name:R};this.__generatedMappings.push(B),typeof B.originalLine=="number"&&this.__originalMappings.push(B)}a(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),a(this.__originalMappings,t.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings"),e.IndexedSourceMapConsumer=u}),Ar=P(e=>{var t=on().SourceMapGenerator,r=Ee(),n=/(\r?\n)/,s=10,a="$$$isSourceNode$$$";function l(f,c,u,d,h){this.children=[],this.sourceContents={},this.line=f!=null?f:null,this.column=c!=null?c:null,this.source=u!=null?u:null,this.name=h!=null?h:null,this[a]=!0,d!=null&&this.add(d)}o(l,"F"),i(l,"SourceNode"),l.fromStringWithSourceMap=i(function(f,c,u){var d=new l,h=f.split(n),p=0,m=i(function(){var R=O(),B=O()||"";return R+B;function O(){return p<h.length?h[p++]:void 0}},"shiftNextLine"),v=1,x=0,S=null;return c.eachMapping(function(R){if(S!==null)if(v<R.generatedLine)E(S,m()),v++,x=0;else{var B=h[p]||"",O=B.substr(0,R.generatedColumn-x);h[p]=B.substr(R.generatedColumn-x),x=R.generatedColumn,E(S,O),S=R;return}for(;v<R.generatedLine;)d.add(m()),v++;if(x<R.generatedColumn){var B=h[p]||"";d.add(B.substr(0,R.generatedColumn)),h[p]=B.substr(R.generatedColumn),x=R.generatedColumn}S=R},this),p<h.length&&(S&&E(S,m()),d.add(h.splice(p).join(""))),c.sources.forEach(function(R){var B=c.sourceContentFor(R);B!=null&&(u!=null&&(R=r.join(u,R)),d.setSourceContent(R,B))}),d;function E(R,B){if(R===null||R.source===void 0)d.add(B);else{var O=u?r.join(u,R.source):R.source;d.add(new l(R.originalLine,R.originalColumn,O,B,R.name))}}},"SourceNode_fromStringWithSourceMap"),l.prototype.add=i(function(f){if(Array.isArray(f))f.forEach(function(c){this.add(c)},this);else if(f[a]||typeof f=="string")f&&this.children.push(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_add"),l.prototype.prepend=i(function(f){if(Array.isArray(f))for(var c=f.length-1;c>=0;c--)this.prepend(f[c]);else if(f[a]||typeof f=="string")this.children.unshift(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_prepend"),l.prototype.walk=i(function(f){for(var c,u=0,d=this.children.length;u<d;u++)c=this.children[u],c[a]?c.walk(f):c!==""&&f(c,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk"),l.prototype.join=i(function(f){var c,u,d=this.children.length;if(d>0){for(c=[],u=0;u<d-1;u++)c.push(this.children[u]),c.push(f);c.push(this.children[u]),this.children=c}return this},"SourceNode_join"),l.prototype.replaceRight=i(function(f,c){var u=this.children[this.children.length-1];return u[a]?u.replaceRight(f,c):typeof u=="string"?this.children[this.children.length-1]=u.replace(f,c):this.children.push("".replace(f,c)),this},"SourceNode_replaceRight"),l.prototype.setSourceContent=i(function(f,c){this.sourceContents[r.toSetString(f)]=c},"SourceNode_setSourceContent"),l.prototype.walkSourceContents=i(function(f){for(var c=0,u=this.children.length;c<u;c++)this.children[c][a]&&this.children[c].walkSourceContents(f);for(var d=Object.keys(this.sourceContents),c=0,u=d.length;c<u;c++)f(r.fromSetString(d[c]),this.sourceContents[d[c]])},"SourceNode_walkSourceContents"),l.prototype.toString=i(function(){var f="";return this.walk(function(c){f+=c}),f},"SourceNode_toString"),l.prototype.toStringWithSourceMap=i(function(f){var c={code:"",line:1,column:0},u=new t(f),d=!1,h=null,p=null,m=null,v=null;return this.walk(function(x,S){c.code+=x,S.source!==null&&S.line!==null&&S.column!==null?((h!==S.source||p!==S.line||m!==S.column||v!==S.name)&&u.addMapping({source:S.source,original:{line:S.line,column:S.column},generated:{line:c.line,column:c.column},name:S.name}),h=S.source,p=S.line,m=S.column,v=S.name,d=!0):d&&(u.addMapping({generated:{line:c.line,column:c.column}}),h=null,d=!1);for(var E=0,R=x.length;E<R;E++)x.charCodeAt(E)===s?(c.line++,c.column=0,E+1===R?(h=null,d=!1):d&&u.addMapping({source:S.source,original:{line:S.line,column:S.column},generated:{line:c.line,column:c.column},name:S.name})):c.column++}),this.walkSourceContents(function(x,S){u.setSourceContent(x,S)}),{code:c.code,map:u}},"SourceNode_toStringWithSourceMap"),e.SourceNode=l}),Fr=P(e=>{e.SourceMapGenerator=on().SourceMapGenerator,e.SourceMapConsumer=kr().SourceMapConsumer,e.SourceNode=Ar().SourceNode}),Or=P((e,t)=>{var r=Object.prototype.toString,n=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function s(c){return r.call(c).slice(8,-1)==="ArrayBuffer"}o(s,"Fs"),i(s,"isArrayBuffer");function a(c,u,d){u>>>=0;var h=c.byteLength-u;if(h<0)throw new RangeError("'offset' is out of bounds");if(d===void 0)d=h;else if(d>>>=0,d>h)throw new RangeError("'length' is out of bounds");return n?Buffer.from(c.slice(u,u+d)):new Buffer(new Uint8Array(c.slice(u,u+d)))}o(a,"Rs"),i(a,"fromArrayBuffer");function l(c,u){if((typeof u!="string"||u==="")&&(u="utf8"),!Buffer.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(c,u):new Buffer(c,u)}o(l,"Os"),i(l,"fromString");function f(c,u,d){if(typeof c=="number")throw new TypeError('"value" argument must not be a number');return s(c)?a(c,u,d):typeof c=="string"?l(c,u):n?Buffer.from(c):new Buffer(c)}o(f,"Ds"),i(f,"bufferFrom"),t.exports=f}),Hr=P((e,t)=>{var r=Fr().SourceMapConsumer,n=require("path"),s;try{s=require("fs"),(!s.existsSync||!s.readFileSync)&&(s=null)}catch{}var a=Or();function l(de,Me){return de.require(Me)}o(l,"Dr"),i(l,"dynamicRequire");var f=!1,c=!1,u=!1,d="auto",h={},p={},m=/^data:application\/json[^,]+base64,/,v=[],x=[];function S(){return d==="browser"?!0:d==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(S,"fn"),i(S,"isInBrowser");function E(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(E,"zs"),i(E,"hasGlobalProcessEventEmitter");function R(){return typeof process=="object"&&process!==null?process.version:""}o(R,"Vs"),i(R,"globalProcessVersion");function B(){if(typeof process=="object"&&process!==null)return process.stderr}o(B,"js"),i(B,"globalProcessStderr");function O(de){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(de)}o(O,"Hs"),i(O,"globalProcessExit");function L(de){return function(Me){for(var b0=0;b0<de.length;b0++){var H0=de[b0](Me);if(H0)return H0}return null}}o(L,"St"),i(L,"handlerExec");var F=L(v);v.push(function(de){if(de=de.trim(),/^file:/.test(de)&&(de=de.replace(/file:\/\/\/(\w:)?/,function(H0,F0){return F0?"":"/"})),de in h)return h[de];var Me="";try{if(s)s.existsSync(de)&&(Me=s.readFileSync(de,"utf8"));else{var b0=new XMLHttpRequest;b0.open("GET",de,!1),b0.send(null),b0.readyState===4&&b0.status===200&&(Me=b0.responseText)}}catch{}return h[de]=Me});function ve(de,Me){if(!de)return Me;var b0=n.dirname(de),H0=/^\w+:\/\/[^\/]*/.exec(b0),F0=H0?H0[0]:"",y0=b0.slice(F0.length);return F0&&/^\/\w\:/.test(y0)?(F0+="/",F0+n.resolve(b0.slice(F0.length),Me).replace(/\\/g,"/")):F0+n.resolve(b0.slice(F0.length),Me)}o(ve,"mn"),i(ve,"supportRelativeURL");function we(de){var Me;if(S())try{var b0=new XMLHttpRequest;b0.open("GET",de,!1),b0.send(null),Me=b0.readyState===4?b0.responseText:null;var H0=b0.getResponseHeader("SourceMap")||b0.getResponseHeader("X-SourceMap");if(H0)return H0}catch{}Me=F(de);for(var F0=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,y0,Er;Er=F0.exec(Me);)y0=Er;return y0?y0[1]:null}o(we,"qs"),i(we,"retrieveSourceMapURL");var Xt=L(x);x.push(function(de){var Me=we(de);if(!Me)return null;var b0;if(m.test(Me)){var H0=Me.slice(Me.indexOf(",")+1);b0=a(H0,"base64").toString(),Me=de}else Me=ve(de,Me),b0=F(Me);return b0?{url:Me,map:b0}:null});function f0(de){var Me=p[de.source];if(!Me){var b0=Xt(de.source);b0?(Me=p[de.source]={url:b0.url,map:new r(b0.map)},Me.map.sourcesContent&&Me.map.sources.forEach(function(F0,y0){var Er=Me.map.sourcesContent[y0];if(Er){var Se=ve(Me.url,F0);h[Se]=Er}})):Me=p[de.source]={url:null,map:null}}if(Me&&Me.map&&typeof Me.map.originalPositionFor=="function"){var H0=Me.map.originalPositionFor(de);if(H0.source!==null)return H0.source=ve(Me.url,H0.source),H0}return de}o(f0,"bn"),i(f0,"mapSourcePosition");function Jt(de){var Me=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(de);if(Me){var b0=f0({source:Me[2],line:+Me[3],column:Me[4]-1});return"eval at "+Me[1]+" ("+b0.source+":"+b0.line+":"+(b0.column+1)+")"}return Me=/^eval at ([^(]+) \((.+)\)$/.exec(de),Me?"eval at "+Me[1]+" ("+Jt(Me[2])+")":de}o(Jt,"zr"),i(Jt,"mapEvalOrigin");function c0(){var de,Me="";if(this.isNative())Me="native";else{de=this.getScriptNameOrSourceURL(),!de&&this.isEval()&&(Me=this.getEvalOrigin(),Me+=", "),de?Me+=de:Me+="<anonymous>";var b0=this.getLineNumber();if(b0!=null){Me+=":"+b0;var H0=this.getColumnNumber();H0&&(Me+=":"+H0)}}var F0="",y0=this.getFunctionName(),Er=!0,Se=this.isConstructor(),O0=!(this.isToplevel()||Se);if(O0){var St=this.getTypeName();St==="[object Object]"&&(St="null");var L0=this.getMethodName();y0?(St&&y0.indexOf(St)!=0&&(F0+=St+"."),F0+=y0,L0&&y0.indexOf("."+L0)!=y0.length-L0.length-1&&(F0+=" [as "+L0+"]")):F0+=St+"."+(L0||"<anonymous>")}else Se?F0+="new "+(y0||"<anonymous>"):y0?F0+=y0:(F0+=Me,Er=!1);return Er&&(F0+=" ("+Me+")"),F0}o(c0,"Zs"),i(c0,"CallSiteToString");function yt(de){var Me={};return Object.getOwnPropertyNames(Object.getPrototypeOf(de)).forEach(function(b0){Me[b0]=/^(?:is|get)/.test(b0)?function(){return de[b0].call(de)}:de[b0]}),Me.toString=c0,Me}o(yt,"Ur"),i(yt,"cloneCallSite");function je(de,Me){if(Me===void 0&&(Me={nextPosition:null,curPosition:null}),de.isNative())return Me.curPosition=null,de;var b0=de.getFileName()||de.getScriptNameOrSourceURL();if(b0){var H0=de.getLineNumber(),F0=de.getColumnNumber()-1,y0=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,Er=y0.test(R())?0:62;H0===1&&F0>Er&&!S()&&!de.isEval()&&(F0-=Er);var Se=f0({source:b0,line:H0,column:F0});Me.curPosition=Se,de=yt(de);var O0=de.getFunctionName;return de.getFunctionName=function(){return Me.nextPosition==null?O0():Me.nextPosition.name||O0()},de.getFileName=function(){return Se.source},de.getLineNumber=function(){return Se.line},de.getColumnNumber=function(){return Se.column+1},de.getScriptNameOrSourceURL=function(){return Se.source},de}var St=de.isEval()&&de.getEvalOrigin();return St&&(St=Jt(St),de=yt(de),de.getEvalOrigin=function(){return St}),de}o(je,"Vr"),i(je,"wrapCallSite");function i0(de,Me){u&&(h={},p={});for(var b0=de.name||"Error",H0=de.message||"",F0=b0+": "+H0,y0={nextPosition:null,curPosition:null},Er=[],Se=Me.length-1;Se>=0;Se--)Er.push(`
    at `+je(Me[Se],y0)),y0.nextPosition=y0.curPosition;return y0.curPosition=y0.nextPosition=null,F0+Er.reverse().join("")}o(i0,"$s"),i(i0,"prepareStackTrace");function u0(de){var Me=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(de.stack);if(Me){var b0=Me[1],H0=+Me[2],F0=+Me[3],y0=h[b0];if(!y0&&s&&s.existsSync(b0))try{y0=s.readFileSync(b0,"utf8")}catch{y0=""}if(y0){var Er=y0.split(/(?:\r\n|\r|\n)/)[H0-1];if(Er)return b0+":"+H0+`
`+Er+`
`+new Array(F0).join(" ")+"^"}}return null}o(u0,"jr"),i(u0,"getErrorSource");function l0(de){var Me=u0(de),b0=B();b0&&b0._handle&&b0._handle.setBlocking&&b0._handle.setBlocking(!0),Me&&(console.error(),console.error(Me)),console.error(de.stack),O(1)}o(l0,"Gs"),i(l0,"printErrorAndExit");function N0(){var de=process.emit;process.emit=function(Me){if(Me==="uncaughtException"){var b0=arguments[1]&&arguments[1].stack,H0=this.listeners(Me).length>0;if(b0&&!H0)return l0(arguments[1])}return de.apply(this,arguments)}}o(N0,"Ks"),i(N0,"shimEmitUncaughtException");var kt=v.slice(0),o0=x.slice(0);e.wrapCallSite=je,e.getErrorSource=u0,e.mapSourcePosition=f0,e.retrieveSourceMap=Xt,e.install=function(de){if(de=de||{},de.environment&&(d=de.environment,["node","browser","auto"].indexOf(d)===-1))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(de.retrieveFile&&(de.overrideRetrieveFile&&(v.length=0),v.unshift(de.retrieveFile)),de.retrieveSourceMap&&(de.overrideRetrieveSourceMap&&(x.length=0),x.unshift(de.retrieveSourceMap)),de.hookRequire&&!S()){var Me=l(t,"module"),b0=Me.prototype._compile;b0.__sourceMapSupport||(Me.prototype._compile=function(y0,Er){return h[Er]=y0,p[Er]=void 0,b0.call(this,y0,Er)},Me.prototype._compile.__sourceMapSupport=!0)}if(u||(u="emptyCacheBetweenOperations"in de?de.emptyCacheBetweenOperations:!1),f||(f=!0,Error.prepareStackTrace=i0),!c){var H0="handleUncaughtExceptions"in de?de.handleUncaughtExceptions:!0;try{var F0=l(t,"worker_threads");F0.isMainThread===!1&&(H0=!1)}catch{}H0&&E()&&(c=!0,N0())}},e.resetRetrieveHandlers=function(){v.length=0,x.length=0,v=kt.slice(0),x=o0.slice(0),Xt=L(x),F=L(v)}}),qr=P(()=>{Hr().install()}),Xr=P((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((l,f)=>{throw f},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(l){return Module.locateFile?Module.locateFile(l,scriptDirectory):scriptDirectory+l}o(locateFile,"locateFile"),i(locateFile,"locateFile");function logExceptionOnExit(l){l instanceof ExitStatus||err("exiting due to exception: "+l)}if(o(logExceptionOnExit,"logExceptionOnExit"),i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((l,f)=>(l=isFileURI(l)?new URL(l):nodePath.normalize(l),fs.readFileSync(l,f?void 0:"utf8")),"read_"),readBinary=i(l=>{var f=read_(l,!0);return f.buffer||(f=new Uint8Array(f)),f},"readBinary"),readAsync=i((l,f,c)=>{l=isFileURI(l)?new URL(l):nodePath.normalize(l),fs.readFile(l,function(u,d){u?c(u):f(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((l,f)=>{if(keepRuntimeAlive())throw process.exitCode=l,f;logExceptionOnExit(f),process.exit(l)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(l=>{var f=new XMLHttpRequest;return f.open("GET",l,!1),f.send(null),f.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(l=>{var f=new XMLHttpRequest;return f.open("GET",l,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)},"readBinary")),readAsync=i((l,f,c)=>{var u=new XMLHttpRequest;u.open("GET",l,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?f(u.response):c()},u.onerror=c,u.send(null)},"readAsync"),setWindowTitle=i(l=>document.title=l,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(l,f,c){for(var u=f+c,d=f;l[d]&&!(d>=u);)++d;if(d-f>16&&l.buffer&&UTF8Decoder)return UTF8Decoder.decode(l.subarray(f,d));for(var h="";f<d;){var p=l[f++];if(128&p){var m=63&l[f++];if((224&p)!=192){var v=63&l[f++];if((p=(240&p)==224?(15&p)<<12|m<<6|v:(7&p)<<18|m<<12|v<<6|63&l[f++])<65536)h+=String.fromCharCode(p);else{var x=p-65536;h+=String.fromCharCode(55296|x>>10,56320|1023&x)}}else h+=String.fromCharCode((31&p)<<6|m)}else h+=String.fromCharCode(p)}return h}o(UTF8ArrayToString,"UTF8ArrayToString"),i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(l,f){return l?UTF8ArrayToString(HEAPU8,l,f):""}o(UTF8ToString,"UTF8ToString"),i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(l,f,c,u){if(!(u>0))return 0;for(var d=c,h=c+u-1,p=0;p<l.length;++p){var m=l.charCodeAt(p);if(m>=55296&&m<=57343&&(m=65536+((1023&m)<<10)|1023&l.charCodeAt(++p)),m<=127){if(c>=h)break;f[c++]=m}else if(m<=2047){if(c+1>=h)break;f[c++]=192|m>>6,f[c++]=128|63&m}else if(m<=65535){if(c+2>=h)break;f[c++]=224|m>>12,f[c++]=128|m>>6&63,f[c++]=128|63&m}else{if(c+3>=h)break;f[c++]=240|m>>18,f[c++]=128|m>>12&63,f[c++]=128|m>>6&63,f[c++]=128|63&m}}return f[c]=0,c-d}o(stringToUTF8Array,"stringToUTF8Array"),i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(l,f,c){return stringToUTF8Array(l,HEAPU8,f,c)}o(stringToUTF8,"stringToUTF8"),i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(l){for(var f=0,c=0;c<l.length;++c){var u=l.charCodeAt(c);u<=127?f++:u<=2047?f+=2:u>=55296&&u<=57343?(f+=4,++c):f+=3}return f}o(lengthBytesUTF8,"lengthBytesUTF8"),i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(l){buffer=l,Module.HEAP8=HEAP8=new Int8Array(l),Module.HEAP16=HEAP16=new Int16Array(l),Module.HEAP32=HEAP32=new Int32Array(l),Module.HEAPU8=HEAPU8=new Uint8Array(l),Module.HEAPU16=HEAPU16=new Uint16Array(l),Module.HEAPU32=HEAPU32=new Uint32Array(l),Module.HEAPF32=HEAPF32=new Float32Array(l),Module.HEAPF64=HEAPF64=new Float64Array(l)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews"),i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive"),i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun"),i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime"),i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain"),i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun"),i(postRun,"postRun");function addOnPreRun(l){__ATPRERUN__.unshift(l)}o(addOnPreRun,"addOnPreRun"),i(addOnPreRun,"addOnPreRun");function addOnInit(l){__ATINIT__.unshift(l)}o(addOnInit,"addOnInit"),i(addOnInit,"addOnInit");function addOnPostRun(l){__ATPOSTRUN__.unshift(l)}o(addOnPostRun,"addOnPostRun"),i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(l){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency"),i(addRunDependency,"addRunDependency");function removeRunDependency(l){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var f=dependenciesFulfilled;dependenciesFulfilled=null,f()}}o(removeRunDependency,"removeRunDependency"),i(removeRunDependency,"removeRunDependency");function abort(l){throw Module.onAbort&&Module.onAbort(l),err(l="Aborted("+l+")"),ABORT=!0,EXITSTATUS=1,l+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(l)}o(abort,"abort"),i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(l){return l.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI"),i(isDataURI,"isDataURI");function isFileURI(l){return l.startsWith("file://")}o(isFileURI,"isFileURI"),i(isFileURI,"isFileURI");function getBinary(l){try{if(l==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(l);throw"both async and sync fetching of the wasm failed"}catch(f){abort(f)}}o(getBinary,"getBinary"),i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return l.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(l,f){readAsync(wasmBinaryFile,function(c){l(new Uint8Array(c))},f)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise"),i(getBinaryPromise,"getBinaryPromise");function createWasm(){var l={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function f(d,h){var p=d.exports;p=relocateExports(p,1024);var m=getDylinkMetadata(h);m.neededDynlibs&&(dynamicLibraries=m.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(p,"main"),Module.asm=p,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(f,"e"),i(f,"t");function c(d){f(d.instance,d.module)}o(c,"n"),i(c,"r");function u(d){return getBinaryPromise().then(function(h){return WebAssembly.instantiate(h,l)}).then(function(h){return h}).then(d,function(h){err("failed to asynchronously prepare wasm: "+h),abort(h)})}if(o(u,"r"),i(u,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(l,f)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?u(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,l).then(c,function(h){return err("wasm streaming compile failed: "+h),err("falling back to ArrayBuffer instantiation"),u(c)})}),{}}o(createWasm,"createWasm"),i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}o(ExitStatus,"ExitStatus"),i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(l,f){var c=GOT[f];return c||(c=GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(f)||(c.required=!0),c}};function callRuntimeCallbacks(l){for(;l.length>0;)l.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks"),i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(l){var f=0,c=0;function u(){for(var ve=0,we=1;;){var Xt=l[f++];if(ve+=(127&Xt)*we,we*=128,!(128&Xt))break}return ve}o(u,"r"),i(u,"_");function d(){var ve=u();return UTF8ArrayToString(l,(f+=ve)-ve,ve)}o(d,"o"),i(d,"n");function h(ve,we){if(ve)throw new Error(we)}o(h,"s"),i(h,"s");var p="dylink.0";if(l instanceof WebAssembly.Module){var m=WebAssembly.Module.customSections(l,p);m.length===0&&(p="dylink",m=WebAssembly.Module.customSections(l,p)),h(m.length===0,"need dylink section"),c=(l=new Uint8Array(m[0])).length}else{h(new Uint32Array(new Uint8Array(l.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),h(l[8]!==0,"need the dylink section to be first"),f=9;var v=u();c=f+v,p=d()}var x={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(p=="dylink"){x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();for(var S=u(),E=0;E<S;++E){var R=d();x.neededDynlibs.push(R)}}else for(h(p!=="dylink.0");f<c;){var B=l[f++],O=u();if(B===1)x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();else if(B===2)for(S=u(),E=0;E<S;++E)R=d(),x.neededDynlibs.push(R);else if(B===3)for(var L=u();L--;){var F=d();256&u()&&x.tlsExports.add(F)}else if(B===4)for(L=u();L--;)d(),F=d(),(3&u())==1&&x.weakImports.add(F);else f+=O}return x}o(getDylinkMetadata,"getDylinkMetadata"),i(getDylinkMetadata,"getDylinkMetadata");function getValue(l,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":return HEAP8[l>>0];case"i16":return HEAP16[l>>1];case"i32":case"i64":return HEAP32[l>>2];case"float":return HEAPF32[l>>2];case"double":return HEAPF64[l>>3];case"*":return HEAPU32[l>>2];default:abort("invalid type for getValue: "+f)}return null}o(getValue,"getValue"),i(getValue,"getValue");function asmjsMangle(l){return l.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(l)?l:"_"+l}o(asmjsMangle,"asmjsMangle"),i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(l,f){for(var c in l)if(l.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=l[c]);var u=asmjsMangle(c);Module.hasOwnProperty(u)||(Module[u]=l[c]),c=="__main_argc_argv"&&(Module._main=l[c])}}o(mergeLibSymbols,"mergeLibSymbols"),i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(l,f,c){var u=Module["dynCall_"+l];return c&&c.length?u.apply(null,[f].concat(c)):u.call(null,f)}o(dynCallLegacy,"dynCallLegacy"),i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(l){var f=wasmTableMirror[l];return f||(l>=wasmTableMirror.length&&(wasmTableMirror.length=l+1),wasmTableMirror[l]=f=wasmTable.get(l)),f}o(getWasmTableEntry,"getWasmTableEntry"),i(getWasmTableEntry,"getWasmTableEntry");function dynCall(l,f,c){return l.includes("j")?dynCallLegacy(l,f,c):getWasmTableEntry(f).apply(null,c)}o(dynCall,"dynCall"),i(dynCall,"dynCall");function createInvokeFunction(l){return function(){var f=stackSave();try{return dynCall(l,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(f),c!==c+0)throw c;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction"),i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(l,f){return HEAPU8.fill(0,l,l+f),l}o(zeroMemory,"zeroMemory"),i(zeroMemory,"zeroMemory");function getMemory(l){if(runtimeInitialized)return zeroMemory(_malloc(l),l);var f=___heap_base,c=f+l+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,f}o(getMemory,"getMemory"),i(getMemory,"getMemory");function isInternalSym(l){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(l)}o(isInternalSym,"isInternalSym"),i(isInternalSym,"isInternalSym");function uleb128Encode(l,f){l<128?f.push(l):f.push(l%128|128,l>>7)}o(uleb128Encode,"uleb128Encode"),i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(l){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:l[0]=="v"?[]:[f[l[0]]]},u=1;u<l.length;++u)c.parameters.push(f[l[u]]),l[u]==="j"&&c.parameters.push("i32");return c}o(sigToWasmTypes,"sigToWasmTypes"),i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(l,f){var c=l.slice(0,1),u=l.slice(1),d={i:127,p:127,j:126,f:125,d:124};f.push(96),uleb128Encode(u.length,f);for(var h=0;h<u.length;++h)f.push(d[u[h]]);c=="v"?f.push(0):f.push(1,d[c])}o(generateFuncType,"generateFuncType"),i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(l,f){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(f),l);var c=[1];generateFuncType(f,c);var u=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,u),u.push.apply(u,c),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(u));return new WebAssembly.Instance(d,{e:{f:l}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm"),i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(l,f){if(functionsInTableMap)for(var c=l;c<l+f;c++){var u=getWasmTableEntry(c);u&&functionsInTableMap.set(u,c)}}o(updateTableMap,"updateTableMap"),i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot"),i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(l,f){wasmTable.set(l,f),wasmTableMirror[l]=wasmTable.get(l)}o(setWasmTableEntry,"setWasmTableEntry"),i(setWasmTableEntry,"setWasmTableEntry");function addFunction(l,f){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(l))return functionsInTableMap.get(l);var c=getEmptyTableSlot();try{setWasmTableEntry(c,l)}catch(u){if(!(u instanceof TypeError))throw u;setWasmTableEntry(c,convertJsFunctionToWasm(l,f))}return functionsInTableMap.set(l,c),c}o(addFunction,"addFunction"),i(addFunction,"addFunction");function updateGOT(l,f){for(var c in l)if(!isInternalSym(c)){var u=l[c];c.startsWith("orig$")&&(c=c.split("$")[1],f=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(f||GOT[c].value==0)&&(typeof u=="function"?GOT[c].value=addFunction(u):typeof u=="number"?GOT[c].value=u:err("unhandled export type for `"+c+"`: "+typeof u))}}o(updateGOT,"updateGOT"),i(updateGOT,"updateGOT");function relocateExports(l,f,c){var u={};for(var d in l){var h=l[d];typeof h=="object"&&(h=h.value),typeof h=="number"&&(h+=f),u[d]=h}return updateGOT(u,c),u}o(relocateExports,"relocateExports"),i(relocateExports,"relocateExports");function resolveGlobalSymbol(l,f){var c;return f&&(c=asmLibraryArg["orig$"+l]),c||(c=asmLibraryArg[l])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(l)]),!c&&l.startsWith("invoke_")&&(c=createInvokeFunction(l.split("_")[1])),c}o(resolveGlobalSymbol,"resolveGlobalSymbol"),i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(l,f){return Math.ceil(l/f)*f}o(alignMemory,"alignMemory"),i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(l){var f=resolveGlobalSymbol(l,!1);return f||(f=moduleExports[l]),f}o(resolveSymbol,"resolveSymbol"),i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(l,f){switch(f){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(f in asmLibraryArg)return asmLibraryArg[f];var c;return f in l||(l[f]=function(){return c||(c=resolveSymbol(f)),c.apply(null,arguments)}),l[f]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(l){return postInstantiation(l.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(l,f){return l.then(function(){return loadDynamicLibrary(f,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(l){loadDynamicLibrary(l,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule"),i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(l,f,c){f=f||{global:!0,nodelete:!0};var u=LDSO.loadedLibsByName[l];if(u)return f.global&&!u.global&&(u.global=!0,u.module!=="loading"&&mergeLibSymbols(u.module,l)),f.nodelete&&u.refcount!==1/0&&(u.refcount=1/0),u.refcount++,c&&(LDSO.loadedLibsByHandle[c]=u),!f.loadAsync||Promise.resolve(!0);function d(m){if(f.fs&&f.fs.findObject(m)){var v=f.fs.readFile(m,{encoding:"binary"});return v instanceof Uint8Array||(v=new Uint8Array(v)),f.loadAsync?Promise.resolve(v):v}if(m=locateFile(m),f.loadAsync)return new Promise(function(x,S){readAsync(m,E=>x(new Uint8Array(E)),S)});if(!readBinary)throw new Error(m+": file not found, and synchronous loading of external files is not available");return readBinary(m)}o(d,"o"),i(d,"n");function h(){if(typeof preloadedWasm<"u"&&preloadedWasm[l]){var m=preloadedWasm[l];return f.loadAsync?Promise.resolve(m):m}return f.loadAsync?d(l).then(function(v){return loadWebAssemblyModule(v,f,c)}):loadWebAssemblyModule(d(l),f,c)}o(h,"s"),i(h,"s");function p(m){u.global&&mergeLibSymbols(m,l),u.module=m}return o(p,"a"),i(p,"a"),u={refcount:f.nodelete?1/0:1,name:l,module:"loading",global:f.global},LDSO.loadedLibsByName[l]=u,c&&(LDSO.loadedLibsByHandle[c]=u),f.loadAsync?h().then(function(m){return p(m),!0}):(p(h()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary"),i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var l in GOT)if(GOT[l].value==0){var f=resolveGlobalSymbol(l,!0);if(!f&&!GOT[l].required)continue;if(typeof f=="function")GOT[l].value=addFunction(f,f.sig);else{if(typeof f!="number")throw new Error("bad export type for `"+l+"`: "+typeof f);GOT[l].value=f}}}o(reportUndefinedSymbols,"reportUndefinedSymbols"),i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(l,f){return l.then(function(){return loadDynamicLibrary(f,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs"),i(preloadDylibs,"preloadDylibs");function setValue(l,f,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[l>>0]=f;break;case"i16":HEAP16[l>>1]=f;break;case"i32":HEAP32[l>>2]=f;break;case"i64":tempI64=[f>>>0,(tempDouble=f,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l>>2]=tempI64[0],HEAP32[l+4>>2]=tempI64[1];break;case"float":HEAPF32[l>>2]=f;break;case"double":HEAPF64[l>>3]=f;break;case"*":HEAPU32[l>>2]=f;break;default:abort("invalid type for setValue: "+c)}}o(setValue,"setValue"),i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic"),i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort"),i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now"),i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(l,f,c){HEAPU8.copyWithin(l,f,f+c)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big"),i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax"),i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(l){try{return wasmMemory.grow(l-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer"),i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(l){var f=HEAPU8.length;l>>>=0;var c=getHeapMax();if(l>c)return!1;for(var u=1;u<=4;u*=2){var d=f*(1+.2/u);if(d=Math.min(d,l+100663296),emscripten_realloc_buffer(Math.min(c,(h=Math.max(l,d))+((p=65536)-h%p)%p)))return!0}var h,p;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var l=process.hrtime();return 1e3*l[0]+l[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(l,f,c){if(PATH.isAbs(f))return f;var u;if(l===-100?u=FS.cwd():u=SYSCALLS.getStreamFromFD(l).path,f.length==0){if(!c)throw new FS.ErrnoError(44);return u}return PATH.join2(u,f)},doStat:function(l,f,c){try{var u=l(f)}catch(m){if(m&&m.node&&PATH.normalize(f)!==PATH.normalize(FS.getPath(m.node)))return-54;throw m}HEAP32[c>>2]=u.dev,HEAP32[c+8>>2]=u.ino,HEAP32[c+12>>2]=u.mode,HEAPU32[c+16>>2]=u.nlink,HEAP32[c+20>>2]=u.uid,HEAP32[c+24>>2]=u.gid,HEAP32[c+28>>2]=u.rdev,tempI64=[u.size>>>0,(tempDouble=u.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=u.blocks;var d=u.atime.getTime(),h=u.mtime.getTime(),p=u.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=d%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=h%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=p%1e3*1e3,tempI64=[u.ino>>>0,(tempDouble=u.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},doMsync:function(l,f,c,u,d){if(!FS.isFile(f.node.mode))throw new FS.ErrnoError(43);if(2&u)return 0;var h=HEAPU8.slice(l,l+c);FS.msync(f,h,d,c,u)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(l){return UTF8ToString(l)},getStreamFromFD:function(l){var f=FS.getStream(l);if(!f)throw new FS.ErrnoError(8);return f}};function _proc_exit(l){EXITSTATUS=l,keepRuntimeAlive()||(Module.onExit&&Module.onExit(l),ABORT=!0),quit_(l,new ExitStatus(l))}o(_proc_exit,"_proc_exit"),i(_proc_exit,"_proc_exit");function exitJS(l,f){EXITSTATUS=l,_proc_exit(l)}o(exitJS,"exitJS"),i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(l){try{var f=SYSCALLS.getStreamFromFD(l);return FS.close(f),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_close,"_fd_close"),i(_fd_close,"_fd_close");function convertI32PairToI53Checked(l,f){return f+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*f:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked"),i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(l,f,c,u,d){try{var h=convertI32PairToI53Checked(f,c);if(isNaN(h))return 61;var p=SYSCALLS.getStreamFromFD(l);return FS.llseek(p,h,u),tempI64=[p.position>>>0,(tempDouble=p.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],p.getdents&&h===0&&u===0&&(p.getdents=null),0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}o(_fd_seek,"_fd_seek"),i(_fd_seek,"_fd_seek");function doWritev(l,f,c,u){for(var d=0,h=0;h<c;h++){var p=HEAPU32[f>>2],m=HEAPU32[f+4>>2];f+=8;var v=FS.write(l,HEAP8,p,m,u);if(v<0)return-1;d+=v,u!==void 0&&(u+=v)}return d}o(doWritev,"doWritev"),i(doWritev,"doWritev");function _fd_write(l,f,c,u){try{var d=doWritev(SYSCALLS.getStreamFromFD(l),f,c);return HEAPU32[u>>2]=d,0}catch(h){if(typeof FS>"u"||!(h instanceof FS.ErrnoError))throw h;return h.errno}}o(_fd_write,"_fd_write"),i(_fd_write,"_fd_write");function _tree_sitter_log_callback(l,f){if(currentLogCallback){let c=UTF8ToString(f);currentLogCallback(c,l!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback"),i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(l,f,c,u,d){var h=currentParseCallback(f,{row:c,column:u});typeof h=="string"?(setValue(d,h.length,"i32"),stringToUTF16(h,l,10240)):setValue(d,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback"),i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(l){if(l instanceof ExitStatus||l=="unwind")return EXITSTATUS;quit_(1,l)}o(handleException,"handleException"),i(handleException,"handleException");function allocateUTF8OnStack(l){var f=lengthBytesUTF8(l)+1,c=stackAlloc(f);return stringToUTF8Array(l,HEAP8,c,f),c}o(allocateUTF8OnStack,"allocateUTF8OnStack"),i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(l,f,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var u=f,d=(c-=2)<2*l.length?c/2:l.length,h=0;h<d;++h){var p=l.charCodeAt(h);HEAP16[f>>1]=p,f+=2}return HEAP16[f>>1]=0,f-u}o(stringToUTF16,"stringToUTF16"),i(stringToUTF16,"stringToUTF16");function AsciiToString(l){for(var f="";;){var c=HEAPU8[l++>>0];if(!c)return f;f+=String.fromCharCode(c)}}o(AsciiToString,"AsciiToString"),i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(l){var f=Module._main;if(f){(l=l||[]).unshift(thisProgram);var c=l.length,u=stackAlloc(4*(c+1)),d=u>>2;l.forEach(p=>{HEAP32[d++]=allocateUTF8OnStack(p)}),HEAP32[d]=0;try{var h=f(c,u);return exitJS(h,!0),h}catch(p){return handleException(p)}}}o(callMain,"callMain"),i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(o(function l(){calledRun||run(),calledRun||(dependenciesFulfilled=l)},"t"),"e");var dylibsLoaded=!1;function run(l){function f(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(l),postRun()))}o(f,"e"),i(f,"t"),l=l||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),f()},1)):f()))}if(o(run,"run"),i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(f){let c;if(f){if(f.constructor!==Language)throw new Error("Argument must be a Language");{c=f[0];let u=C._ts_language_version(c);if(u<MIN_COMPATIBLE_VERSION||VERSION<u)throw new Error(`Incompatible language version ${u}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,f=null;return this.language=f,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(f,c,u){if(typeof f=="string")currentParseCallback=i((v,x,S)=>f.slice(v,S),"currentParseCallback");else{if(typeof f!="function")throw new Error("Argument must be a string or a function");currentParseCallback=f}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,h=0;if(u&&u.includedRanges){d=u.includedRanges.length,h=C._calloc(d,SIZE_OF_RANGE);let v=h;for(let x=0;x<d;x++)marshalRange(v,u.includedRanges[x]),v+=SIZE_OF_RANGE}let p=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,h,d);if(!p)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let m=new Tree(INTERNAL,p,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,m}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(f){C._ts_parser_set_timeout_micros(this[0],f)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(f){if(f){if(typeof f!="function")throw new Error("Logger callback must be a function")}else f=null;return this.logCallback=f,this}getLogger(){return this.logCallback}};o(e,"ParserImpl"),i(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(f,c,u,d){assertInternal(f),this[0]=c,this.language=u,this.textCallback=d}copy(){let f=C._ts_tree_copy(this[0]);return new t(INTERNAL,f,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(f){marshalEdit(f),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(f){if(f.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],f[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(c);if(c>0){let h=u;for(let p=0;p<c;p++)d[p]=unmarshalRange(h),h+=SIZE_OF_RANGE;C._free(u)}return d}};o(t,"Tree"),i(t,"Tree");let Tree=t,r=class r{constructor(f,c){assertInternal(f),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(f){return this.id===f.id}child(f){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}namedChild(f){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldId(f){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldName(f){let c=this.tree.language.fields.indexOf(f);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._children[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._namedChildren[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(f,c,u){Array.isArray(f)||(f=[f]),c||(c=ZERO_POINT),u||(u=ZERO_POINT);let d=[],h=this.tree.language.types;for(let S=0,E=h.length;S<E;S++)f.includes(h[S])&&d.push(S);let p=C._malloc(SIZE_OF_INT*d.length);for(let S=0,E=d.length;S<E;S++)setValue(p+S*SIZE_OF_INT,d[S],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],p,d.length,c.row,c.column,u.row,u.column);let m=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=new Array(m);if(m>0){let S=v;for(let E=0;E<m;E++)x[E]=unmarshalNode(this.tree,S),S+=SIZE_OF_NODE}return C._free(v),C._free(p),x}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let f=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(f);return C._free(f),c}};o(r,"Node"),i(r,"Node");let Node=r,n=class n{constructor(f,c){assertInternal(f),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(f){marshalNode(f),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let f=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,f,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoNextSibling(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoParent(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}};o(n,"TreeCursor"),i(n,"TreeCursor");let TreeCursor=n,s=class s{constructor(f,c){assertInternal(f),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let u=0,d=this.types.length;u<d;u++)C._ts_language_symbol_type(this[0],u)<2&&(this.types[u]=UTF8ToString(C._ts_language_symbol_name(this[0],u)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let u=0,d=this.fields.length;u<d;u++){let h=C._ts_language_field_name_for_id(this[0],u);this.fields[u]=h!==0?UTF8ToString(h):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(f){let c=this.fields.indexOf(f);return c!==-1?c:null}fieldNameForId(f){return this.fields[f]||null}idForNodeType(f,c){let u=lengthBytesUTF8(f),d=C._malloc(u+1);stringToUTF8(f,d,u+1);let h=C._ts_language_symbol_for_name(this[0],d,u,c);return C._free(d),h||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(f){let c=C._ts_language_symbol_name(this[0],f);return c?UTF8ToString(c):null}nodeTypeIsNamed(f){return!!C._ts_language_type_is_named_wasm(this[0],f)}nodeTypeIsVisible(f){return!!C._ts_language_type_is_visible_wasm(this[0],f)}query(f){let c=lengthBytesUTF8(f),u=C._malloc(c+1);stringToUTF8(f,u,c+1);let d=C._ts_query_new(this[0],u,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let L=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),F=UTF8ToString(u,getValue(TRANSFER_BUFFER,"i32")).length,ve=f.substr(F,100).split(`
`)[0],we,Xt=ve.match(QUERY_WORD_REGEX)[0];switch(L){case 2:we=new RangeError(`Bad node name '${Xt}'`);break;case 3:we=new RangeError(`Bad field name '${Xt}'`);break;case 4:we=new RangeError(`Bad capture name @${Xt}`);break;case 5:we=new TypeError(`Bad pattern structure at offset ${F}: '${ve}'...`),Xt="";break;default:we=new SyntaxError(`Bad syntax at offset ${F}: '${ve}'...`),Xt=""}throw we.index=F,we.length=Xt.length,C._free(u),we}let h=C._ts_query_string_count(d),p=C._ts_query_capture_count(d),m=C._ts_query_pattern_count(d),v=new Array(p),x=new Array(h);for(let L=0;L<p;L++){let F=C._ts_query_capture_name_for_id(d,L,TRANSFER_BUFFER),ve=getValue(TRANSFER_BUFFER,"i32");v[L]=UTF8ToString(F,ve)}for(let L=0;L<h;L++){let F=C._ts_query_string_value_for_id(d,L,TRANSFER_BUFFER),ve=getValue(TRANSFER_BUFFER,"i32");x[L]=UTF8ToString(F,ve)}let S=new Array(m),E=new Array(m),R=new Array(m),B=new Array(m),O=new Array(m);for(let L=0;L<m;L++){let F=C._ts_query_predicates_for_pattern(d,L,TRANSFER_BUFFER),ve=getValue(TRANSFER_BUFFER,"i32");B[L]=[],O[L]=[];let we=[],Xt=F;for(let f0=0;f0<ve;f0++){let Jt=getValue(Xt,"i32");Xt+=SIZE_OF_INT;let c0=getValue(Xt,"i32");if(Xt+=SIZE_OF_INT,Jt===PREDICATE_STEP_TYPE_CAPTURE)we.push({type:"capture",name:v[c0]});else if(Jt===PREDICATE_STEP_TYPE_STRING)we.push({type:"string",value:x[c0]});else if(we.length>0){if(we[0].type!=="string")throw new Error("Predicates must begin with a literal value");let yt=we[0].value,je=!0;switch(yt){case"not-eq?":je=!1;case"eq?":if(we.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(we.length-1));if(we[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${we[1].value}"`);if(we[2].type==="capture"){let N0=we[1].name,kt=we[2].name;O[L].push(function(o0){let de,Me;for(let b0 of o0)b0.name===N0&&(de=b0.node),b0.name===kt&&(Me=b0.node);return de===void 0||Me===void 0||de.text===Me.text===je})}else{let N0=we[1].name,kt=we[2].value;O[L].push(function(o0){for(let de of o0)if(de.name===N0)return de.node.text===kt===je;return!0})}break;case"not-match?":je=!1;case"match?":if(we.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${we.length-1}.`);if(we[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${we[1].value}".`);if(we[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${we[2].value}.`);let i0=we[1].name,u0=new RegExp(we[2].value);O[L].push(function(N0){for(let kt of N0)if(kt.name===i0)return u0.test(kt.node.text)===je;return!0});break;case"set!":if(we.length<2||we.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${we.length-1}.`);if(we.some(N0=>N0.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');S[L]||(S[L]={}),S[L][we[1].value]=we[2]?we[2].value:null;break;case"is?":case"is-not?":if(we.length<2||we.length>3)throw new Error(`Wrong number of arguments to \`#${yt}\` predicate. Expected 1 or 2. Got ${we.length-1}.`);if(we.some(N0=>N0.type!=="string"))throw new Error(`Arguments to \`#${yt}\` predicate must be a strings.".`);let l0=yt==="is?"?E:R;l0[L]||(l0[L]={}),l0[L][we[1].value]=we[2]?we[2].value:null;break;default:B[L].push({operator:yt,operands:we.slice(1)})}we.length=0}}Object.freeze(S[L]),Object.freeze(E[L]),Object.freeze(R[L])}return C._free(u),new Query(INTERNAL,d,v,O,B,Object.freeze(S),Object.freeze(E),Object.freeze(R))}static load(f){let c;if(f instanceof Uint8Array)c=Promise.resolve(f);else{let d=f;if(typeof process<"u"&&process.versions&&process.versions.node){let h=require("fs");c=Promise.resolve(h.readFileSync(d))}else c=fetch(d).then(h=>h.arrayBuffer().then(p=>{if(h.ok)return new Uint8Array(p);{let m=new TextDecoder("utf-8").decode(p);throw new Error(`Language.load failed with status ${h.status}.

${m}`)}}))}let u=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(d=>u(d,{loadAsync:!0})).then(d=>{let h=Object.keys(d),p=h.find(v=>LANGUAGE_FUNCTION_REGEX.test(v)&&!v.includes("external_scanner_"));p||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(h,null,2)}`);let m=d[p]();return new s(INTERNAL,m)})}};o(s,"Language"),i(s,"Language");let Language=s,a=class a{constructor(f,c,u,d,h,p,m,v){assertInternal(f),this[0]=c,this.captureNames=u,this.textPredicates=d,this.predicates=h,this.setProperties=p,this.assertedProperties=m,this.refutedProperties=v,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_matches_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let p=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=new Array(p);this.exceededMatchLimit=!!v;let S=0,E=m;for(let R=0;R<p;R++){let B=getValue(E,"i32");E+=SIZE_OF_INT;let O=getValue(E,"i32");E+=SIZE_OF_INT;let L=new Array(O);if(E=unmarshalCaptures(this,f.tree,E,L),this.textPredicates[B].every(F=>F(L))){x[S++]={pattern:B,captures:L};let F=this.setProperties[B];F&&(x[R].setProperties=F);let ve=this.assertedProperties[B];ve&&(x[R].assertedProperties=ve);let we=this.refutedProperties[B];we&&(x[R].refutedProperties=we)}}return x.length=S,C._free(m),x}captures(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_captures_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let p=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=[];this.exceededMatchLimit=!!v;let S=[],E=m;for(let R=0;R<p;R++){let B=getValue(E,"i32");E+=SIZE_OF_INT;let O=getValue(E,"i32");E+=SIZE_OF_INT;let L=getValue(E,"i32");if(E+=SIZE_OF_INT,S.length=O,E=unmarshalCaptures(this,f.tree,E,S),this.textPredicates[B].every(F=>F(S))){let F=S[L],ve=this.setProperties[B];ve&&(F.setProperties=ve);let we=this.assertedProperties[B];we&&(F.assertedProperties=we);let Xt=this.refutedProperties[B];Xt&&(F.refutedProperties=Xt),x.push(F)}}return C._free(m),x}predicatesForPattern(f){return this.predicates[f]}didExceedMatchLimit(){return this.exceededMatchLimit}};o(a,"Query"),i(a,"Query");let Query=a;function getText(l,f,c){let u=c-f,d=l.textCallback(f,null,c);for(f+=d.length;f<c;){let h=l.textCallback(f,null,c);if(!(h&&h.length>0))break;f+=h.length,d+=h}return f>c&&(d=d.slice(0,u)),d}o(getText,"getText"),i(getText,"getText");function unmarshalCaptures(l,f,c,u){for(let d=0,h=u.length;d<h;d++){let p=getValue(c,"i32"),m=unmarshalNode(f,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,u[d]={name:l.captureNames[p],node:m}}return c}o(unmarshalCaptures,"unmarshalCaptures"),i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(l){if(l!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal"),i(assertInternal,"assertInternal");function isPoint(l){return l&&typeof l.row=="number"&&typeof l.column=="number"}o(isPoint,"isPoint"),i(isPoint,"isPoint");function marshalNode(l){let f=TRANSFER_BUFFER;setValue(f,l.id,"i32"),f+=SIZE_OF_INT,setValue(f,l.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,l.startPosition.row,"i32"),f+=SIZE_OF_INT,setValue(f,l.startPosition.column,"i32"),f+=SIZE_OF_INT,setValue(f,l[0],"i32")}o(marshalNode,"marshalNode"),i(marshalNode,"marshalNode");function unmarshalNode(l,f=TRANSFER_BUFFER){let c=getValue(f,"i32");if(c===0)return null;let u=getValue(f+=SIZE_OF_INT,"i32"),d=getValue(f+=SIZE_OF_INT,"i32"),h=getValue(f+=SIZE_OF_INT,"i32"),p=getValue(f+=SIZE_OF_INT,"i32"),m=new Node(INTERNAL,l);return m.id=c,m.startIndex=u,m.startPosition={row:d,column:h},m[0]=p,m}o(unmarshalNode,"unmarshalNode"),i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(l,f=TRANSFER_BUFFER){setValue(f+0*SIZE_OF_INT,l[0],"i32"),setValue(f+1*SIZE_OF_INT,l[1],"i32"),setValue(f+2*SIZE_OF_INT,l[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor"),i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(l){l[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),l[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),l[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor"),i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(l,f){setValue(l,f.row,"i32"),setValue(l+SIZE_OF_INT,f.column,"i32")}o(marshalPoint,"marshalPoint"),i(marshalPoint,"marshalPoint");function unmarshalPoint(l){return{row:getValue(l,"i32"),column:getValue(l+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint"),i(unmarshalPoint,"unmarshalPoint");function marshalRange(l,f){marshalPoint(l,f.startPosition),marshalPoint(l+=SIZE_OF_POINT,f.endPosition),setValue(l+=SIZE_OF_POINT,f.startIndex,"i32"),setValue(l+=SIZE_OF_INT,f.endIndex,"i32"),l+=SIZE_OF_INT}o(marshalRange,"marshalRange"),i(marshalRange,"marshalRange");function unmarshalRange(l){let f={};return f.startPosition=unmarshalPoint(l),l+=SIZE_OF_POINT,f.endPosition=unmarshalPoint(l),l+=SIZE_OF_POINT,f.startIndex=getValue(l,"i32"),l+=SIZE_OF_INT,f.endIndex=getValue(l,"i32"),f}o(unmarshalRange,"unmarshalRange"),i(unmarshalRange,"unmarshalRange");function marshalEdit(l){let f=TRANSFER_BUFFER;marshalPoint(f,l.startPosition),f+=SIZE_OF_POINT,marshalPoint(f,l.oldEndPosition),f+=SIZE_OF_POINT,marshalPoint(f,l.newEndPosition),f+=SIZE_OF_POINT,setValue(f,l.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,l.oldEndIndex,"i32"),f+=SIZE_OF_INT,setValue(f,l.newEndIndex,"i32"),f+=SIZE_OF_INT}o(marshalEdit,"marshalEdit"),i(marshalEdit,"marshalEdit");for(let l of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,l,{value:ParserImpl.prototype[l],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};o(_Parser,"Parser"),i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)}),Ni={};ho(Ni,{DEFAULT_NUM_OF_SNIPPETS:()=>ar,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>Un,ElidableText:()=>Fe,LineEndingOptions:()=>Zt,LineWithValueAndCost:()=>he,MAX_PROMPT_LENGTH:()=>ir,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>lr,NeighboringTabsOption:()=>We,PromptOptions:()=>mt,ProviderTimeoutError:()=>re,SnippetOrchestrator:()=>Tt,SnippetProviderType:()=>q,SnippetSemantics:()=>ie,SuffixMatchOption:()=>cr,SuffixOption:()=>ur,TokenizerName:()=>Je,WASMLanguage:()=>ro,blankNode:()=>Xe,buildLabelRules:()=>fe,clearLabels:()=>Pn,clearLabelsIf:()=>Bt,combineClosersAndOpeners:()=>Ye,comment:()=>Oe,commentBlockAsSingles:()=>be,createWorker:()=>Li,cutTreeAfterLine:()=>So,deparseAndCutTree:()=>Ao,deparseLine:()=>Ae,deparseTree:()=>Rn,describeTree:()=>On,duplicateTree:()=>Mo,elidableTextForDiff:()=>qo,elidableTextForSourceCode:()=>Ut,encodeTree:()=>Dn,firstLineOf:()=>Bn,flattenVirtual:()=>H,foldTree:()=>Pe,fromTreeWithFocussedLines:()=>ge,fromTreeWithValuedLines:()=>zn,getAncestorWithSiblingFunctions:()=>bi,getBlockCloseToken:()=>mi,getBlockParser:()=>Pt,getCursorContext:()=>rt,getFirstPrecedingComment:()=>wi,getFunctionPositions:()=>vi,getLanguage:()=>so,getNodeStart:()=>Ii,getPrompt:()=>_s,getTokenizer:()=>U,groupBlocks:()=>Wt,isBlank:()=>M,isBlockBodyFinished:()=>xi,isEmptyBlockStart:()=>Ti,isFunction:()=>xt,isFunctionDefinition:()=>yi,isLine:()=>z,isSupportedLanguageId:()=>qe,isTop:()=>ee,isVirtual:()=>A,labelLines:()=>pe,labelVirtualInherited:()=>Ce,languageCommentMarkers:()=>nt,languageIdToWasmLanguage:()=>D,lastLineOf:()=>Wn,lineNode:()=>Dt,mapLabels:()=>j,normalizeLanguageId:()=>ne,parseRaw:()=>kn,parseTree:()=>te,parseTreeSitter:()=>Te,parsesWithoutError:()=>_i,providersErrors:()=>Jr,providersPerformance:()=>Qr,providersSnippets:()=>Kr,queryExports:()=>fi,queryFunctions:()=>io,queryGlobalVars:()=>gi,queryImports:()=>pi,queryPythonIsDocstring:()=>Tn,rebuildTree:()=>ke,registerLanguageSpecificParser:()=>et,resetLineNumbers:()=>To,topNode:()=>Ne,virtualNode:()=>Qe,visitTree:()=>T,visitTreeConditionally:()=>xo});module.exports=bo(Ni);var uo=require("path"),co=require("worker_threads"),At=Ct(require("fs")),Ft=Ct(require("path")),Ke=require("util"),Ge=i((e,t)=>Array.from(Array(t).keys()).slice(e),"range"),me=i(e=>e.charCodeAt(0),"ord"),yo=i(e=>String.fromCharCode(e),"chr"),wo=new Ke.TextDecoder("utf-8"),In=i(e=>wo.decode(new Uint8Array(e)),"decodeStr"),vo=i((e,t)=>{let r=new Map;return e.forEach((n,s)=>{r.set(e[s],t[s])}),r},"dictZip");function Eo(e){let t=Ge(me("!"),me("~")+1).concat(Ge(me("\xA1"),me("\xAC")+1),Ge(me("\xAE"),me("\xFF")+1)),r=t.slice(),n=0;for(let a=0;a<2**8;a++)t.includes(a)||(t.push(a),r.push(2**8+n),n=n+1);let s=r.map(a=>yo(a));for(let a=0;a<t.length;a++)e.set(t[a],s[a])}o(Eo,"Eo");i(Eo,"bytes_to_unicode");function Ln(e){let t=new Set,r=e[0];for(let n=1;n<e.length;n++){let s=e[n];t.add([r,s]),r=s}return t}o(Ln,"Ln");i(Ln,"get_char_pairs");var Je=(e=>(e.cl100k="cl100k",e.mock="mock",e))(Je||{}),Nn=new Map;function U(e="cl100k"){let t=Nn.get(e);return t!==void 0||(e==="mock"?t=new Ot:t=new Rt(e),Nn.set(e,t)),t}o(U,"U");i(U,"getTokenizer");var S8,Rt=(S8=class{constructor(t="cl100k"){this.decoder=new Map,this.byte_encoder=new Map,this.byte_decoder=new Map,this.cache=new Map,this.textEncoder=new Ke.TextEncoder,this.encodeStr=f=>Array.from(this.textEncoder.encode(f));let r="",n="";if(t==="cl100k")r="vocab_cushman002.bpe",n="tokenizer_cushman002.json",this.pat=new RegExp("'s|'t|'re|'ve|'m|'ll|'d|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+","giu");else throw new Error(`Unknown tokenizer name: ${t}`);let s,a;try{let f=At.readFileSync(Ft.resolve(__dirname,"resources",t,n));s=JSON.parse(f.toString()),a=At.readFileSync(Ft.resolve(__dirname,"resources",t,r),"utf-8")}catch(f){if(typeof f.code=="string"&&f instanceof Error&&f.name==="Error"||f instanceof SyntaxError){let c=new Error(`Could not load tokenizer: ${t}`);throw c.code="CopilotPromptLoadFailure",c.cause=f,c}throw f}this.encoder=new Map(Object.entries(s));for(let[f,c]of this.encoder)this.decoder.set(c,f);let l=a.split(`
`).slice(1).filter(f=>f.trim().length>0);this.bpe_ranks=vo(l,Ge(0,l.length)),Eo(this.byte_encoder),this.byte_encoder.forEach((f,c,u)=>{this.byte_decoder.set(f,c)})}byteEncodeStr(t){return this.encodeStr(t).map(r=>this.byte_encoder.get(r))}mutatingConcat(t,r){for(let n=0;n<r.length;n++)t.push(r[n]);return t}bpe(t){if(this.cache.has(t))return this.cache.get(t);let r=this.byteEncodeStr(t),n=Ln(r);if(!n)return r.map(a=>this.encoder.get(a));for(;;){let a=new Map;n.forEach(p=>{let m=p.join(" "),v=this.bpe_ranks.get(m);a.set(v===void 0||isNaN(v)?1e11:v,p)});let l=Array.from(a.keys()).map(p=>Number(p)),f=a.get(Math.min(...l));if(!f||!this.bpe_ranks.has(f.join(" ")))break;let c=f[0],u=f[1],d=[],h=0;for(;h<r.length;){let p=r.indexOf(c,h);if(p===-1){this.mutatingConcat(d,r.slice(h));break}this.mutatingConcat(d,r.slice(h,p)),h=p,r[h]===c&&h<r.length-1&&r[h+1]===u?(d.push(c+u),h=h+2):(d.push(r[h]),h=h+1)}if(r=d,r.length===1)break;n=Ln(r)}let s=r.map(a=>this.encoder.get(a));return this.cache.set(t,s),s}tokenize(t){let r=[];for(let[n]of t.matchAll(this.pat)){let s=this.bpe(n);this.mutatingConcat(r,s)}return r}tokenLength(t){return this.tokenize(t).length}takeLastTokens(t,r){if(r<=0)return"";let n=4,s=1,a=Math.min(t.length,r*n),l=t.slice(-a),f=this.tokenize(l);for(;f.length<r+2&&a<t.length;)a=Math.min(t.length,a+r*s),l=t.slice(-a),f=this.tokenize(l);return f.length<r?t:(f=f.slice(-r),this.detokenize(f))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,s=1,a=Math.min(t.length,r*n),l=t.slice(0,a),f=this.tokenize(l);for(;f.length<r+2&&a<t.length;)a=Math.min(t.length,a+r*s),l=t.slice(0,a),f=this.tokenize(l);return f.length<r?{text:t,tokens:f}:(f=f.slice(0,r),{text:this.detokenize(f),tokens:f})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}detokenize(t){let r=t.map(n=>this.decoder.get(n)).join("");return r=In(r.split("").map(n=>this.byte_decoder.get(n))),r}tokenizeStrings(t){return this.tokenize(t).map(r=>In(this.decoder.get(r).split("").map(n=>this.byte_decoder.get(n))))}},o(S8,"Rt"),i(S8,"BPETokenizer"),S8),w8,Ot=(w8=class{constructor(){this.hash=t=>{let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=(r<<5)-r+s,r&=r&65535}return r}}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(w8,"Ot"),i(w8,"MockTokenizer"),w8);function Qe(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(Qe,"Qe");i(Qe,"virtualNode");function Dt(e,t,r,n,s){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:s}}o(Dt,"Dt");i(Dt,"lineNode");function Xe(e){return{type:"blank",lineNumber:e,subs:[]}}o(Xe,"Xe");i(Xe,"blankNode");function Ne(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}o(Ne,"Ne");i(Ne,"topNode");function M(e){return e.type==="blank"}o(M,"M");i(M,"isBlank");function z(e){return e.type==="line"}o(z,"z");i(z,"isLine");function A(e){return e.type==="virtual"}o(A,"A");i(A,"isVirtual");function ee(e){return e.type==="top"}o(ee,"ee");i(ee,"isTop");function So(e,t){function r(n){if(!A(n)&&!ee(n)&&n.lineNumber===t)return n.subs=[],!0;for(let s=0;s<n.subs.length;s++)if(r(n.subs[s]))return n.subs=n.subs.slice(0,s+1),!0;return!1}o(r,"n"),i(r,"cut"),r(e)}o(So,"So");i(So,"cutTreeAfterLine");function Mo(e){return JSON.parse(JSON.stringify(e))}o(Mo,"Mo");i(Mo,"duplicateTree");function Pn(e){return T(e,t=>{t.label=void 0},"bottomUp"),e}o(Pn,"Pn");i(Pn,"clearLabels");function Bt(e,t){return T(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(Bt,"Bt");i(Bt,"clearLabelsIf");function j(e,t){switch(e.type){case"line":case"virtual":let r=e.subs.map(n=>j(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0};case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>j(n,t)),label:e.label?t(e.label):void 0}}}o(j,"j");i(j,"mapLabels");function To(e){let t=0;function r(n){!A(n)&&!ee(n)&&(n.lineNumber=t,t++)}o(r,"n"),i(r,"visitor"),T(e,r,"topDown")}o(To,"To");i(To,"resetLineNumbers");function T(e,t,r){function n(s){r==="topDown"&&t(s),s.subs.forEach(a=>{n(a)}),r==="bottomUp"&&t(s)}o(n,"r"),i(n,"_visit"),n(e)}o(T,"T");i(T,"visitTree");function xo(e,t,r){function n(s){if(r==="topDown"&&!t(s))return!1;let a=!0;return s.subs.forEach(l=>{a=a&&n(l)}),r==="bottomUp"&&(a=a&&t(s)),a}o(n,"r"),i(n,"_visit"),n(e)}o(xo,"xo");i(xo,"visitTreeConditionally");function Pe(e,t,r,n){let s=t;function a(l){s=r(l,s)}return o(a,"s"),i(a,"visitor"),T(e,a,n),s}o(Pe,"Pe");i(Pe,"foldTree");function ke(e,t,r){let n=i(a=>{if(r!==void 0&&r(a))return a;{let l=a.subs.map(n).filter(f=>f!==void 0);return a.subs=l,t(a)}},"rebuild"),s=n(e);return s!==void 0?s:Ne()}o(ke,"ke");i(ke,"rebuildTree");function kn(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function s(u){let[d,h]=a(u+1,r[u]);return[Dt(r[u],u,n[u],d),h]}o(s,"o"),i(s,"parseNode");function a(u,d){let h,p=[],m=u,v;for(;m<n.length&&(n[m]===""||r[m]>d);)if(n[m]==="")v===void 0&&(v=m),m+=1;else{if(v!==void 0){for(let x=v;x<m;x++)p.push(Xe(x));v=void 0}[h,m]=s(m),p.push(h)}return v!==void 0&&(m=v),[p,m]}o(a,"s"),i(a,"parseSubs");let[l,f]=a(0,-1),c=f;for(;c<n.length&&n[c]==="";)l.push(Xe(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return Ne(l)}o(kn,"kn");i(kn,"parseRaw");function pe(e,t){function r(n){if(z(n)){let s=t.find(a=>a.matches(n.sourceLine));s&&(n.label=s.label)}}o(r,"n"),i(r,"visitor"),T(e,r,"bottomUp")}o(pe,"pe");i(pe,"labelLines");function Ce(e){function t(r){if(A(r)&&r.label===void 0){let n=r.subs.filter(s=>!M(s));n.length===1&&(r.label=n[0].label)}}o(t,"e"),i(t,"visitor"),T(e,t,"bottomUp")}o(Ce,"Ce");i(Ce,"labelVirtualInherited");function fe(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(fe,"fe");i(fe,"buildLabelRules");function Ye(e){let t=ke(e,i(function(r){if(r.subs.length===0||r.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return r;let n=[],s;for(let a=0;a<r.subs.length;a++){let l=r.subs[a],f=r.subs[a-1];if(l.label==="opener"&&f!==void 0&&z(f))f.subs.push(l),l.subs.forEach(c=>f.subs.push(c)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(z(l)||A(l))&&l.indentation>=s.indentation){let c=n.length-1;for(;c>0&&M(n[c]);)c-=1;if(s.subs.push(...n.splice(c+1)),l.subs.length>0){let u=s.subs.findIndex(m=>m.label!=="newVirtual"),d=s.subs.slice(0,u),h=s.subs.slice(u),p=h.length>0?[Qe(l.indentation,h,"newVirtual")]:[];s.subs=[...d,...p,l]}else s.subs.push(l)}else n.push(l),M(l)||(s=l)}return r.subs=n,r},"rebuilder"));return Bt(e,r=>r==="newVirtual"),t}o(Ye,"Ye");i(Ye,"combineClosersAndOpeners");function Wt(e,t=M,r){return ke(e,i(function(n){if(n.subs.length<=1)return n;let s=[],a=[],l,f=!1;function c(u=!1){if(l!==void 0&&(s.length>0||!u)){let d=Qe(l,a,r);s.push(d)}else a.forEach(d=>s.push(d))}o(c,"d"),i(c,"flushBlockIntoNewSubs");for(let u=0;u<n.subs.length;u++){let d=n.subs[u],h=t(d);!h&&f&&(c(),a=[]),f=h,a.push(d),M(d)||(l=l!=null?l:d.indentation)}return c(!0),n.subs=s,n},"rebuilder"))}o(Wt,"Wt");i(Wt,"groupBlocks");function H(e){return ke(e,i(function(t){return A(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&A(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}o(H,"H");i(H,"flattenVirtual");var Io={opener:/^[\[({]/,closer:/^[\])}]/},Lo=fe(Io),Cn={};function et(e,t){Cn[e]=t}o(et,"et");i(et,"registerLanguageSpecificParser");function te(e,t){let r=kn(e),n=Cn[t!=null?t:""];return n?n(r):(pe(r,Lo),Ye(r))}o(te,"te");i(te,"parseTree");var No={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Po=fe(No);function An(e){let t=e;return pe(t,Po),t=Ye(t),t=H(t),Ce(t),T(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!M(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(An,"An");i(An,"processJava");var ko={heading:/^# /,subheading:/^## /,subsubheading:/### /},Co=fe(ko);function Fn(e){let t=e;if(pe(t,Co),M(t))return t;function r(a){if(a.label==="heading")return 1;if(a.label==="subheading")return 2;if(a.label==="subsubheading")return 3}o(r,"n"),i(r,"headingLevel");let n=[t],s=[...t.subs];t.subs=[];for(let a of s){let l=r(a);if(l===void 0||M(a))n[n.length-1].subs.push(a);else{for(;n.length<l;)n.push(n[n.length-1]);for(n[l-1].subs.push(a),n[l]=a;n.length>l+1;)n.pop()}}return t=Wt(t),t=H(t),Ce(t),t}o(Fn,"Fn");i(Fn,"processMarkdown");function Ae(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Ae,"Ae");i(Ae,"deparseLine");function Rn(e){function t(r,n){let s="";return z(r)?s=Ae(r):M(r)&&(s=`
`),n+s}return o(t,"e"),i(t,"accumulator"),Pe(e,"",t,"topDown")}o(Rn,"Rn");i(Rn,"deparseTree");function Ao(e,t){let r=new Set(t),n=[],s="";function a(l){l.label!==void 0&&r.has(l.label)?(s!==""&&n.push({label:void 0,source:s}),n.push({label:l.label,source:Rn(l)}),s=""):(z(l)&&(s+=Ae(l)),l.subs.forEach(a))}return o(a,"s"),i(a,"visit"),a(e),s!==""&&n.push({label:void 0,source:s}),n}o(Ao,"Ao");i(Ao,"deparseAndCutTree");function On(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let n;e.subs===void 0?n="UNDEFINED SUBS":n=e.subs.map(l=>On(l,t+2)).join(`,
`),n===""?n="[]":n=`[
${n}
      ${r}]`;let s=(A(e)||ee(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,a=e.label===void 0?"":JSON.stringify(e.label);return A(e)||ee(e)?`${s}vnode(${e.indentation}, ${a}, ${n})`:M(e)?`${s}blank(${a!=null?a:""})`:`${s}lnode(${e.indentation}, ${a}, ${JSON.stringify(e.sourceLine)}, ${n})`}o(On,"On");i(On,"describeTree");function Dn(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,n=!M(e)&&e.subs.length>0?`[
${e.subs.map(s=>Dn(s,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${n}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${n}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${n}${r})`}}o(Dn,"Dn");i(Dn,"encodeTree");function Bn(e){if(z(e)||M(e))return e.lineNumber;for(let t of e.subs){let r=Bn(t);if(r!==void 0)return r}}o(Bn,"Bn");i(Bn,"firstLineOf");function Wn(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=Wn(e.subs[r]),r--;return t===void 0&&!A(e)&&!ee(e)?e.lineNumber:t}o(Wn,"Wn");i(Wn,"lastLineOf");et("markdown",Fn);et("java",An);var Un={worthUp:.9,worthSibling:.88,worthDown:.8};function ge(e,t=Un){let r=j(e,n=>n?1:void 0);return T(r,n=>{var a;if(M(n))return;let s=n.subs.reduce((l,f)=>{var c;return Math.max(l,(c=f.label)!=null?c:0)},0);n.label=Math.max((a=n.label)!=null?a:0,s*t.worthUp)},"bottomUp"),T(r,n=>{if(M(n))return;let s=n.subs.map(f=>{var c;return(c=f.label)!=null?c:0}),a=[...s];for(let f=0;f<s.length;f++)s[f]!==0&&(a=a.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(f-u))*s[f])));let l=n.label;l!==void 0&&(a=a.map(f=>Math.max(f,t.worthDown*l))),n.subs.forEach((f,c)=>f.label=a[c])},"topDown"),zn(r)}o(ge,"ge");i(ge,"fromTreeWithFocussedLines");function zn(e){let t=Pe(e,[],(r,n)=>{var s,a;return(r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[Ae(r).trimEnd(),(s=r.label)!=null?s:0]:["",(a=r.label)!=null?a:0]),n},"topDown");return new Fe(t)}o(zn,"zn");i(zn,"fromTreeWithValuedLines");function Ut(e,t=!0,r=!0){let n=typeof e=="string"?te(e):te(e.source,e.languageId);H(n);let s=j(n,a=>t&&a!=="closer");return T(s,a=>{a.label===void 0&&(a.label=t&&a.label!==!1)},"topDown"),t&&T(s,a=>{if(a.label){let l=!1;for(let f of[...a.subs].reverse())f.label&&!l?l=!0:f.label=!1}else for(let l of a.subs)l.label=!1;a.subs.length>0&&(a.label=!1)},"topDown"),r&&T(s,a=>{a.label||(a.label=(z(a)||M(a))&&a.lineNumber==0)},"topDown"),ge(s)}o(Ut,"Ut");i(Ut,"elidableTextForSourceCode");var s4,he=(s4=class{constructor(t,r,n=U().tokenLength(t+`
`),s="strict"){if(this.text=t,this._value=r,this._cost=n,t.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>U().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new s4(this.text,this.value,this.cost,"none")}},o(s4,"t"),i(s4,"LineWithValueAndCost"),s4),o4,Fe=(o4=class{constructor(t){this.lines=[];let r=[];for(let n of t){let s=Array.isArray(n)?n[1]:1,a=Array.isArray(n)?n[0]:n;typeof a=="string"?a.split(`
`).forEach(l=>r.push(new he(l,s))):a instanceof o4?a.lines.forEach(l=>r.push(l.copy().adjustValue(s))):"source"in a&&"languageId"in a&&Ut(a).lines.forEach(l=>r.push(l.copy().adjustValue(s)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>U().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,s="removeLeastDesirable",a=U()){let l=this.lines.map(f=>f.copy());return Fo(l,t,r,n,s,a)}},o(o4,"t"),i(o4,"ElidableText"),o4);function Fo(e,t,r,n,s,a){var h,p,m,v,x,S,E,R,B,O,L,F,ve;if(a.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&e.forEach(we=>we.adjustValue(1/we.cost));let l=e.reduce((we,Xt)=>Math.max(we,Xt.value),0)+1,f=e.reduce((we,Xt)=>Math.max(we,Xt.text.length),0)+1,c=r.trim(),u=e.reduce((we,Xt)=>we+Xt.cost,0),d=e.length+1;for(;u>t&&d-->=-1;){let we=e.reduce((i0,u0)=>u0.value<i0.value?u0:i0),Xt=e.indexOf(we),f0=(h=e.slice(0,Xt+1).reverse().find(i0=>i0.text.trim()!==""))!=null?h:{text:""},Jt=n?Math.min((m=(p=f0.text.match(/^\s*/))==null?void 0:p[0].length)!=null?m:0,((v=e[Xt-1])==null?void 0:v.text.trim())===c?(E=(S=(x=e[Xt-1])==null?void 0:x.text.match(/^\s*/))==null?void 0:S[0].length)!=null?E:0:f,((R=e[Xt+1])==null?void 0:R.text.trim())===c?(L=(O=(B=e[Xt+1])==null?void 0:B.text.match(/^\s*/))==null?void 0:O[0].length)!=null?L:0:f):0,c0=" ".repeat(Jt)+r,yt=new he(c0,l,a.tokenLength(c0+`
`),"loose");e.splice(Xt,1,yt),((F=e[Xt+1])==null?void 0:F.text.trim())===c&&e.splice(Xt+1,1),((ve=e[Xt-1])==null?void 0:ve.text.trim())===c&&e.splice(Xt-1,1);let je=e.reduce((i0,u0)=>i0+u0.cost,0);je>=u&&e.every(i0=>i0.value===l)&&(n=!1),u=je}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(we=>we.text).join(`
`)}o(Fo,"Fo");i(Fo,"makePrompt");function J(){}o(J,"J");i(J,"Diff");J.prototype={diff:i(function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.callback;typeof n=="function"&&(s=n,n={}),this.options=n;var a=this;function l(B){return s?(setTimeout(function(){s(void 0,B)},0),!0):B}o(l,"l"),i(l,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var f=t.length,c=e.length,u=1,d=f+c;n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var h=(r=n.timeout)!==null&&r!==void 0?r:1/0,p=Date.now()+h,m=[{oldPos:-1,lastComponent:void 0}],v=this.extractCommon(m[0],t,e,0);if(m[0].oldPos+1>=c&&v+1>=f)return l([{value:this.join(t),count:t.length}]);var x=-1/0,S=1/0;function E(){for(var B=Math.max(x,-u);B<=Math.min(S,u);B+=2){var O=void 0,L=m[B-1],F=m[B+1];L&&(m[B-1]=void 0);var ve=!1;if(F){var we=F.oldPos-B;ve=F&&0<=we&&we<f}var Xt=L&&L.oldPos+1<c;if(!ve&&!Xt){m[B]=void 0;continue}if(!Xt||ve&&L.oldPos+1<F.oldPos?O=a.addToPath(F,!0,void 0,0):O=a.addToPath(L,void 0,!0,1),v=a.extractCommon(O,t,e,B),O.oldPos+1>=c&&v+1>=f)return l(Ro(a,O.lastComponent,t,e,a.useLongestToken));m[B]=O,O.oldPos+1>=c&&(S=Math.min(S,B-1)),v+1>=f&&(x=Math.max(x,B+1))}u++}if(o(E,"h"),i(E,"execEditLength"),s)i(o(function B(){setTimeout(function(){if(u>d||Date.now()>p)return s();E()||B()},0)},"E"),"exec")();else for(;u<=d&&Date.now()<=p;){var R=E();if(R)return R}},"diff"),addToPath:i(function(e,t,r,n){var s=e.lastComponent;return s&&s.added===t&&s.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,t,r,n){for(var s=t.length,a=r.length,l=e.oldPos,f=l-n,c=0;f+1<s&&l+1<a&&this.equals(t[f+1],r[l+1]);)f++,l++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=l,f},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Ro(e,t,r,n,s){for(var a=[],l;t;)a.push(t),l=t.previousComponent,delete t.previousComponent,t=l;a.reverse();for(var f=0,c=a.length,u=0,d=0;f<c;f++){var h=a[f];if(h.removed){if(h.value=e.join(n.slice(d,d+h.count)),d+=h.count,f&&a[f-1].added){var p=a[f-1];a[f-1]=a[f],a[f]=p}}else{if(!h.added&&s){var m=r.slice(u,u+h.count);m=m.map(function(x,S){var E=n[d+S];return E.length>x.length?E:x}),h.value=e.join(m)}else h.value=e.join(r.slice(u,u+h.count));u+=h.count,h.added||(d+=h.count)}}var v=a[c-1];return c>1&&typeof v.value=="string"&&(v.added||v.removed)&&e.equals("",v.value)&&(a[c-2].value+=v.value,a.pop()),a}o(Ro,"Ro");i(Ro,"buildValues");var $a=new J,Vn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,jn=/\S/,Hn=new J;Hn.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!jn.test(e)&&!jn.test(t)};Hn.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Vn.test(t[r])&&Vn.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var qt=new J;qt.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function Oo(e,t,r){return qt.diff(e,t,r)}o(Oo,"Oo");i(Oo,"diffLines");var Do=new J;Do.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Bo=new J;Bo.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function tt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tt=i(function(t){return typeof t},"_typeof"):tt=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),tt(e)}o(tt,"tt");i(tt,"_typeof");function zt(e){return Wo(e)||Uo(e)||zo(e)||Vo()}o(zt,"zt");i(zt,"_toConsumableArray");function Wo(e){if(Array.isArray(e))return Vt(e)}o(Wo,"Wo");i(Wo,"_arrayWithoutHoles");function Uo(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}o(Uo,"Uo");i(Uo,"_iterableToArray");function zo(e,t){if(e){if(typeof e=="string")return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vt(e,t)}}o(zo,"zo");i(zo,"_unsupportedIterableToArray");function Vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o(Vt,"Vt");i(Vt,"_arrayLikeToArray");function Vo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(Vo,"Vo");i(Vo,"_nonIterableSpread");var jo=Object.prototype.toString,Re=new J;Re.useLongestToken=!0;Re.tokenize=qt.tokenize;Re.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(a,l){return typeof l>"u"?r:l}:n;return typeof e=="string"?e:JSON.stringify(jt(e,null,null,s),s,"  ")};Re.equals=function(e,t){return J.prototype.equals.call(Re,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function jt(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return r[a];var l;if(jo.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),r.push(l),a=0;a<e.length;a+=1)l[a]=jt(e[a],t,r,n,s);return t.pop(),r.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),tt(e)==="object"&&e!==null){t.push(e),l={},r.push(l);var f=[],c;for(c in e)e.hasOwnProperty(c)&&f.push(c);for(f.sort(),a=0;a<f.length;a+=1)c=f[a],l[c]=jt(e[c],t,r,n,c);t.pop(),r.pop()}else l=e;return l}o(jt,"jt");i(jt,"canonicalize");var Ht=new J;Ht.tokenize=function(e){return e.slice()};Ht.join=Ht.removeEmpty=function(e){return e};function qn(e,t,r,n,s,a,l){l||(l={}),typeof l.context>"u"&&(l.context=4);var f=Oo(r,n,l);if(!f)return;f.push({value:"",lines:[]});function c(E){return E.map(function(R){return" "+R})}o(c,"u"),i(c,"contextLines");for(var u=[],d=0,h=0,p=[],m=1,v=1,x=i(function(E){var R=f[E],B=R.lines||R.value.replace(/\n$/,"").split(`
`);if(R.lines=B,R.added||R.removed){var O;if(!d){var L=f[E-1];d=m,h=v,L&&(p=l.context>0?c(L.lines.slice(-l.context)):[],d-=p.length,h-=p.length)}(O=p).push.apply(O,zt(B.map(function(yt){return(R.added?"+":"-")+yt}))),R.added?v+=B.length:m+=B.length}else{if(d)if(B.length<=l.context*2&&E<f.length-2){var F;(F=p).push.apply(F,zt(c(B)))}else{var ve,we=Math.min(B.length,l.context);(ve=p).push.apply(ve,zt(c(B.slice(0,we))));var Xt={oldStart:d,oldLines:m-d+we,newStart:h,newLines:v-h+we,lines:p};if(E>=f.length-2&&B.length<=l.context){var f0=/\n$/.test(r),Jt=/\n$/.test(n),c0=B.length==0&&p.length>Xt.oldLines;!f0&&c0&&r.length>0&&p.splice(Xt.oldLines,0,"\\ No newline at end of file"),(!f0&&!c0||!Jt)&&p.push("\\ No newline at end of file")}u.push(Xt),d=0,h=0,p=[]}m+=B.length,v+=B.length}},"_loop"),S=0;S<f.length;S++)x(S);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:a,hunks:u}}o(qn,"qn");i(qn,"structuredPatch");function qo(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let n=qn("","",e,t),s=new Set,a=new Set;for(let c of n.hunks){for(let u=c.oldStart;u<c.oldStart+c.oldLines;u++)s.add(u);for(let u=c.newStart;u<c.newStart+c.newLines;u++)a.add(u)}let l=j(H(te(e,r)),()=>!1),f=j(H(te(t,r)),()=>!1);return T(l,c=>{(c.type==="line"||c.type==="blank")&&s.has(c.lineNumber)&&(c.label=!0)},"topDown"),T(f,c=>{(c.type==="line"||c.type==="blank")&&a.has(c.lineNumber)&&(c.label=!0)},"topDown"),[ge(l),ge(f)]}o(qo,"qo");i(qo,"elidableTextForDiff");var nt={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Zo=["php","plaintext"],Zn={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function $o({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o($o,"$o");i($o,"hasLanguageMarker");function Oe(e,t,r){var s;let n=(s=nt[t])!=null?s:r;if(n){let a=n.end==""?"":" "+n.end;return`${n.start} ${e}${a}`}return""}o(Oe,"Oe");i(Oe,"comment");function be(e,t,r){if(!nt[t]&&!r||e==="")return"";let n=e.endsWith(`
`),s=(n?e.slice(0,-1):e).split(`
`).map(a=>Oe(a,t,r)).join(`
`);return n?s+`
`:s}o(be,"be");i(be,"commentBlockAsSingles");function $n(e,t){let{languageId:r}=e;return Zo.indexOf(r)===-1&&!$o(e)?r in Zn?Zn[r]:Oe(`Language: ${r}`,r,t):""}o($n,"$n");i($n,"getLanguageMarker");function Gn(e,t){return e.relativePath?Oe(`Path: ${e.relativePath}`,e.languageId,t):""}o(Gn,"Gn");i(Gn,"getPathMarker");function ye(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(ye,"ye");i(ye,"newLineEnded");var Go={tokenizerName:"cl100k"};function Ko(e){return{...Go,...e}}o(Ko,"Ko");i(Ko,"cursorContextOptions");function rt(e,t={}){let r=Ko(t),n=U(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let s=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(s=s.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(s=n.takeLastLinesTokens(s,r.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:n.tokenLength(s),tokenizerName:r.tokenizerName}}o(rt,"rt");i(rt,"getCursorContext");function Kn(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)r[s][n]=Math.min((s==0?n:r[s-1][n])+1,(n==0?s:r[s][n-1])+1,(s==0||n==0?Math.max(s,n):r[s-1][n-1])+(e[s]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(Kn,"Kn");i(Kn,"findEditDistanceScore");var De=50,Jo=5,I8,ot=(I8=class{constructor(){this.used=new Map,this.unused=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="RetrievalSnippet"||t.kind=="TooltipSignature"}},o(I8,"ot"),i(I8,"PromptBackground"),I8),A8,st=(A8=class{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},o(A8,"st"),i(A8,"PromptChoices"),A8),P8,Be=(P8=class{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","RetrievalSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),a=this._rankedList.indexOf(n.kind);if(s===-1||a===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`;return s===a?r.id-n.id:s-a})}},o(P8,"Be"),i(P8,"PromptOrderList"),P8),R8,it=(R8=class extends Be{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","LanguageMarker"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","PathMarker","LanguageMarker"]}}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),a=this._rankedList.indexOf(n.kind);if(s===-1||a===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`;return s===a?n.id-r.id:s-a})}},o(R8,"it"),i(R8,"PromptPriorityList"),R8);function ut(e){switch(e){case"neighboring-tabs":return"SimilarFile";case"retrieval":return"RetrievalSnippet";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(ut,"ut");i(ut,"kindForSnippetProviderType");var N8,at=(N8=class{constructor(t){this.ranges=new Array;let r=0,n;for(let s of t)s.text.length!==0&&(n==="BeforeCursor"&&s.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=s.text.length:this.ranges.push({kind:s.kind,start:r,end:r+s.text.length}),n=s.kind,r+=s.text.length)}},o(N8,"at"),i(N8,"PromptElementRanges"),N8),k8,lt=(k8=class{constructor(t,r,n,s,a){this.tokenizer=t,this.lineEndingOption=r,this.orderingList=n,this.snippetTextProcessor=s,this.priorityList=a,this.content=[],this.basePromptBackground=new ot,this.baseTallyOfChoices=new st}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),s=NaN){t=this.convertLineEndings(t);let a=this.content.length;return this.content.push({id:a,text:t,kind:r,tokens:n,score:s}),a}fulfillPrefix(t){let r=new ot;r.add(this.basePromptBackground);let n=new st;n.add(this.baseTallyOfChoices);function s(v){r.markUsed(v),n.markUsed(v)}o(s,"o"),i(s,"markUsed");function a(v){r.undoMarkUsed(v),n.undoMarkUsed(v)}o(a,"s"),i(a,"undoMarkUsed");function l(v){r.markUnused(v),n.markUnused(v)}o(l,"a"),i(l,"markUnused"),this.priorityList.sortElements(this.content);let f,c=[],u=t;this.content.forEach(v=>{if(u>0||f===void 0){let x=v.tokens;if(u>=x)u-=x,s(v),c.push(v);else if(v.kind==="BeforeCursor"){let{summarizedElement:S,removedMaterial:E}=this.snippetTextProcessor.summarize(this.tokenizer,v,u);v=S,x=v.tokens,u-=x,v.text.length>0&&s(v),E.text.length>0&&l(E),c.push(v)}else f===void 0?f=v:l(v)}else l(v)}),this.orderingList.sortElements(c);let d=c.reduce((v,x)=>v+x.text,""),h=this.tokenizer.tokenLength(d);for(;h>t;){this.priorityList.sortElements(c);let v=c.pop();v&&(a(v),l(v),f!==void 0&&l(f),f=void 0),this.orderingList.sortElements(c),d=c.reduce((x,S)=>x+S.text,""),h=this.tokenizer.tokenLength(d)}let p=[...c];if(f!==void 0){p.push(f),this.orderingList.sortElements(p);let v=p.reduce((S,E)=>S+E.text,""),x=this.tokenizer.tokenLength(v);if(x<=t){s(f);let S=new at(p);return{prefix:v,suffix:"",prefixLength:x,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:S}}else l(f)}let m=new at(c);return{prefix:d,suffix:"",prefixLength:h,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:m}}fulfill(t,r,n){var p;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let s=r.maxPromptLength-Jo,a=Math.floor(s*(100-r.suffixPercent)/100),l=s-a,f=t.trimStart();if(s>De&&l<De)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${l} < ${De}
`);let c=this.tokenizer.takeFirstTokens(f,De),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*((p=Kn(c.tokens,n.tokens.slice(0,De)))==null?void 0:p.score)<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let d;if(u)a=s-n.tokens.length,d=n;else{let m=this.maxPrefixTokenLength(),v=this.tokenizer.tokenLength(f);m<a?(a=m,l=s-a):v<l&&(a=s-v,l=v),d=this.tokenizer.takeFirstTokens(f,l)}let h=this.fulfillPrefix(a);return h.suffix=d.text,h.suffixLength=d.tokens.length,{promptInfo:h,newCachedSuffix:d}}},o(k8,"lt"),i(k8,"PromptWishlist"),k8),q=(e=>(e.NeighboringTabs="neighboring-tabs",e.Retrieval="retrieval",e.Language="language",e.Path="path",e.TooltipSignature="tooltip-signature",e))(q||{}),ie=(e=>(e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface",e))(ie||{}),Qo={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function Xo(e,t,r){let n=Qo[e.semantics],s=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),be(s,t,r)}o(Xo,"Xo");i(Xo,"announceSnippet");function Jn(e){e.sort((t,r)=>r.score-t.score)}o(Jn,"Jn");i(Jn,"sortSnippetsDescending");function Yo(e,t,r){if(t==0)return[];let n=e.map(a=>({...a,kind:ut(a.provider)})),s=[];return r.rankedList.forEach(a=>{let l=n.filter(({kind:f})=>f===a);Jn(l),s.push(...l)}),s.slice(0,t)}o(Yo,"Yo");i(Yo,"selectSnippets");function Qn(e,t,r,n,s,a){let l=Yo(e,a,n).map(f=>{let c=Xo(f,t,s),u=r.tokenLength(c);return{announcedSnippet:c,provider:f.provider,score:f.score,tokens:u,relativePath:f.relativePath}});return Jn(l),l.reverse(),l}o(Qn,"Qn");i(Qn,"processSnippetsForWishlist");var D8,$t=(D8=class{constructor(t){this.keys=[],this.cache={},this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let s=(n=this.keys.shift())!=null?n:"";delete this.cache[s]}}get(t){return this.cache[t]}},o(D8,"$t"),i(D8,"FifoCache"),D8),L8,Gt=(L8=class{constructor(t){var r;this.stopsForLanguage=(r=rs.get(t.languageId))!=null?r:ns}tokenize(t){return new Set(es(t).filter(r=>!this.stopsForLanguage.has(r)))}},o(L8,"Gt"),i(L8,"Tokenizer"),L8),Xn=new $t(20),B8,ct=(B8=class{constructor(t){this.referenceDoc=t,this.tokenizer=new Gt(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,s)=>n.score>s.score?1:-1):r=="descending"?t.sort((n,s)=>n.score>s.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var u;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let s=t.source.split(`
`),a=this.id()+":"+t.source,l=(u=Xn.get(a))!=null?u:[],f=l.length==0,c=f?s.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[h,p]]of this.getWindowsDelineations(s).entries()){if(f){let x=new Set;c.slice(h,p).forEach(S=>S.forEach(x.add,x)),l.push(x)}let m=l[d],v=this.similarityScore(m,this.referenceTokens);n.push({score:v,startLine:h,endLine:p})}return f&&Xn.put(a,l),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"neighboring-tabs",...n[0]}}},o(B8,"ct"),i(B8,"WindowedMatcher"),B8);function es(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(es,"es");i(es,"splitIntoWords");var ts=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ns=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ts]),rs=new Map([]);function Yn(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let s=0;s<n-e+1;s++)r.push([s,s+e]);return r}o(Yn,"Yn");i(Yn,"getBasicWindowDelineations");var Q5,dt=(Q5=class extends ct{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Yn(this.windowLength,t)}_getCursorContextInfo(t){return rt(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return os(t,r)}},o(Q5,"t"),i(Q5,"FixedWindowSizeJaccardMatcher"),Q5.FACTORY=t=>({to:r=>new Q5(r,t)}),Q5);function os(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(os,"os");i(os,"computeScore");var We=(e=>(e.None="none",e.Conservative="conservative",e.Medium="medium",e.Eager="eager",e.EagerButLittle="eagerButLittle",e.EagerButMedium="eagerButMedium",e.EagerButMuch="eagerButMuch",e.RetrievalComparable="retrievalComparable",e))(We||{}),ss={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},is=1e4,as=20;function ls(e,t){return dt.FACTORY(t.snippetLength).to(e)}o(ls,"ls");i(ls,"getMatcher");async function er(e,t,r){let n={...ss[r]},s=ls(e,n);return n.numberOfSnippets===0?[]:(await t.filter(a=>a.source.length<is&&a.source.length>0).slice(0,as).reduce(async(a,l)=>(await a).concat((await s.findMatches(l)).map(f=>({relativePath:l.relativePath,...f}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>n.threshold).sort((a,l)=>a.score-l.score).slice(-n.numberOfSnippets)}o(er,"er");i(er,"getNeighborSnippets");function tr(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let v=0;v<n.length-1;v++)n[v]+=`
`;let s=[];n.forEach((v,x)=>{v===`
`&&s.length>0&&!s[s.length-1].endsWith(`

`)?s[s.length-1]+=`
`:s.push(v)});let a=s.map(v=>e.tokenLength(v)),l=1,f=0;for(;l<=a.length;l++){let v=a.at(-l);if(v){if(v+f>r){l--;break}f+=v}}let c=s.slice(-l).join(""),u=e.tokenLength(c),d=s.slice(0,-l).join(""),h=e.tokenLength(d),p={id:t.id,kind:t.kind,text:c,tokens:u,score:t.score},m={id:t.id,kind:t.kind,text:d,tokens:h,score:t.score};return{summarizedElement:p,removedMaterial:m}}o(tr,"tr");i(tr,"truncateFirstLinesFirst");var O8,_t=(O8=class{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",tr]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}},o(O8,"_t"),i(O8,"SnippetTextProcessor"),O8),cs=/(\.|\->|::)\w+$/;function nr(e,t){let r=`Use ${e}`;return be(r,t)}o(nr,"nr");i(nr,"announceTooltipSignatureSnippet");function rr(e){let t=e.source.substring(0,e.offset);return cs.test(t)}o(rr,"rr");i(rr,"endsWithAttributesOrMethod");function or(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),s=e.substring(r);return t.snippet=t.snippet+s,[n,t]}o(or,"or");i(or,"transferLastLineToTooltipSignature");var sr={text:"",tokens:[]},ir=1500,ar=4,lr=150,Zt=(e=>(e.ConvertToUnix="unix",e.KeepOriginal="keep",e))(Zt||{}),ur=(e=>(e.None="none",e.FifteenPercent="fifteenPercent",e))(ur||{}),cr=(e=>(e.Equal="equal",e.Levenshtein="levenshteineditdistance",e))(cr||{}),F8,mt=(F8=class{constructor(t){if(this.maxPromptLength=ir,this.numberOfSnippets=ar,this.neighboringTabs="eager",this.lineEnding="unix",this.suffixPercent=0,this.tokenizerName="cl100k",this.suffixMatchThreshold=0,this.promptOrderListPreset="default",this.promptPriorityPreset="default",this.snippetTextProcessingPreset="default",this.defaultCommentMarker=void 0,Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}},o(F8,"mt"),i(F8,"PromptOptions"),F8),ds={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function ne(e){var t;return e=e.toLowerCase(),(t=ds[e])!=null?t:e}o(ne,"ne");i(ne,"normalizeLanguageId");async function _s(e,t={},r=[]){let n=new mt(t),s=U(n.tokenizerName),a=new _t(n.snippetTextProcessingPreset),l=new Be(n.promptOrderListPreset),f=new it(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=ne(e.languageId);let d=new lt(s,n.lineEnding,l,a,f),h=r.find(B=>B.provider==="path"),p=r.find(B=>B.provider==="language"),m=r.find(B=>B.provider==="tooltip-signature");h!==void 0&&h.snippet.length>0?(d.append(h.snippet,"PathMarker"),p&&d.extMarkUnused({text:p.snippet,kind:"LanguageMarker",tokens:s.tokenLength(p.snippet),id:NaN,score:NaN})):p&&d.append(p.snippet,"LanguageMarker"),r=r.filter(B=>B.provider!=="language"&&B.provider!=="path"&&B.provider!=="tooltip-signature");function v(){Qn(r,e.languageId,s,f,t.defaultCommentMarker,n.numberOfSnippets).forEach(B=>{let O=ut(B.provider);d.append(B.announcedSnippet,O,B.tokens,B.score)})}o(v,"g"),i(v,"addSnippetsNow"),v();let x=c.substring(0,u);m!==void 0&&s.tokenLength(m.snippet)<=lr?([x,m]=or(x,m),d.append(m.snippet,"TooltipSignature")):m!==void 0&&d.extMarkUnused({text:m.snippet,kind:"TooltipSignature",tokens:s.tokenLength(m.snippet),id:NaN,score:NaN}),d.append(x,"BeforeCursor");let S=c.slice(u),{promptInfo:E,newCachedSuffix:R}=d.fulfill(S,n,sr);return sr=R,E}o(_s,"_s");i(_s,"getPrompt");var M8,re=(M8=class extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}},o(M8,"re"),i(M8,"ProviderTimeoutError"),M8),U8,Z=(U8=class{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,s)=>{r.aborted&&s({error:new re("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{s({error:new re(`max runtime exceeded: ${Kt} ms`),providerType:this.type})},{once:!0});let a=performance.now();this.buildSnippets(t).then(l=>{let f=performance.now();n({snippets:l,providerType:this.type,runtime:f-a})}).catch(l=>{s({error:l,providerType:this.type})})})}},o(U8,"Z"),i(U8,"SnippetProvider"),U8),q8,pt=(q8=class extends Z{constructor(){super(...arguments),this.type="language"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye($n(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(q8,"pt"),i(q8,"LanguageSnippetProvider"),q8),j8,ft=(j8=class extends Z{constructor(){super(...arguments),this.type="neighboring-tabs"}async buildSnippets(t){let{currentFile:r,neighborFiles:n,options:s}=t;return s&&n&&n.length&&s.neighboringTabs!=="none"?await this.api.getNeighborSnippets(r,n,s.neighboringTabs):[]}},o(j8,"ft"),i(j8,"NeighborFilesProvider"),j8),$8,gt=($8=class extends Z{constructor(){super(...arguments),this.type="path"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Gn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o($8,"gt"),i($8,"PathSnippetProvider"),$8),H8,ht=(H8=class extends Z{constructor(){super(...arguments),this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:n}=t,s=[];return r.languageId=ne(r.languageId),n&&rr(r)&&s.push({provider:this.type,semantics:"snippet",snippet:ye(nr(n,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}},o(H8,"ht"),i(H8,"TooltipSignatureSnippetProvider"),H8),$r=require("path"),G=require("worker_threads");function Xs(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(Xs,"Xs");i(Xs,"sleep");var Zr=["getNeighborSnippets","sleep"],V8,yn=(V8=class{constructor(){var t;this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.getNeighborSnippets=er,this.sleep=Xs,!G.isMainThread&&((t=G.workerData)!=null&&t.port)&&(qr(),process.cwd=()=>G.workerData.cwd,this.configureWorkerResponse(G.workerData.port))}initWorker(){let{port1:t,port2:r}=new G.MessageChannel;this.port=t,this.worker=new G.Worker((0,$r.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Zr)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Zr){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:s})=>{let a=this[n];if(!a)throw new Error(`Function not found: ${n}`);try{let l=await a.apply(this,s);this.port.postMessage({id:r,res:l})}catch(l){if(!(l instanceof Error))throw l;typeof l.code=="string"?this.port.postMessage({id:r,err:l,code:l.code}):this.port.postMessage({id:r,err:l})}})}handleMessage({id:t,err:r,code:n,res:s}){let a=this.handlers.get(t);a&&(this.handlers.delete(t),r?(r.code=n,a.reject(r)):a.resolve(s))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let s=new Error().stack;r.stack&&(s!=null&&s.match(/^Error\n/))&&(r.stack+=s.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let s of this.handlers.values())s.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((s,a)=>{var l;this.handlers.set(n,{resolve:s,reject:a}),(l=this.port)==null||l.postMessage({id:n,fn:t,args:r})})}}},o(V8,"yn"),i(V8,"WorkerProxy"),V8),Mt=new yn,Kt=300,Ys=[pt,gt,ft,ht];function Gr(e){return e.status==="fulfilled"}o(Gr,"Gr");i(Gr,"isFulfilledResult");function ei(e){return e.status==="rejected"}o(ei,"ei");i(ei,"isRejectedResult");function Kr(e){return e.filter(Gr).flatMap(t=>t.value.snippets)}o(Kr,"Kr");i(Kr,"providersSnippets");function Jr(e){return e.filter(ei).flatMap(t=>t.reason)}o(Jr,"Jr");i(Jr,"providersErrors");function Qr(e){let t={},r={};return e.forEach(n=>{Gr(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):n.reason.error instanceof re&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(Qr,"Qr");i(Qr,"providersPerformance");var z8,Tt=(z8=class{constructor(t=Ys){this.startThreading=()=>Mt.startThreading(),this.stopThreading=()=>Mt.stopThreading(),this.providers=t.map(r=>new r(Mt))}async getSnippets(t){let r=AbortSignal.timeout(Kt),n=this.providers.map(s=>s.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):ti(n)}},o(z8,"Tt"),i(z8,"SnippetOrchestrator"),z8);function ti(e){return Promise.all(e.map(t=>t.then(ni,ri)))}o(ti,"ti");i(ti,"allSettledBackup");function ni(e){return{status:"fulfilled",value:e}}o(ni,"ni");i(ni,"createPromiseFulfilledResult");function ri(e){return{status:"rejected",reason:e}}o(ri,"ri");i(ri,"createPromiseRejectedResult");var to=require("fs"),no=require("path"),It=Ct(Xr()),ro=(e=>(e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby",e))(ro||{}),Mn={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};function qe(e){return e in Mn}o(qe,"qe");i(qe,"isSupportedLanguageId");function D(e){if(!(e in Mn))throw new Error(`Unrecognized language: ${e}`);return Mn[e]}o(D,"D");i(D,"languageIdToWasmLanguage");var wn=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,oi={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[wn]],typescript:[[wn]],tsx:[[wn]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},si='(call_expression function: ((identifier) @req (#eq? @req "require")))',Yr=`(variable_declarator value: ${si})`,oo=`
    (lexical_declaration ${Yr}+)
    (variable_declaration ${Yr}+)
`,eo=[[`(program [ ${oo} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],ii={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${oo} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:eo,tsx:eo,go:[],ruby:[]},vn=[["(program (export_statement) @export)"]],ai={python:[],javascript:vn,typescript:vn,tsx:vn,go:[],ruby:[]},li={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},En=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],ui={python:new Set(["function_definition"]),javascript:new Set(En),typescript:new Set(En),tsx:new Set(En),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},ci={python:e=>{var t;return e.type==="module"||e.type==="block"&&((t=e.parent)==null?void 0:t.type)==="class_definition"},javascript:e=>e.type==="program"||e.type==="class_body",typescript:e=>e.type==="program"||e.type==="class_body",tsx:e=>e.type==="program"||e.type==="class_body",go:e=>e.type==="source_file",ruby:e=>e.type==="program"||e.type==="class"},Sn=new Map;async function di(e){await It.default.init();let t;try{t=await to.promises.readFile((0,no.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`))}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let n=new Error(`Could not load tree-sitter-${e}.wasm`);throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}return It.default.Language.load(t)}o(di,"di");i(di,"loadWasmLanguage");async function so(e){let t=D(e);if(!Sn.has(t)){let r=await di(t);Sn.set(t,r)}return Sn.get(t)}o(so,"so");i(so,"getLanguage");async function Te(e,t){let r=await so(e),n;try{n=new It.default}catch(a){let l=a.message;if(l&&l.includes("table index is out of bounds")){let f=new Error(`Could not init Parse for language <${e}>`);throw f.cause=a,f}throw a}n.setLanguage(r);let s=n.parse(t);return n.delete(),s}o(Te,"Te");i(Te,"parseTreeSitter");async function _i(e,t){let r=await Te(e,t),n=!r.rootNode.hasError();return r.delete(),n}o(_i,"_i");i(_i,"parsesWithoutError");function mi(e){switch(D(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}o(mi,"mi");i(mi,"getBlockCloseToken");function Ze(e,t){let r=[];for(let n of e){if(!n[1]){let s=t.tree.getLanguage();n[1]=s.query(n[0])}r.push(...n[1].matches(t))}return r}o(Ze,"Ze");i(Ze,"innerQuery");function io(e,t){let r=oi[D(e)];return Ze(r,t)}o(io,"io");i(io,"queryFunctions");function pi(e,t){let r=ii[D(e)];return Ze(r,t)}o(pi,"pi");i(pi,"queryImports");function fi(e,t){let r=ai[D(e)];return Ze(r,t)}o(fi,"fi");i(fi,"queryExports");function gi(e,t){let r=li[D(e)];return Ze(r,t)}o(gi,"gi");i(gi,"queryGlobalVars");var hi=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Tn(e){return Ze([hi],e).length==1}o(Tn,"Tn");i(Tn,"queryPythonIsDocstring");function bi(e,t){let r=ci[D(e)];for(;t.parent;){if(r(t.parent))return t;t=t.parent}return t.parent?t:null}o(bi,"bi");i(bi,"getAncestorWithSiblingFunctions");function xt(e,t){return ui[D(e)].has(t.type)}o(xt,"xt");i(xt,"isFunction");function yi(e,t){switch(D(e)){case"python":case"go":case"ruby":return xt(e,t);case"javascript":case"typescript":case"tsx":if(t.type==="function_declaration"||t.type==="generator_function_declaration"||t.type==="method_definition")return!0;if(t.type==="lexical_declaration"||t.type==="variable_declaration"){if(t.namedChildCount>1)return!1;let r=t.namedChild(0);if(r==null)return!1;let n=r.namedChild(1);return n!==null&&xt(e,n)}if(t.type==="expression_statement"){let r=t.namedChild(0);if((r==null?void 0:r.type)==="assignment_expression"){let n=r.namedChild(1);return n!==null&&xt(e,n)}}return!1}}o(yi,"yi");i(yi,"isFunctionDefinition");function wi(e){var r;let t=e;for(;((r=t.previousSibling)==null?void 0:r.type)==="comment";){let n=t.previousSibling;if(n.endPosition.row<t.startPosition.row-1)break;t=n}return(t==null?void 0:t.type)==="comment"?t:null}o(wi,"wi");i(wi,"getFirstPrecedingComment");async function vi(e,t){let r=await Te(e,t),n=io(e,r.rootNode).map(s=>{let a=s.captures.find(l=>l.name==="function").node;return{startIndex:a.startIndex,endIndex:a.endIndex}});return r.delete(),n}o(vi,"vi");i(vi,"getFunctionPositions");var G8,Lt=(G8=class{constructor(t,r,n){this.languageId=t,this.nodeMatch=r,this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){var a;let s=await Te(this.languageId,t);try{let l=s.rootNode.descendantForIndex(r);for(;l;){let f=this.nodeMatch[l.type];if(f){if(!this.nodeTypesWithBlockOrStmtChild.has(l.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(l.type);if(((a=c==""?l.namedChildren[0]:l.childForFieldName(c))==null?void 0:a.type)==f)break}l=l.parent}return l?n(l):void 0}finally{s.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,s=>{let a=s.children.reverse().find(l=>l.type==this.nodeMatch[s.type]);if(a){if(this.languageId=="python"&&a.parent){let l=a.parent.type==":"?a.parent.parent:a.parent,f=l==null?void 0:l.nextSibling;for(;f&&f.type=="comment";){let c=f.startPosition.row==a.endPosition.row&&f.startPosition.column>=a.endPosition.column,u=f.startPosition.row>l.endPosition.row&&f.startPosition.column>l.startPosition.column;if(c||u)a=f,f=f.nextSibling;else break}}if(!(a.endIndex>=a.tree.rootNode.endIndex-1&&(a.hasError()||a.parent.hasError())))return n(a)}})}async isBlockBodyFinished(t,r,n){let s=(t+r).trimEnd(),a=await this.getNextBlockAtPosition(s,n,l=>l.endIndex);if(a!==void 0&&a<s.length){let l=a-t.length;return l>0?l:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,s=>s.startIndex)}},o(G8,"Lt"),i(G8,"BaseBlockParser"),G8),K8,Nt=(K8=class extends Lt{constructor(t,r,n,s,a){super(t,s,a),this.blockEmptyMatch=r,this.lineMatch=n}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let n=await this.getNextBlockAtPosition(t,r,s=>{s.startIndex<r&&(r=s.startIndex);let a=t.substring(r,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return n===void 0||n}async isEmptyBlockStart(t,r){return r=lo(t,r),this.isBlockStart(Ei(t,r))&&this.isBlockBodyEmpty(t,r)}},o(K8,"Nt"),i(K8,"RegexBasedBlockParser"),K8);function Ei(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Ei,"Ei");i(Ei,"getLineAtOffset");function lo(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(lo,"lo");i(lo,"rewindToNearestNonWs");function ao(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,s=t.substring(n,r);if(/^\s*$/.test(s))return s}o(ao,"ao");i(ao,"indent");function Si(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=ao(e,r),s=ao(t,r);return n!==void 0&&s!==void 0&&n.startsWith(s)}o(Si,"Si");i(Si,"outdented");var W8,xe=(W8=class extends Lt{constructor(t,r,n,s,a,l,f){super(t,r,n),this.startKeywords=s,this.blockNodeType=a,this.emptyStatementType=l,this.curlyBraceLanguage=f}isBlockEmpty(t,r){var s,a;let n=t.text.trim();return this.curlyBraceLanguage&&(n.startsWith("{")&&(n=n.slice(1)),n.endsWith("}")&&(n=n.slice(0,-1)),n=n.trim()),!!(n.length==0||this.languageId=="python"&&(((s=t.parent)==null?void 0:s.type)=="class_definition"||((a=t.parent)==null?void 0:a.type)=="function_definition")&&t.children.length==1&&Tn(t.parent))}async isEmptyBlockStart(t,r){var s,a,l,f;if(r>t.length)throw new RangeError("Invalid offset");for(let c=r;c<t.length&&t.charAt(c)!=`
`;c++)if(/\S/.test(t.charAt(c)))return!1;r=lo(t,r);let n=await Te(this.languageId,t);try{let c=n.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let m=c;for(;m.parent;){if(m.type=="function_signature"||m.type=="method_signature"){let v=c.nextSibling;return v&&m.hasError()&&Si(m,v,t)?!0:!m.children.find(x=>x.type==";")&&m.endIndex<=r}m=m.parent}}let u=null,d=null,h=null,p=c;for(;p!=null;){if(p.type==this.blockNodeType){d=p;break}if(this.nodeMatch[p.type]){h=p;break}if(p.type=="ERROR"){u=p;break}p=p.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let m=d.previousSibling;if(m!=null&&m.hasError()&&(m.text.startsWith('"""')||m.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,r)}if(u!=null){if(((s=u.previousSibling)==null?void 0:s.type)=="module"||((a=u.previousSibling)==null?void 0:a.type)=="internal_module"||((l=u.previousSibling)==null?void 0:l.type)=="def")return!0;let m=[...u.children].reverse(),v=m.find(S=>this.startKeywords.includes(S.type)),x=m.find(S=>S.type==this.blockNodeType);if(v){switch(this.languageId){case"python":{v.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(f=m.find(R=>R.hasError()))==null?void 0:f.children.find(R=>R.type=="block"));let S,E=0;for(let R of u.children){if(R.type==":"&&E==0){S=R;break}R.type=="("&&(E+=1),R.type==")"&&(E-=1)}if(S&&v.endIndex<=S.startIndex&&S.nextSibling){if(v.type=="def"){let R=S.nextSibling;if(R.type=='"'||R.type=="'"||R.type=="ERROR"&&(R.text=='"""'||R.text=="'''"))return!0}return!1}break}case"javascript":{let S=m.find(R=>R.type=="formal_parameters");if(v.type=="class"&&S)return!0;let E=m.find(R=>R.type=="{");if(E&&E.startIndex>v.endIndex&&E.nextSibling!=null||m.find(R=>R.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}case"typescript":{let S=m.find(E=>E.type=="{");if(S&&S.startIndex>v.endIndex&&S.nextSibling!=null||m.find(E=>E.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>v.endIndex?this.isBlockEmpty(x,r):!0}}if(h!=null){let m=this.nodeMatch[h.type],v=h.children.slice().reverse().find(x=>x.type==m);if(v)return this.isBlockEmpty(v,r);if(this.nodeTypesWithBlockOrStmtChild.has(h.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(h.type),S=x==""?h.children[0]:h.childForFieldName(x);if(S&&S.type!=this.blockNodeType&&S.type!=this.emptyStatementType)return!1}return!0}return!1}finally{n.delete()}}},o(W8,"xe"),i(W8,"TreeSitterBasedBlockParser"),W8),Mi={python:new xe("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new xe("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new xe("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new xe("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Nt("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Nt("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};function Pt(e){return Mi[D(e)]}o(Pt,"Pt");i(Pt,"getBlockParser");async function Ti(e,t,r){return qe(e)?Pt(e).isEmptyBlockStart(t,r):!1}o(Ti,"Ti");i(Ti,"isEmptyBlockStart");async function xi(e,t,r,n){if(qe(e))return Pt(e).isBlockBodyFinished(t,r,n)}o(xi,"xi");i(xi,"isBlockBodyFinished");async function Ii(e,t,r){if(qe(e))return Pt(e).getNodeStart(t,r)}o(Ii,"Ii");i(Ii,"getNodeStart");function Li(){return new co.Worker((0,uo.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}o(Li,"Li");i(Li,"createWorker")});var tU=t0((j1e,eU)=>{var Y8=1e3,J8=Y8*60,X8=J8*60,l4=X8*24,HX=l4*7,VX=l4*365.25;eU.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return zX(e);if(r==="number"&&isFinite(e))return t.long?KX(e):GX(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function zX(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*VX;case"weeks":case"week":case"w":return r*HX;case"days":case"day":case"d":return r*l4;case"hours":case"hour":case"hrs":case"hr":case"h":return r*X8;case"minutes":case"minute":case"mins":case"min":case"m":return r*J8;case"seconds":case"second":case"secs":case"sec":case"s":return r*Y8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(zX,"parse");function GX(e){var t=Math.abs(e);return t>=l4?Math.round(e/l4)+"d":t>=X8?Math.round(e/X8)+"h":t>=J8?Math.round(e/J8)+"m":t>=Y8?Math.round(e/Y8)+"s":e+"ms"}o(GX,"fmtShort");function KX(e){var t=Math.abs(e);return t>=l4?Vv(e,t,l4,"day"):t>=X8?Vv(e,t,X8,"hour"):t>=J8?Vv(e,t,J8,"minute"):t>=Y8?Vv(e,t,Y8,"second"):e+" ms"}o(KX,"fmtLong");function Vv(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o(Vv,"plural")});var Bw=t0((H1e,rU)=>{function WX(e){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=s,r.enabled=l,r.humanize=tU(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let h,p=null,m,v;function x(...S){if(!x.enabled)return;let E=x,R=Number(new Date),B=R-(h||R);E.diff=B,E.prev=h,E.curr=R,h=R,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let O=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(F,ve)=>{if(F==="%%")return"%";O++;let we=r.formatters[ve];if(typeof we=="function"){let Xt=S[O];F=we.call(E,Xt),S.splice(O,1),O--}return F}),r.formatArgs.call(E,S),(E.log||r.log).apply(E,S)}return o(x,"debug"),x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(d)),v),set:S=>{p=S}}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(d,h){let p=r(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}o(n,"extend");function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(h=0;h<m;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(s,"enable");function a(){let d=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),d}o(a,"disable");function l(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=r.skips.length;h<p;h++)if(r.skips[h].test(d))return!1;for(h=0,p=r.names.length;h<p;h++)if(r.names[h].test(d))return!0;return!1}o(l,"enabled");function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(f,"toNamespace");function c(d){return d instanceof Error?d.stack||d.message:d}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(WX,"setup");rU.exports=WX});var nU=t0((ac,zv)=>{ac.formatArgs=JX;ac.save=XX;ac.load=ZX;ac.useColors=YX;ac.storage=QX();ac.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ac.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function YX(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(YX,"useColors");function JX(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+zv.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(JX,"formatArgs");ac.log=console.debug||console.log||(()=>{});function XX(e){try{e?ac.storage.setItem("debug",e):ac.storage.removeItem("debug")}catch{}}o(XX,"save");function ZX(){let e;try{e=ac.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(ZX,"load");function QX(){try{return localStorage}catch{}}o(QX,"localstorage");zv.exports=Bw()(ac);var{formatters:eZ}=zv.exports;eZ.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var sU=t0((G1e,iU)=>{"use strict";iU.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var lU=t0((K1e,aU)=>{"use strict";var tZ=require("os"),oU=require("tty"),Bc=sU(),{env:hl}=process,e3;Bc("no-color")||Bc("no-colors")||Bc("color=false")||Bc("color=never")?e3=0:(Bc("color")||Bc("colors")||Bc("color=true")||Bc("color=always"))&&(e3=1);"FORCE_COLOR"in hl&&(hl.FORCE_COLOR==="true"?e3=1:hl.FORCE_COLOR==="false"?e3=0:e3=hl.FORCE_COLOR.length===0?1:Math.min(parseInt(hl.FORCE_COLOR,10),3));function Ow(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Ow,"translateLevel");function Fw(e,t){if(e3===0)return 0;if(Bc("color=16m")||Bc("color=full")||Bc("color=truecolor"))return 3;if(Bc("color=256"))return 2;if(e&&!t&&e3===void 0)return 0;let r=e3||0;if(hl.TERM==="dumb")return r;if(process.platform==="win32"){let n=tZ.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in hl)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in hl)||hl.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in hl)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(hl.TEAMCITY_VERSION)?1:0;if(hl.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in hl){let n=parseInt((hl.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(hl.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(hl.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(hl.TERM)||"COLORTERM"in hl?1:r}o(Fw,"supportsColor");function rZ(e){let t=Fw(e,e&&e.isTTY);return Ow(t)}o(rZ,"getSupportLevel");aU.exports={supportsColor:rZ,stdout:Ow(Fw(!0,oU.isatty(1))),stderr:Ow(Fw(!0,oU.isatty(2)))}});var cU=t0((Ml,Kv)=>{var nZ=require("tty"),Gv=require("util");Ml.init=cZ;Ml.log=aZ;Ml.formatArgs=sZ;Ml.save=lZ;Ml.load=fZ;Ml.useColors=iZ;Ml.destroy=Gv.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ml.colors=[6,2,3,4,5,1];try{let e=lU();e&&(e.stderr||e).level>=2&&(Ml.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ml.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function iZ(){return"colors"in Ml.inspectOpts?!!Ml.inspectOpts.colors:nZ.isatty(process.stderr.fd)}o(iZ,"useColors");function sZ(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${s};1m${t} \x1B[0m`;e[0]=a+e[0].split(`
`).join(`
`+a),e.push(s+"m+"+Kv.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=oZ()+t+" "+e[0]}o(sZ,"formatArgs");function oZ(){return Ml.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(oZ,"getDate");function aZ(...e){return process.stderr.write(Gv.format(...e)+`
`)}o(aZ,"log");function lZ(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(lZ,"save");function fZ(){return process.env.DEBUG}o(fZ,"load");function cZ(e){e.inspectOpts={};let t=Object.keys(Ml.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Ml.inspectOpts[t[r]]}o(cZ,"init");Kv.exports=Bw()(Ml);var{formatters:fU}=Kv.exports;fU.o=function(e){return this.inspectOpts.colors=this.useColors,Gv.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};fU.O=function(e){return this.inspectOpts.colors=this.useColors,Gv.inspect(e,this.inspectOpts)}});var f4=t0((J1e,Mw)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Mw.exports=nU():Mw.exports=cU()});var Gw=t0((X1e,gU)=>{var Xm=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,uZ=typeof AbortController=="function",Qm,Wv=uZ?AbortController:(Qm=class{constructor(){this.signal=new uU}abort(){this.signal.dispatchEvent("abort")}},o(Qm,"AbortController"),Qm),dZ=typeof AbortSignal=="function",hZ=typeof Wv.AbortSignal=="function",e9,uU=dZ?AbortSignal:hZ?Wv.AbortController:(e9=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},o(e9,"AbortSignal"),e9),$w=new Set,Uw=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;Yv(r)&&Hw(r,`${e} option`,`options.${t}`,Q8)},"deprecatedOption"),qw=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(Yv(r)){let{prototype:n}=Q8,{get:s}=Object.getOwnPropertyDescriptor(n,e);Hw(r,`${e} method`,`cache.${t}()`,s)}},"deprecatedMethod"),gZ=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(Yv(r)){let{prototype:n}=Q8,{get:s}=Object.getOwnPropertyDescriptor(n,e);Hw(r,`${e} property`,`cache.${t}`,s)}},"deprecatedProperty"),dU=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),Yv=o(e=>!$w.has(e),"shouldWarn"),Hw=o((e,t,r,n)=>{$w.add(e);let s=`The ${t} is deprecated. Please use ${r} instead.`;dU(s,"DeprecationWarning",e,n)},"warn"),c4=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),hU=o(e=>c4(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Z8:null:null,"getUintArray"),Vw=class Vw extends Array{constructor(t){super(t),this.fill(0)}};o(Vw,"ZeroArray");var Z8=Vw,zw=class zw{constructor(t){if(t===0)return[];let r=hU(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};o(zw,"Stack");var jw=zw,Zm=class Zm{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:f,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:p,maxSize:m=0,sizeCalculation:v,fetchMethod:x,fetchContext:S,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:R}=t,{length:B,maxAge:O,stale:L}=t instanceof Zm?{}:t;if(r!==0&&!c4(r))throw new TypeError("max option must be a nonnegative integer");let F=r?hU(r):Array;if(!F)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=v||B,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=S,!this.fetchMethod&&S!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new F(r),this.prev=new F(r),this.head=0,this.tail=0,this.free=new jw(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!E,this.maxSize!==0){if(!c4(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!L,this.noDeleteOnStaleGet=!!R,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!f,this.ttlResolution=c4(s)||s===0?s:1,this.ttlAutopurge=!!a,this.ttl=n||O||0,this.ttl){if(!c4(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let ve="LRU_CACHE_UNBOUNDED";Yv(ve)&&($w.add(ve),dU("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ve,Zm))}L&&Uw("stale","allowStale"),O&&Uw("maxAge","ttl"),B&&Uw("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Z8(this.max),this.starts=new Z8(this.max),this.setItemTTL=(n,s,a=Xm.now())=>{if(this.starts[n]=s!==0?a:0,this.ttls[n]=s,s!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},s+1);l.unref&&l.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Xm.now():0};let t=0,r=o(()=>{let n=Xm.now();if(this.ttlResolution>0){t=n;let s=setTimeout(()=>t=0,this.ttlResolution);s.unref&&s.unref()}return n},"getNow");this.getRemainingTTL=n=>{let s=this.keyMap.get(n);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Z8(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,s)=>{if(!c4(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!c4(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,s){if(n||s)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return qw("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],s=this.valList[r],l={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){l.ttl=this.ttls[r];let f=Xm.now()-this.starts[r];l.start=Math.floor(Date.now()-f)}this.sizes&&(l.size=this.sizes[r]),t.unshift([n,l])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let s=Date.now()-n.start;n.start=Xm.now()-s}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:s,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(l=this.requireSize(t,r,l,f),this.maxSize&&l>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,l),c=!1;else{let d=this.valList[u];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():a||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,l)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],s=this.valList[r];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,n,"evict"),this.disposeAfter&&this.disposed.push([s,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let s=this.valList[n];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(t,r,n,s){let a=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(a))return a;let l=new Wv,f={signal:l.signal,options:n,context:s},c=o(p=>(l.signal.aborted||this.set(t,p,f.options),p),"cb"),u=o(p=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw p},"eb"),d=o(p=>p(this.fetchMethod(t,a,f)),"pcall"),h=new Promise(d).then(c,u);return h.__abortController=l,h.__staleWhileFetching=a,h.__returned=null,r===void 0?(this.set(t,h,f.options),r=this.keyMap.get(t)):this.valList[r]=h,h}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s});let m={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:a,noDisposeOnSet:l,size:f,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d},v=this.keyMap.get(t);if(v===void 0){let x=this.backgroundFetch(t,v,m,h);return x.__returned=x}else{let x=this.valList[v];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!p&&!this.isStale(v))return this.moveToTail(v),n&&this.updateItemAge(v),x;let S=this.backgroundFetch(t,v,m,h);return r&&S.__staleWhileFetching!==void 0?S.__staleWhileFetching:S.__returned=S}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet}={}){let a=this.keyMap.get(t);if(a!==void 0){let l=this.valList[a],f=this.isBackgroundFetch(l);return this.isStale(a)?f?r?l.__staleWhileFetching:void 0:(s||this.delete(t),r?l:void 0):f?void 0:(this.moveToTail(a),n&&this.updateItemAge(a),l)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return qw("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let s=this.valList[n];this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"delete"),this.disposeAfter&&this.disposed.push([s,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return qw("reset","clear"),this.clear}get length(){return gZ("length","size"),this.size}static get AbortController(){return Wv}static get AbortSignal(){return uU}};o(Zm,"LRUCache");var Q8=Zm;gU.exports=Q8});var Zw=t0((Q1e,mU)=>{"use strict";var Yw=class Yw extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};o(Yw,"FetchBaseError");var t9=Yw,Jw=class Jw extends t9{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};o(Jw,"FetchError");var Kw=Jw,Xw=class Xw extends t9{constructor(t,r="aborted"){super(t,r,"AbortError")}};o(Xw,"AbortError");var Ww=Xw;mU.exports={FetchBaseError:t9,FetchError:Kw,AbortError:Ww}});var md=t0((tue,yU)=>{"use strict";var{constants:{MAX_LENGTH:mZ}}=require("buffer"),{pipeline:Jv,PassThrough:pZ}=require("stream"),{promisify:yZ}=require("util"),{createGunzip:vZ,createInflate:xZ,createBrotliDecompress:_Z,constants:{Z_SYNC_FLUSH:pU}}=require("zlib"),bZ=f4()("helix-fetch:utils"),CZ=yZ(Jv),EZ=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),TZ=o((e,t,r,n)=>{if(!EZ(e,t))return r;let s=o(a=>{a&&(bZ(`encountered error while decoding stream: ${a}`),n(a))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return Jv(r,vZ({flush:pU,finishFlush:pU}),s);case"deflate":case"x-deflate":return Jv(r,xZ(),s);case"br":return Jv(r,_Z(),s);default:return r}},"decodeStream"),SZ=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),Xv=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?wZ(e,t):IZ(e,t);default:return 0}},"calcSize"),wZ=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:Xv(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),IZ=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let s in e)n.push(s);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(s=>{if(r+=Xv(s,t),typeof e[s]=="object"&&e[s]!==null){if(t.has(e[s]))return;t.add(e[s])}r+=Xv(e[s],t)}),r},"calcObjectSize"),AZ=o(e=>Xv(e,new WeakSet),"sizeof"),PZ=o(async e=>{let t=new pZ,r=0,n=[];return t.on("data",s=>{if(r+s.length>mZ)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(s),r+=s.length}),await CZ(e,t),Buffer.concat(n,r)},"streamToBuffer");yU.exports={decodeStream:TZ,isPlainObject:SZ,sizeof:AZ,streamToBuffer:PZ}});var Qv=t0((nue,bU)=>{"use strict";var{PassThrough:vU,Readable:pd}=require("stream"),{types:{isAnyArrayBuffer:_U}}=require("util"),{FetchError:RZ,FetchBaseError:NZ}=Zw(),{streamToBuffer:kZ}=md(),DZ=Buffer.alloc(0),Oc=Symbol("Body internals"),LZ=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),xU=o(async e=>{if(e[Oc].disturbed)throw new TypeError("Already read");if(e[Oc].error)throw new TypeError(`Stream had error: ${e[Oc].error.message}`);e[Oc].disturbed=!0;let{stream:t}=e[Oc];return t===null?DZ:kZ(t)},"consume"),Qw=class Qw{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=pd.from(t.toString()):t instanceof pd?r=t:Buffer.isBuffer(t)?r=pd.from(t):_U(t)?r=pd.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=pd.from(t):r=pd.from(String(t)),this[Oc]={stream:r,disturbed:!1,error:null},t instanceof pd&&r.on("error",n=>{let s=n instanceof NZ?n:new RZ(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Oc].error=s})}get body(){return this[Oc].stream}get bodyUsed(){return this[Oc].disturbed}async buffer(){return xU(this)}async arrayBuffer(){return LZ(await this.buffer())}async text(){return(await xU(this)).toString()}async json(){return JSON.parse(await this.text())}};o(Qw,"Body");var Zv=Qw;Object.defineProperties(Zv.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var BZ=o(e=>{if(e[Oc].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Oc],r=t;if(t instanceof pd){r=new vU;let n=new vU;t.pipe(r),t.pipe(n),e[Oc].stream=n}return r},"cloneStream"),OZ=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||_U(e)||e instanceof pd?null:"text/plain; charset=utf-8","guessContentType");bU.exports={Body:Zv,cloneStream:BZ,guessContentType:OZ}});var e6=t0((sue,SU)=>{"use strict";var{validateHeaderName:CU,validateHeaderValue:EU}=require("http"),{isPlainObject:FZ}=md(),yd=Symbol("Headers internals"),r9=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof CU=="function")CU(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),TU=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof EU=="function")EU(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),tx=class tx{constructor(t={}){if(this[yd]={map:new Map},t instanceof tx)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(FZ(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[yd].map.set(r9(t),TU(r,t))}has(t){return this[yd].map.has(r9(t))}get(t){let r=this[yd].map.get(r9(t));return r===void 0?null:r}append(t,r){let n=r9(t),s=TU(r,t),a=this[yd].map.get(n);this[yd].map.set(n,a?`${a}, ${s}`:s)}delete(t){this[yd].map.delete(r9(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[yd].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[yd].map)}};o(tx,"Headers");var ex=tx;Object.defineProperties(ex.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));SU.exports={Headers:ex}});var nI=t0((aue,wU)=>{"use strict";var{EventEmitter:MZ}=require("events"),E1=Symbol("AbortSignal internals"),eI=class eI{constructor(){this[E1]={eventEmitter:new MZ,onabort:null,aborted:!1}}get aborted(){return this[E1].aborted}get onabort(){return this[E1].onabort}set onabort(t){this[E1].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[E1].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[E1].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[E1][n]=="function"&&this[n](r),this[E1].eventEmitter.emit(t,r)}fire(){this[E1].aborted=!0,this.dispatchEvent("abort")}};o(eI,"AbortSignal");var t6=eI;Object.defineProperties(t6.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var tI=class tI extends t6{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[E1].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[E1].timerId)}};o(tI,"TimeoutSignal");var nx=tI;Object.defineProperties(nx.prototype,{clear:{enumerable:!0}});var rx=Symbol("AbortController internals"),rI=class rI{constructor(){this[rx]={signal:new t6}}get signal(){return this[rx].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[rx].signal.aborted||this[rx].signal.fire()}};o(rI,"AbortController");var ix=rI;Object.defineProperties(ix.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});wU.exports={AbortController:ix,AbortSignal:t6,TimeoutSignal:nx}});var n9=t0((fue,PU)=>{"use strict";var{randomBytes:UZ}=require("crypto"),{Readable:qZ}=require("stream"),sI=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),jZ=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),IU=o(e=>`--${e}--\r
\r
`,"getFooter"),AU=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,sI(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*$Z(e,t){for(let[r,n]of e)yield AU(t,r,n),sI(n)?yield*n.stream():yield n,yield`\r
`;yield IU(t)}o($Z,"formDataIterator");var HZ=o((e,t)=>{let r=0;for(let[n,s]of e)r+=Buffer.byteLength(AU(t,n,s)),r+=sI(s)?s.size:Buffer.byteLength(String(s)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(IU(t)),r},"getFormDataLength"),oI=class oI{constructor(t){this.fd=t,this.boundary=UZ(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=HZ(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return qZ.from($Z(this.fd,this.boundary))}};o(oI,"FormDataSerializer");var iI=oI;PU.exports={isFormData:jZ,FormDataSerializer:iI}});var NU=t0((uue,RU)=>{"use strict";var{AbortSignal:VZ}=nI(),{Body:zZ,cloneStream:GZ,guessContentType:KZ}=Qv(),{Headers:WZ}=e6(),{isPlainObject:YZ}=md(),{isFormData:JZ,FormDataSerializer:XZ}=n9(),ZZ=20,t3=Symbol("Request internals"),i9=class i9 extends zZ{constructor(t,r={}){let n=t instanceof i9?t:null,s=n?new URL(n.url):new URL(t),a=r.method||n&&n.method||"GET";if(a=a.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(a))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body||(n&&n.body?GZ(n):null),f=new WZ(r.headers||n&&n.headers||{});if(JZ(l)&&!f.has("content-type")){let h=new XZ(l);l=h.stream(),f.set("content-type",h.contentType()),!f.has("transfer-encoding")&&!f.has("content-length")&&f.set("content-length",h.length())}if(!f.has("content-type"))if(YZ(l))l=JSON.stringify(l),f.set("content-type","application/json");else{let h=KZ(l);h&&f.set("content-type",h)}super(l);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof VZ))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[t3]={init:{...r},method:a,redirect:u,cache:d,headers:f,parsedURL:s,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=ZZ:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[t3].method}get url(){return this[t3].parsedURL.toString()}get headers(){return this[t3].headers}get redirect(){return this[t3].redirect}get cache(){return this[t3].cache}get signal(){return this[t3].signal}clone(){return new i9(this)}get init(){return this[t3].init}get[Symbol.toStringTag](){return this.constructor.name}};o(i9,"Request");var sx=i9;Object.defineProperties(sx.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});RU.exports={Request:sx}});var aI=t0((hue,kU)=>{"use strict";var{Body:QZ,cloneStream:eQ,guessContentType:tQ}=Qv(),{Headers:rQ}=e6(),{isPlainObject:nQ}=md(),{isFormData:iQ,FormDataSerializer:sQ}=n9(),T1=Symbol("Response internals"),s9=class s9 extends QZ{constructor(t=null,r={}){let n=new rQ(r.headers),s=t;if(iQ(s)&&!n.has("content-type")){let a=new sQ(s);s=a.stream(),n.set("content-type",a.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",a.length())}if(s!==null&&!n.has("content-type"))if(nQ(s))s=JSON.stringify(s),n.set("content-type","application/json");else{let a=tQ(s);a&&n.set("content-type",a)}super(s),this[T1]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[T1].url||""}get status(){return this[T1].status}get statusText(){return this[T1].statusText}get ok(){return this[T1].status>=200&&this[T1].status<300}get redirected(){return this[T1].counter>0}get headers(){return this[T1].headers}get httpVersion(){return this[T1].httpVersion}get decoded(){return this[T1].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new s9(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new s9(eQ(this),{...this[T1]})}get[Symbol.toStringTag](){return this.constructor.name}};o(s9,"Response");var ox=s9;Object.defineProperties(ox.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});kU.exports={Response:ox}});var LU=t0((mue,DU)=>{"use strict";var oQ=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),aQ=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),lQ=new Set([500,502,503,504]),fQ={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},cQ={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function u4(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(u4,"toNumberOrZero");function uQ(e){return e?lQ.has(e.status):!0}o(uQ,"isErrorResponse");function lI(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[s,a]=n.split(/=/,2);t[s.trim()]=a===void 0?!0:a.trim().replace(/^"|"$/g,"")}return t}o(lI,"parseCacheControl");function dQ(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(dQ,"formatCacheControl");var o9;DU.exports=(o9=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:a,ignoreCargoCult:l,_fromObject:f}={}){if(f){this._fromObject(f);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=a!==void 0?a:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=lI(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=lI(t.headers["cache-control"]),l&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":dQ(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&aQ.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||oQ.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=lI(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)fQ[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return u4(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return u4(this._rescc["s-maxage"])}if(this._rescc["max-age"])return u4(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+u4(this._rescc["stale-if-error"]),n=t+u4(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+u4(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+u4(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(a=>!/^\s*W\//.test(a));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&uQ(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let l in this._resHeaders)s[l]=l in r.headers&&!cQ[l]?r.headers[l]:this._resHeaders[l];let a=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},o(o9,"CachePolicy"),o9)});var MU=t0((yue,FU)=>{"use strict";var hQ=LU(),{Headers:gQ}=e6(),BU=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),OU=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),cI=class cI{constructor(t,r,n){this.policy=new hQ(BU(t),OU(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(BU(t))}responseHeaders(t){return new gQ(this.policy.responseHeaders(OU(t)))}timeToLive(){return this.policy.timeToLive()}};o(cI,"CachePolicyWrapper");var fI=cI;FU.exports=fI});var jU=t0((xue,qU)=>{"use strict";var{Readable:mQ}=require("stream"),{Headers:UU}=e6(),{Response:pQ}=aI(),r3=Symbol("CacheableResponse internals"),yQ=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),ax=class ax extends pQ{constructor(t,r){super(t,r);let n=new UU(r.headers);this[r3]={headers:n,bufferedBody:t}}get headers(){return this[r3].headers}set headers(t){if(t instanceof UU)this[r3].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return mQ.from(this[r3].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[r3].bufferedBody}async arrayBuffer(){return yQ(this[r3].bufferedBody)}async text(){return this[r3].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:s,httpVersion:a,decoded:l,counter:f}=this;return new ax(this[r3].bufferedBody,{url:t,status:r,statusText:n,headers:s,httpVersion:a,decoded:l,counter:f})}get[Symbol.toStringTag](){return this.constructor.name}};o(ax,"CacheableResponse");var uI=ax,vQ=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:s,headers:a,httpVersion:l,decoded:f,counter:c}=e;return new uI(t,{url:r,status:n,statusText:s,headers:a,httpVersion:l,decoded:f,counter:c})},"cacheableResponse");qU.exports={cacheableResponse:vQ}});var lx=t0((bue,$U)=>{"use strict";var hI=class hI extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};o(hI,"RequestAbortedError");var dI=hI;$U.exports={RequestAbortedError:dI}});var KU=t0((Eue,GU)=>{"use strict";var VU=require("http"),zU=require("https"),{Readable:xQ}=require("stream"),vd=f4()("helix-fetch:h1"),{RequestAbortedError:HU}=lx(),{decodeStream:_Q}=md(),bQ=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:s}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof s=="boolean"?(r.httpsAgent=new zU.Agent(typeof s=="boolean"?{...n||{},rejectUnauthorized:s}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new VU.Agent(n),r.httpAgent):void 0},"getAgent"),CQ=o(e=>{e.h1={}},"setupContext"),EQ=o(async({h1:e})=>{e.httpAgent&&(vd("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(vd("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),TQ=o((e,t,r)=>{let{statusCode:n,statusMessage:s,httpVersion:a,httpVersionMajor:l,httpVersionMinor:f,headers:c}=e,u=t?_Q(n,c,e,r):e;return{statusCode:n,statusText:s,httpVersion:a,httpVersionMajor:l,httpVersionMinor:f,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),SQ=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?zU:VU,s=bQ(e,t.protocol),a={...r,agent:s},{socket:l,body:f}=a;return l&&(delete a.socket,l.assigned||(l.assigned=!0,s?a.agent=new Proxy(s,{get:(c,u)=>u==="createConnection"&&!l.inUse?(d,h)=>{vd(`agent reusing socket #${l.id} (${l.servername})`),l.inUse=!0,h(null,l)}:c[u]}):a.createConnection=(c,u)=>{vd(`reusing socket #${l.id} (${l.servername})`),l.inUse=!0,u(null,l)})),new Promise((c,u)=>{vd(`${a.method} ${t.href}`);let d,{signal:h}=a,p=o(()=>{h.removeEventListener("abort",p),l&&!l.inUse&&(vd(`discarding redundant socket used for ALPN: #${l.id} ${l.servername}`),l.destroy()),u(new HU),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){u(new HU);return}h.addEventListener("abort",p)}d=n(t,a),d.once("response",m=>{h&&h.removeEventListener("abort",p),l&&!l.inUse&&(vd(`discarding redundant socket used for ALPN: #${l.id} ${l.servername}`),l.destroy()),c(TQ(m,a.decode,u))}),d.once("error",m=>{h&&h.removeEventListener("abort",p),l&&!l.inUse&&(vd(`discarding redundant socket used for ALPN: #${l.id} ${l.servername}`),l.destroy()),d.aborted||(vd(`${a.method} ${t.href} failed with: ${m.message}`),d.abort(),u(m))}),f instanceof xQ?f.pipe(d):(f&&d.write(f),d.end())})},"h1Request");GU.exports={request:SQ,setupContext:CQ,resetContext:EQ}});var XU=t0((Sue,JU)=>{"use strict";var{connect:wQ,constants:IQ}=require("http2"),{Readable:AQ}=require("stream"),aa=f4()("helix-fetch:h2"),{RequestAbortedError:WU}=lx(),{decodeStream:PQ}=md(),{NGHTTP2_CANCEL:a9}=IQ,RQ=5*60*1e3,NQ=5e3,kQ=o(e=>{e.h2={sessionCache:{}}},"setupContext"),DQ=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),aa(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),YU=o((e,t,r,n=()=>{})=>{let s={...e},a=s[":status"];delete s[":status"];let l=r?PQ(a,e,t,n):t;return{statusCode:a,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:s,readable:l,decoded:!!(r&&l!==t)}},"createResponse"),LQ=o((e,t,r,n,s,a)=>{let{options:{h2:{pushPromiseHandler:l,pushHandler:f,pushedStreamIdleTimeout:c=NQ}}}=e,u=s[":path"],d=`${t}${u}`;aa(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(s)}, flags: ${a}`),l&&l(d,s,o(()=>{n.close(a9)},"rejectPush")),n.on("push",(h,p)=>{aa(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${p}`),n.setTimeout(c,()=>{aa(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(a9)}),f&&f(d,s,YU(h,n,r))}),n.on("aborted",()=>{aa(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{aa(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,p,m)=>{aa(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${p}, id: ${m}`)})},"handlePush"),BQ=o(async(e,t,r)=>{let{origin:n,pathname:s,search:a,hash:l}=t,f=`${s}${a}${l}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:d=RQ,pushPromiseHandler:h,pushHandler:p}=c,m={...r},{method:v,headers:x,socket:S,body:E,decode:R}=m;return S&&delete m.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((B,O)=>{let L=u[n];if(!L||L.closed||L.destroyed){let f0=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),Jt={...c,rejectUnauthorized:f0};S&&!S.inUse&&(Jt.createConnection=()=>(aa(`reusing socket #${S.id} (${S.servername})`),S.inUse=!0,S)),L=wQ(n,{...Jt,settings:{enablePush:!!(h||p)}}),L.setMaxListeners(1e3),L.setTimeout(d,()=>{aa(`closing session ${n} after ${d} ms of inactivity`),L.close()}),L.once("connect",()=>{aa(`session ${n} established`),aa(`caching session ${n}`),u[n]=L}),L.on("localSettings",yt=>{aa(`session ${n} localSettings: ${JSON.stringify(yt)}`)}),L.on("remoteSettings",yt=>{aa(`session ${n} remoteSettings: ${JSON.stringify(yt)}`)}),L.once("close",()=>{aa(`session ${n} closed`),u[n]===L&&(aa(`discarding cached session ${n}`),delete u[n])}),L.once("error",yt=>{aa(`session ${n} encountered error: ${yt}`),u[n]===L&&(aa(`discarding cached session ${n}`),delete u[n])}),L.on("frameError",(yt,je,i0)=>{aa(`session ${n} encountered frameError: type: ${yt}, code: ${je}, id: ${i0}`)}),L.once("goaway",(yt,je,i0)=>{aa(`session ${n} received GOAWAY frame: errorCode: ${yt}, lastStreamID: ${je}, opaqueData: ${i0?i0.toString():void 0}`)}),L.on("stream",(yt,je,i0)=>{LQ(e,n,R,yt,je,i0)})}else S&&S.id!==L.socket.id&&!S.inUse&&(aa(`discarding redundant socket used for ALPN: #${S.id} ${S.servername}`),S.destroy());aa(`${v} ${t.host}${f}`);let F,{signal:ve}=m,we=o(()=>{ve.removeEventListener("abort",we),O(new WU),F&&F.close(a9)},"onAbortSignal");if(ve){if(ve.aborted){O(new WU);return}ve.addEventListener("abort",we)}let Xt=o(f0=>{aa(`session ${n} encountered error during ${m.method} ${t.href}: ${f0}`),O(f0)},"onSessionError");L.once("error",Xt),F=L.request({":method":v,":path":f,...x}),F.once("response",f0=>{L.off("error",Xt),ve&&ve.removeEventListener("abort",we),B(YU(f0,F,m.decode,O))}),F.once("error",f0=>{L.off("error",Xt),ve&&ve.removeEventListener("abort",we),F.rstCode!==a9&&(aa(`${m.method} ${t.href} failed with: ${f0.message}`),F.close(a9),O(f0))}),F.once("frameError",(f0,Jt,c0)=>{L.off("error",Xt),aa(`encountered frameError during ${m.method} ${t.href}: type: ${f0}, code: ${Jt}, id: ${c0}`)}),F.on("push",(f0,Jt)=>{aa(`received 'push' event: headers: ${JSON.stringify(f0)}, flags: ${Jt}`)}),E instanceof AQ?E.pipe(F):(E&&F.write(E),F.end())})},"request");JU.exports={request:BQ,setupContext:kQ,resetContext:DQ}});var QU=t0((Iue,ZU)=>{"use strict";var{EventEmitter:OQ}=require("events"),FQ=o(()=>{let e={},t=new OQ;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let s=o(a=>{e[r]||(e[r]=!0,t.removeListener(r,s),n(a))},"tryAcquire");t.on(r,s)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");ZU.exports=FQ});var eq=t0((Pue,MQ)=>{MQ.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var sq=t0((Rue,iq)=>{"use strict";var{Readable:UQ}=require("stream"),qQ=require("tls"),{types:{isAnyArrayBuffer:jQ}}=require("util"),$Q=Gw(),gI=f4()("helix-fetch:core"),{RequestAbortedError:fx}=lx(),mI=KU(),cx=XU(),HQ=QU(),{isPlainObject:VQ}=md(),{isFormData:zQ,FormDataSerializer:GQ}=n9(),{version:KQ}=eq(),pI="h2",yI="h2c",vI="http/1.0",d4="http/1.1",WQ=100,YQ=60*60*1e3,JQ=[pI,d4,vI],XQ=`helix-fetch/${KQ}`,ZQ={method:"GET",compress:!0,decode:!0},tq=0,rq=HQ(),nq=o((e,t)=>new Promise((r,n)=>{let{signal:s}=t,a,l=o(()=>{s.removeEventListener("abort",l);let u=new fx;n(u),a&&a.destroy(u)},"onAbortSignal");if(s){if(s.aborted){n(new fx);return}s.addEventListener("abort",l)}let f=+e.port||443,c=o(u=>{s&&s.removeEventListener("abort",l),u instanceof fx||(gI(`connecting to ${e.hostname}:${f} failed with: ${u.message}`),n(u))},"onError");a=qQ.connect(f,e.hostname,t),a.once("secureConnect",()=>{s&&s.removeEventListener("abort",l),a.off("error",c),tq+=1,a.id=tq,a.secureConnecting=!1,gI(`established TLS connection: #${a.id} (${a.servername})`),r(a)}),a.once("error",c)}),"connectTLS"),QQ=o(async(e,t)=>{let r=await rq.acquire(e.origin);try{return r||(r=await nq(e,t)),r}finally{rq.release(e.origin,r)}},"connect"),eee=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,s=e.alpnCache.get(n);if(s)return{protocol:s};switch(t.protocol){case"http:":return s=d4,e.alpnCache.set(n,s),{protocol:s};case"http2:":return s=yI,e.alpnCache.set(n,s),{protocol:s};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:a,h1:l={},h2:f={}}}=e,c=!(a===!1||l.rejectUnauthorized===!1||f.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let d=await QQ(t,u);return s=d.alpnProtocol,s||(s=d4),e.alpnCache.set(n,s),{protocol:s,socket:d}},"determineProtocol"),tee=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),ree=o(async(e,t,r,n)=>{let s=t.protocol==="https:",a;t.port?a=t.port:s?a=443:a=80;let l={...r,host:t.host,hostname:t.hostname,port:a},f=await e(l);if(s){let u={...l,ALPNProtocols:n};u.socket=f,u.servername=l.host;let d=await nq(t,u);return{protocol:d.alpnProtocol||d4,socket:d}}return{protocol:f.alpnProtocol||d4,socket:f}},"getProtocolAndSocketFromFactory"),nee=o(async(e,t,r)=>{let n=new URL(t),s={...ZQ,...r||{}};typeof s.method=="string"&&(s.method=s.method.toUpperCase()),s.headers=tee(s.headers||{}),s.headers.host===void 0&&(s.headers.host=n.host),e.userAgent&&s.headers["user-agent"]===void 0&&(s.headers["user-agent"]=e.userAgent);let a;if(s.body instanceof URLSearchParams)a="application/x-www-form-urlencoded; charset=utf-8",s.body=s.body.toString();else if(zQ(s.body)){let u=new GQ(s.body);a=u.contentType(),s.body=u.stream(),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(u.length()))}else typeof s.body=="string"||s.body instanceof String?a="text/plain; charset=utf-8":VQ(s.body)?(s.body=JSON.stringify(s.body),a="application/json"):jQ(s.body)&&(s.body=Buffer.from(s.body));s.headers["content-type"]===void 0&&a!==void 0&&(s.headers["content-type"]=a),s.body!=null&&(s.body instanceof UQ||(!(typeof s.body=="string"||s.body instanceof String)&&!Buffer.isBuffer(s.body)&&(s.body=String(s.body)),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(Buffer.isBuffer(s.body)?s.body.length:Buffer.byteLength(s.body,"utf-8"))))),s.headers.accept===void 0&&(s.headers.accept="*/*"),s.body==null&&["POST","PUT"].includes(s.method)&&(s.headers["content-length"]="0"),s.compress&&s.headers["accept-encoding"]===void 0&&(s.headers["accept-encoding"]="gzip,deflate,br");let{signal:l}=s,{protocol:f,socket:c=null}=e.socketFactory?await ree(e.socketFactory,n,s,e.alpnProtocols):await eee(e,n,l);switch(gI(`${n.host} -> ${f}`),f){case pI:try{return await cx.request(e,n,c?{...s,socket:c}:s)}catch(u){let{code:d,message:h}=u;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case yI:return cx.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...s,socket:c}:s);case vI:case d4:return mI.request(e,n,c?{...s,socket:c}:s);default:throw new TypeError(`unsupported protocol: ${f}`)}},"request"),iee=o(async e=>(e.alpnCache.clear(),Promise.all([mI.resetContext(e),cx.resetContext(e)])),"resetContext"),see=o(e=>{let{options:{alpnProtocols:t=JQ,alpnCacheTTL:r=YQ,alpnCacheSize:n=WQ,userAgent:s=XQ,socketFactory:a}}=e;e.alpnProtocols=t,e.alpnCache=new $Q({max:n,ttl:r}),e.userAgent=s,e.socketFactory=a,mI.setupContext(e),cx.setupContext(e)},"setupContext");iq.exports={request:nee,setupContext:see,resetContext:iee,RequestAbortedError:fx,ALPN_HTTP2:pI,ALPN_HTTP2C:yI,ALPN_HTTP1_1:d4,ALPN_HTTP1_0:vI}});var aq=t0((kue,oq)=>{"use strict";var oee=f4()("helix-fetch:core"),{request:aee,setupContext:lee,resetContext:fee,RequestAbortedError:cee,ALPN_HTTP2:uee,ALPN_HTTP2C:dee,ALPN_HTTP1_1:hee,ALPN_HTTP1_0:gee}=sq(),ux=class ux{constructor(t){this.options={...t||{}},lee(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new ux(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:cee,ALPN_HTTP2:uee,ALPN_HTTP2C:dee,ALPN_HTTP1_1:hee,ALPN_HTTP1_0:gee}}async request(t,r){return aee(this,t,r)}setCA(t){this.options.ca=t}async reset(){return oee("resetting context"),fee(this)}};o(ux,"RequestContext");var xI=ux;oq.exports=new xI().api()});var dq=t0((Lue,uq)=>{"use strict";var{EventEmitter:mee}=require("events"),{Readable:l9}=require("stream"),_I=f4()("helix-fetch"),pee=Gw(),{Body:yee}=Qv(),{Headers:TI}=e6(),{Request:h4}=NU(),{Response:CI}=aI(),{FetchBaseError:vee,FetchError:f9,AbortError:dx}=Zw(),{AbortController:xee,AbortSignal:_ee,TimeoutSignal:bee}=nI(),Cee=MU(),{cacheableResponse:Eee}=jU(),{sizeof:Tee}=md(),{isFormData:See}=n9(),{context:wee,RequestAbortedError:Iee}=aq(),lq=["GET","HEAD"],Aee=500,Pee=100*1024*1024,bI="push",fq=o(async(e,t,r)=>{let{request:n}=e.context,s=t instanceof h4&&typeof r>"u"?t:new h4(t,r),{method:a,body:l,signal:f,compress:c,decode:u,follow:d,redirect:h,init:{body:p}}=s,m;if(f&&f.aborted){let L=new dx("The operation was aborted.");throw s.init.body instanceof l9&&s.init.body.destroy(L),L}try{m=await n(s.url,{...r,method:a,headers:s.headers.plain(),body:p&&!(p instanceof l9)&&!See(p)?p:l,compress:c,decode:u,follow:d,redirect:h,signal:f})}catch(L){throw p instanceof l9&&p.destroy(L),L instanceof TypeError?L:L instanceof Iee?new dx("The operation was aborted."):new f9(L.message,"system",L)}let v=o(()=>{f.removeEventListener("abort",v);let L=new dx("The operation was aborted.");s.init.body instanceof l9&&s.init.body.destroy(L),m.readable.emit("error",L)},"abortHandler");f&&f.addEventListener("abort",v);let{statusCode:x,statusText:S,httpVersion:E,headers:R,readable:B,decoded:O}=m;if([301,302,303,307,308].includes(x)){let{location:L}=R,F=L==null?null:new URL(L,s.url);switch(s.redirect){case"manual":break;case"error":throw f&&f.removeEventListener("abort",v),new f9(`uri requested responds with a redirect, redirect mode is set to 'error': ${s.url}`,"no-redirect");case"follow":{if(F===null)break;if(s.counter>=s.follow)throw f&&f.removeEventListener("abort",v),new f9(`maximum redirect reached at: ${s.url}`,"max-redirect");let ve={headers:new TI(s.headers),follow:s.follow,compress:s.compress,decode:s.decode,counter:s.counter+1,method:s.method,body:s.body,signal:s.signal};if(x!==303&&s.body&&s.init.body instanceof l9)throw f&&f.removeEventListener("abort",v),new f9("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&s.method==="POST")&&(ve.method="GET",ve.body=void 0,ve.headers.delete("content-length")),f&&f.removeEventListener("abort",v),fq(e,new h4(F,ve))}default:}}return f&&(B.once("end",()=>{f.removeEventListener("abort",v)}),B.once("error",()=>{f.removeEventListener("abort",v)})),new CI(B,{url:s.url,status:x,statusText:S,headers:R,httpVersion:E,decoded:O,counter:s.counter})},"fetch"),cq=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!lq.includes(t.method))return r;let n=new Cee(t,r,{shared:!1});if(n.storable()){let s=await Eee(r);return e.cache.set(t.url,{policy:n,response:s},n.timeToLive()),s}else return r},"cacheResponse"),Ree=o(async(e,t,r)=>{let n=new h4(t,r);if(e.options.maxCacheSize!==0&&lq.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:l,response:f}=e.cache.get(n.url)||{};if(l&&l.satisfiesWithoutRevalidation(n)){f.headers=new TI(l.responseHeaders(f));let c=f.clone();return c.fromCache=!0,c}}let a=await fq(e,n);return n.cache!=="no-store"?cq(e,n,a):a},"cachingFetch"),Nee=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,s])=>{Array.isArray(s)?s.forEach(a=>r.searchParams.append(n,a)):r.searchParams.append(n,s)}),r.href},"createUrl"),kee=o(e=>new bee(e),"timeoutSignal"),xd=class xd{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:Pee,s=Aee;n===0&&(n=1,s=1);let a=o(({response:f},c)=>Tee(f),"sizeCalculation");this.cache=new pee({max:s,maxSize:n,sizeCalculation:a}),this.eventEmitter=new mee,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:l}=this.options.h2;l&&(this.options.h2.pushPromiseHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(f,d,u)},this.options.h2.pushHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(E=>E.startsWith(":")).forEach(E=>delete d[E]);let{statusCode:h,statusText:p,httpVersion:m,headers:v,readable:x,decoded:S}=u;this.pushHandler(f,d,new CI(x,{url:f,status:h,statusText:p,headers:v,httpVersion:m,decoded:S}))}),this.context=wee(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:yee,Headers:TI,Request:h4,Response:CI,AbortController:xee,AbortSignal:_ee,FetchBaseError:vee,FetchError:f9,AbortError:dx,context:(t={})=>new xd(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new xd({...t,maxCacheSize:0}).api(),h1:(t={})=>new xd({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new xd({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new xd({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new xd({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:Nee,timeoutSignal:kee,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return Ree(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(bI,t)}offPush(t){return this.eventEmitter.off(bI,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){_I(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let s=new h4(t,{headers:r}),{policy:a}=this.cache.get(t)||{};a&&a.satisfiesWithoutRevalidation(s)&&(_I(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){_I(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let s=await cq(this,new h4(t,{headers:r}),n);this.eventEmitter.emit(bI,t,s)}};o(xd,"FetchContext");var EI=xd;uq.exports=new EI().api()});var gq=t0((Oue,hq)=>{"use strict";hq.exports=dq()});var zI=t0((zde,qee)=>{qee.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.195.0",build:"895",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot?editor=vscode",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.75.0",node:">=16.14.0",npm:">=8.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chatWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chatNonWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}},"copilot-blocked":{description:"GitHub Copilot blocked icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0045"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"run-s build:prompt build:root","build:prompt":"npm -C prompt run build","build:root":"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:prompt":"npm -C prompt run watch","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},workspaces:["prompt"],devDependencies:{"@datadog/datadog-ci":"^2.33.0","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.13","@types/uuid":"^9.0.7","@types/vscode":"^1.75.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.7.1","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/copilot-promptlib":"file:prompt","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","git-url-parse":"^13.1.0",ignore:"^5.2.4",jhaystack:"^0.1.8",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var Dq=t0((Sx,kq)=>{(function(e,t){typeof Sx=="object"&&typeof kq<"u"?t(Sx):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Sx,function(e){"use strict";var t=void 0,r=null,n="",s="function",a="number",l="object",f="prototype",c="__proto__",u="string",d="undefined",h="constructor",p="Symbol",m="_polyfill",v="indexOf",x="length",S="value",E="name",R="slice",B="call",O="toString",L=Object,F=L[f],ve=String,we=ve[f],Xt=Math,f0=Array,Jt=f0[f];function c0(_,I){try{return{v:_.apply(this,I)}}catch(N){return{e:N}}}o(c0,"safe");function yt(_){return function(I){return typeof I===_}}o(yt,"_createIs");function je(_){var I="[object "+_+"]";return function(N){return!!(N&&i0(N)===I)}}o(je,"_createObjIs");function i0(_){return F.toString.call(_)}o(i0,"objToString");function u0(_){return typeof _===d||_===d}o(u0,"isUndefined");function l0(_){return _===r||u0(_)}o(l0,"isNullOrUndefined");function N0(_){return!!_||_!==t}o(N0,"isDefined");var kt=yt(u),o0=yt(s);function de(_){return!_&&l0(_)?!1:!!_&&typeof _===l}o(de,"isObject");var Me=f0.isArray,b0=je("Error"),H0=L.getOwnPropertyDescriptor;function F0(_,I){return!!_&&F.hasOwnProperty[B](_,I)}o(F0,"objHasOwnProperty");var y0=L.hasOwn||Er;function Er(_,I){return F0(_,I)||!!H0(_,I)}o(Er,"polyObjHasOwn");function Se(_,I,N){if(_&&de(_)){for(var $ in _)if(y0(_,$)&&I[B](N||_,$,_[$])===-1)break}}o(Se,"objForEachKey");function O0(_,I,N,$){var ue={};return Se(_,function(vt,r0){ue[vt]=I?r0:vt,ue[r0]=N?r0:vt}),$(ue)}o(O0,"_createKeyValueMap");function St(_){throw new Error(_)}o(St,"throwError");function L0(_){throw new TypeError(_)}o(L0,"throwTypeError");var k0=L.freeze;function z0(_){return _}o(z0,"_doNothing");function Sr(_){return _[c]||r}o(Sr,"_getProto");var zr=L.assign,Mr=L.keys;function le(_){return k0&&Se(_,function(I,N){(Me(N)||de(N))&&k0(N)}),nn(_)}o(le,"objDeepFreeze");var nn=k0||z0,mr=L.getPrototypeOf||Sr;function Vs(_){return O0(_,1,0,le)}o(Vs,"createEnum");function Bs(_){var I={};return Se(_,function(N,$){I[N]=$[1],I[$[0]]=$[1]}),le(I)}o(Bs,"createSimpleMap");function ra(_){return Bs(_)}o(ra,"createTypeMap");var Os=ve,Da="__tsUtils$gblCfg",Ja;function Cl(){var _;return typeof globalThis!==d&&(_=globalThis),!_&&typeof self!==d&&(_=self),!_&&typeof window!==d&&(_=window),!_&&typeof global!==d&&(_=global),_}o(Cl,"_getGlobalValue");function Xa(){if(!Ja){var _=c0(Cl).v||{};Ja=_[Da]=_[Da]||{}}return Ja}o(Xa,"_getGlobalConfig");var hn="[object Error]";function Ue(_,I){var N=n,$=F[O][B](_);$===hn&&(_={stack:Os(_.stack),message:Os(_.message),name:Os(_.name)});try{N=JSON.stringify(_,r,I?typeof I===a?I:4:t),N=N&&N.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Os(_)}catch(ue){N=" - "+Ue(ue,I)}return $+": "+N}o(Ue,"dumpObj");var V,W=an,M0=an;function an(_,I,N){V=V||Jt[R];var $=I&&I[_];return function(ue){var vt=ue&&ue[_]||$;if(vt||N){var r0=arguments;return(vt||N).apply(ue,vt?V[B](r0,1):r0)}L0('"'+Os(_)+'" not defined for '+Ue(ue))}}o(an,"_unwrapFunctionWithPoly");var Qi=Xt.max,hs=M0(R,we),cn=M0("substring",we),ks=an("substr",we,Fi);function Fi(_,I,N){return l0(_)&&L0("'polyStrSubstr called with invalid "+Ue(_)),N<0?n:(I=I||0,I<0&&(I=Qi(I+_[x],0)),u0(N)?hs(_,I):hs(_,I,I+N))}o(Fi,"polyStrSubstr");function Us(_,I){return cn(_,0,I)}o(Us,"strLeft");var us="_urid",Fs;function Dr(){if(!Fs){var _=Xa();Fs=_.gblSym=_.gblSym||{k:{},s:{}}}return Fs}o(Dr,"_globalSymbolRegistry");function zf(_){var I={description:Os(_),toString:function(){return p+"("+_+")"}};return I[m]=!0,I}o(zf,"polyNewSymbol");function Iu(_){var I=Dr();if(!y0(I.k,_)){var N=zf(_),$=Mr(I.s).length;N[us]=function(){return $+"_"+N[O]()},I.k[_]=N,I.s[N[us]()]=Os(_)}return I.k[_]}o(Iu,"polySymbolFor");var El={e:"enumerable",c:"configurable",v:S,w:"writable",g:"get",s:"set"};function pc(_){var I={};if(I[El.c]=!0,I[El.e]=!0,_.l){I.get=function(){return _.l.v};var N=H0(_.l,"v");N&&N.set&&(I.set=function($){_.l.v=$})}return Se(_,function($,ue){I[El[$]]=u0(ue)?I[El[$]]:ue}),I}o(pc,"_createProp");var Ef=L.defineProperty;function Zc(_,I,N){return Ef(_,I,pc(N))}o(Zc,"objDefine");var s0;function Q(){s0=Xa()}o(Q,"_initTestHooks");function bt(_){var I={};return!s0&&Q(),I.b=s0.lzy,Ef(I,"v",{configurable:!0,get:function(){var N=_();return s0.lzy||Ef(I,"v",{value:N}),I.b=s0.lzy,N}}),I}o(bt,"getLazy");function wt(_,I){return bt(function(){var N=c0(_);return N.e?I:N.v})}o(wt,"safeGetLazy");function _e(_){return Ef({toJSON:function(){return _}},"v",{value:_})}o(_e,"createCachedValue");var Y="window",d0,P0,sn,zs;function qs(_){return bt(function(){return c0(Ks,[_]).v||t})}o(qs,"lazySafeGetInst");function Tl(_){return!s0&&Q(),(!d0||_===!1||s0.lzy)&&(d0=_e(c0(Cl).v||r)),d0.v}o(Tl,"getGlobal");function Ks(_,I){var N=!d0||I===!1?Tl(I):d0.v;return N&&N[_]?N[_]:_===Y&&P0?P0.v:r}o(Ks,"getInst");function zl(){return!s0&&Q(),(!sn||s0.lzy)&&(sn=_e(c0(Ks,["document"]).v)),sn.v}o(zl,"getDocument");function Pi(){return!!js()}o(Pi,"hasWindow");function js(){return!s0&&Q(),(!P0||s0.lzy)&&(P0=_e(c0(Ks,[Y]).v)),P0.v}o(js,"getWindow");function Zs(){return!!Sl()}o(Zs,"hasNavigator");function Sl(){return!s0&&Q(),(!zs||s0.lzy)&&(zs=_e(c0(Ks,["navigator"]).v)),zs.v}o(Sl,"getNavigator");var uf,j4;function Au(){(!uf||!uf.b)&&(uf=qs(p),j4=wt(function(){return uf.v?uf.v.for:t},t))}o(Au,"_initSymbol");function qd(_,I){return!s0&&Q(),(!uf||s0.lzy)&&Au(),uf.v?uf.v(_):I?r:zf(_)}o(qd,"newSymbol");function Pu(_){return!s0&&Q(),(!j4||!uf||s0.lzy)&&Au(),(j4.v||Iu)(_)}o(Pu,"symbolFor");var Qc=W("apply");function Gl(_,I,N){if(_)for(var $=_[x]>>>0,ue=0;ue<$&&!(ue in _&&I[B](N||_,_[ue],ue,_)===-1);ue++);}o(Gl,"arrForEach");var k1=M0(v,Jt),Ru=M0("map",Jt),J6=M0("reduce",Jt),Gf=L.create||La;function La(_){if(!_)return{};var I=typeof _;I!==l&&I!==s&&L0("Prototype must be an Object or function: "+Ue(_));function N(){}return o(N,"tempFunc"),N[f]=_,new N}o(La,"polyObjCreate");var X6;function Nu(_,I){var N=L.setPrototypeOf||function($,ue){!X6&&(X6=bt(function(){var vt;return vt={},vt[c]=[],vt instanceof Array})),X6.v?$[c]=ue:Se(ue,function(vt,r0){return $[vt]=r0})};return N(_,I)}o(Nu,"objSetPrototypeOf");function Ub(_,I,N){c0(Zc,[I,E,{v:_,c:!0,e:!1}]),I=Nu(I,N);function $(){this.constructor=I,c0(Zc,[this,E,{v:_,c:!0,e:!1}])}return o($,"__"),I[f]=N===r?Gf(N):($[f]=N[f],new $),I}o(Ub,"_createCustomError");function e1(_,I){I&&(_[E]=I)}o(e1,"_setName");function qb(_,I,N){var $=N||Error,ue=$[f][E],vt=Error.captureStackTrace;return Ub(_,function(){var r0=this,h0=arguments;try{c0(e1,[$,_]);var _0=Qc($,r0,Jt[R][B](h0))||r0;if(_0!==r0){var B0=mr(r0);B0!==mr(_0)&&Nu(_0,B0)}return vt&&vt(_0,r0[h]),I&&I(_0,h0),_0}finally{c0(e1,[$,ue])}},$)}o(qb,"createCustomError");function D1(){return(Date.now||jb)()}o(D1,"utcNow");function jb(){return new Date().getTime()}o(jb,"polyUtcNow");function Kl(_){return o(function(N){return l0(N)&&L0("strTrim called ["+Ue(N)+"]"),N&&N.replace&&(N=N.replace(_,n)),N},"_doTrim")}o(Kl,"_createTrimFn");var Z6=Kl(/^\s+|(?=\s)\s+$/g),Kf=an("trim",we,Z6),Q6,eg,I3;function yc(_){if(!_||typeof _!==l)return!1;I3||(I3=Pi()?js():!0);var I=!1;if(_!==I3){eg||(Q6=Function[f][O],eg=Q6[B](L));try{var N=mr(_);I=!N,I||(F0(N,h)&&(N=N[h]),I=N&&typeof N===s&&Q6[B](N)===eg)}catch{}}return I}o(yc,"isPlainObject");var jd;function $4(){return!s0&&Q(),(!jd||!jd.b&&s0.lzy)&&(jd=qs("performance")),jd.v}o($4,"getPerformance");var $b=an("endsWith",we,H4);function H4(_,I,N){kt(_)||L0("'"+Ue(_)+"' is not a string");var $=kt(I)?I:Os(I),ue=!u0(N)&&N<_[x]?N:_[x];return cn(_,ue-$[x],ue)===$}o(H4,"polyStrEndsWith");var A3=M0(v,we),t1="ref",L1="un"+t1,gn="hasRef",Tf="enabled";function P3(_,I,N){var $,ue=!0,vt=_?I(r):r,r0,h0=o(function(){return ue=!1,vt&&vt[L1]&&vt[L1](),r0},"_unref"),_0=o(function(){return ue=!0,vt&&vt[t1]&&vt[t1](),r0},"_ref"),B0=o(function(){return vt&&vt[gn]?vt[gn]():ue},"_hasRef"),fr=o(function(){return vt=I(vt),ue||h0(),r0},"_refresh"),ki=o(function(){vt&&N(vt),vt=r},"_cancel"),Ai=o(function(pn){!pn&&vt&&ki(),pn&&!vt&&fr()},"_setEnabled");return r0=($={cancel:ki,refresh:fr},$[gn]=B0,$[t1]=_0,$[L1]=h0,$[Tf]=!1,$),Ef(r0,Tf,{get:function(){return!!vt},set:Ai}),{h:r0,dn:function(){vt=r}}}o(P3,"_createTimerHandler");function tg(_,I,N,$){var ue=Me(N),vt=ue?N.length:0,r0=(vt>0?N[0]:ue?t:N)||setTimeout,h0=(vt>1?N[1]:t)||clearTimeout,_0=$[0];$[0]=function(){B0.dn(),Qc(_0,_,Jt[R][B](arguments))};var B0=P3(I,function(fr){if(fr){if(fr.refresh)return fr.refresh(),fr;Qc(h0,_,[fr])}return Qc(r0,_,$)},function(fr){Qc(h0,_,[fr])});return B0.h}o(tg,"_createTimeoutWith");function Hb(_,I){return tg(this,!0,t,Jt[R][B](arguments))}o(Hb,"scheduleTimeout");var Wf=Vs,Vb=ra,$d="toLowerCase",R3="blkVal",Ba="length",N3="rdOnly",rg="notify",B1="warnToConsole",k3="throwInternal",ng="setDf",ig="watch",Pa="logger",sg="apply",vc="push",V4="splice",Wl="hdlr",zb="cancel",z4="name",Gb="unload",D3="version",g7="loggingLevelConsole",og="messageId",L3="message",m7="diagLog",p7="userAgent",ag="split",G4="nodeType",Hd="replace",y7="logInternalMessage",r1="type",K4="handler",v7="traceId",Vd="spanId",ku="traceFlags",B3;function lg(_,I){B3||(B3=qb("AggregationError",function($,ue){ue[Ba]>1&&($.errors=ue[1])}));var N=_||"One or more errors occurred.";throw Gl(I,function($,ue){N+=`
`.concat(ue," > ").concat(Ue($))}),new B3(N,I||[])}o(lg,"throwAggregationError");var x7="function",Kb="object",_7="undefined",xc="prototype",b7=Object,W4=b7[xc],O3="hasOwnProperty",n1=o(function(_){for(var I,N=1,$=arguments.length;N<$;N++){I=arguments[N];for(var ue in I)W4[O3].call(I,ue)&&(_[ue]=I[ue])}return _},"__objAssignFnImpl"),Du=zr||n1,zd=o(function(_,I){return zd=b7.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,$){N.__proto__=$}||function(N,$){for(var ue in $)$[O3](ue)&&(N[ue]=$[ue])},zd(_,I)},"extendStaticsFn");function fg(_,I){typeof I!==x7&&I!==null&&L0("Class extends value "+String(I)+" is not a constructor or null"),zd(_,I);function N(){this.constructor=_}o(N,"__"),_[xc]=I===null?Gf(I):(N[xc]=I[xc],new N)}o(fg,"__extendsFn");var i1,Y4="constructor",Yf="prototype",O1="function",F3="_dynInstFuncs",J4="_isDynProxy",F1="_dynClass",X4="_dynCls$",Z4="_dynInstChk",Lu=Z4,M3="_dfOpts",Q4="_unknown_",U3="__proto__",M1="_dyn"+U3,cg="__dynProto$Gbl",eh="_dynInstProto",Gd="useBaseInst",Kd="setInstFuncs",q3=Object,Jf=q3.getPrototypeOf,j3=q3.getOwnPropertyNames,th=Tl(),Wd=th[cg]||(th[cg]={o:(i1={},i1[Kd]=!0,i1[Gd]=!0,i1),n:1e3});function rh(_){return _&&(_===q3[Yf]||_===Array[Yf])}o(rh,"_isObjectOrArrayPrototype");function $3(_){return rh(_)||_===Function[Yf]}o($3,"_isObjectArrayOrFunctionPrototype");function Bu(_){var I;if(_){if(Jf)return Jf(_);var N=_[U3]||_[Yf]||(_[Y4]?_[Y4][Yf]:null);I=_[M1]||N,F0(_,M1)||(delete _[eh],I=_[M1]=_[eh]||_[M1],_[eh]=N)}return I}o(Bu,"_getObjProto");function nh(_,I){var N=[];if(j3)N=j3(_);else for(var $ in _)typeof $=="string"&&F0(_,$)&&N.push($);if(N&&N.length>0)for(var ue=0;ue<N.length;ue++)I(N[ue])}o(nh,"_forEachProp");function ug(_,I,N){return I!==Y4&&typeof _[I]===O1&&(N||F0(_,I))&&I!==U3&&I!==Yf}o(ug,"_isDynamicCandidate");function ih(_){L0("DynamicProto: "+_)}o(ih,"_throwTypeError");function Wb(_){var I=Gf(null);return nh(_,function(N){!I[N]&&ug(_,N,!1)&&(I[N]=_[N])}),I}o(Wb,"_getInstanceFuncs");function H3(_,I){for(var N=_.length-1;N>=0;N--)if(_[N]===I)return!0;return!1}o(H3,"_hasVisited");function Yl(_,I,N,$){function ue(_0,B0,fr){var ki=B0[fr];if(ki[J4]&&$){var Ai=_0[F3]||{};Ai[Lu]!==!1&&(ki=(Ai[B0[F1]]||{})[fr]||ki)}return function(){return ki.apply(_0,arguments)}}o(ue,"_instFuncProxy");var vt=Gf(null);nh(N,function(_0){vt[_0]=ue(I,N,_0)});for(var r0=Bu(_),h0=[];r0&&!$3(r0)&&!H3(h0,r0);)nh(r0,function(_0){!vt[_0]&&ug(r0,_0,!Jf)&&(vt[_0]=ue(I,r0,_0))}),h0.push(r0),r0=Bu(r0);return vt}o(Yl,"_getBaseFuncs");function Yb(_,I,N,$){var ue=null;if(_&&F0(N,F1)){var vt=_[F3]||Gf(null);if(ue=(vt[N[F1]]||Gf(null))[I],ue||ih("Missing ["+I+"] "+O1),!ue[Z4]&&vt[Lu]!==!1){for(var r0=!F0(_,I),h0=Bu(_),_0=[];r0&&h0&&!$3(h0)&&!H3(_0,h0);){var B0=h0[I];if(B0){r0=B0===$;break}_0.push(h0),h0=Bu(h0)}try{r0&&(_[I]=ue),ue[Z4]=1}catch{vt[Lu]=!1}}}return ue}o(Yb,"_getInstFunc");function C7(_,I,N){var $=I[_];return $===N&&($=Bu(I)[_]),typeof $!==O1&&ih("["+_+"] is not a "+O1),$}o(C7,"_getProtoFunc");function E7(_,I,N,$,ue){function vt(_0,B0){var fr=o(function(){var ki=Yb(this,B0,_0,fr)||C7(B0,_0,fr);return ki.apply(this,arguments)},"dynProtoProxy");return fr[J4]=1,fr}if(o(vt,"_createDynamicPrototype"),!rh(_)){var r0=N[F3]=N[F3]||Gf(null);if(!rh(r0)){var h0=r0[I]=r0[I]||Gf(null);r0[Lu]!==!1&&(r0[Lu]=!!ue),rh(h0)||nh(N,function(_0){ug(N,_0,!1)&&N[_0]!==$[_0]&&(h0[_0]=N[_0],delete N[_0],(!F0(_,_0)||_[_0]&&!_[_0][J4])&&(_[_0]=vt(_,_0)))})}}}o(E7,"_populatePrototype");function V3(_,I){if(Jf){for(var N=[],$=Bu(I);$&&!$3($)&&!H3(N,$);){if($===_)return!0;N.push($),$=Bu($)}return!1}return!0}o(V3,"_checkPrototype");function z3(_,I){return F0(_,Yf)?_.name||I||Q4:((_||{})[Y4]||{}).name||I||Q4}o(z3,"_getObjName");function dg(_,I,N,$){F0(_,Yf)||ih("theClass is an invalid class definition.");var ue=_[Yf];V3(ue,I)||ih("["+z3(_)+"] not in hierarchy of ["+z3(I)+"]");var vt=null;F0(ue,F1)?vt=ue[F1]:(vt=X4+z3(_,"_")+"$"+Wd.n,Wd.n++,ue[F1]=vt);var r0=dg[M3],h0=!!r0[Gd];h0&&$&&$[Gd]!==void 0&&(h0=!!$[Gd]);var _0=Wb(I),B0=Yl(ue,I,_0,h0);N(I,B0);var fr=!!Jf&&!!r0[Kd];fr&&$&&(fr=!!$[Kd]),E7(ue,vt,I,_0,fr!==!1)}o(dg,"dynamicProto"),dg[M3]=Wd.o;var T7=void 0,ya="",U1="Not dynamic - ",hg=/-([a-z])/g,G3=/([^\w\d_$])/g,S7=/^(\d+[\w\d_$])/;function sh(_){return!l0(_)}o(sh,"isNotNullOrUndefined");function gg(_){var I=_;return I&&kt(I)&&(I=I[Hd](hg,function(N,$){return $.toUpperCase()}),I=I[Hd](G3,"_"),I=I[Hd](S7,function(N,$){return"_"+$})),I}o(gg,"normalizeJsName");function K3(_,I){return _&&I?A3(_,I)!==-1:!1}o(K3,"strContains");function W3(_){return _&&_.toISOString()||""}o(W3,"toISOString");function Wi(_){return b0(_)?_[z4]:ya}o(Wi,"getExceptionName");function oh(_){return function(){function I(){var N=this;_&&Se(_,function($,ue){N[$]=ue})}return o(I,"class_1"),I}()}o(oh,"createClassFromInterface");var ah="console",Y3="JSON",J3="crypto",Yd="msCrypto",s1="msie",_a="trident/",Jd=null,$s=null,Ou=null;function w7(){return typeof console!==_7?console:Ks(ah)}o(w7,"getConsole");function Fu(){return!!(typeof JSON===Kb&&JSON||Ks(Y3)!==null)}o(Fu,"hasJSON");function X3(){return Fu()?JSON||Ks(Y3):null}o(X3,"getJSON");function q1(){return Ks(J3)}o(q1,"getCrypto");function _c(){return Ks(Yd)}o(_c,"getMsCrypto");function Z3(){var _=Sl();if(_&&(_[p7]!==$s||Jd===null)){$s=_[p7];var I=($s||ya)[$d]();Jd=K3(I,s1)||K3(I,_a)}return Jd}o(Z3,"isIE");function I7(_){return(Ou===null||_===!1)&&(Ou=Zs()&&!!Sl().sendBeacon),Ou}o(I7,"isBeaconsSupported");function j1(_,I){if(_)for(var N=0;N<_[Ba];N++){var $=_[N];if($[z4]&&$[z4]===I)return $}return{}}o(j1,"_getNamedValue");function Xd(_){var I=zl();return I&&_?j1(I.querySelectorAll("meta"),_).content:null}o(Xd,"findMetaTag");function wl(_){var I,N=$4();if(N){var $=N.getEntriesByType("navigation")||[];I=j1(($[Ba]>0?$[0]:{}).serverTiming,_).description}return I}o(wl,"findNamedServerTiming");var mg=4294967296,Sf=4294967295,Q3=123456789,e2=987654321,Mu=!1,Zd=Q3,wf=e2;function lh(_){_<0&&(_>>>=0),Zd=Q3+_&Sf,wf=e2-_&Sf,Mu=!0}o(lh,"_mwcSeed");function A7(){try{var _=D1()&2147483647;lh((Math.random()*mg^_)+_)}catch{}}o(A7,"_autoSeedMwc");function P7(_){return _>0?Math.floor(Xf()/Sf*(_+1))>>>0:0}o(P7,"randomValue");function Xf(_){var I=0,N=q1()||_c();return N&&N.getRandomValues&&(I=N.getRandomValues(new Uint32Array(1))[0]&Sf),I===0&&Z3()&&(Mu||A7(),I=o1()&Sf),I===0&&(I=Math.floor(mg*Math.random()|0)),_||(I>>>=0),I}o(Xf,"random32");function o1(_){wf=36969*(wf&65535)+(wf>>16)&Sf,Zd=18e3*(Zd&65535)+(Zd>>16)&Sf;var I=(wf<<16)+(Zd&65535)>>>0&Sf|0;return _||(I>>>=0),I}o(o1,"mwcRandom32");function fh(_){_===void 0&&(_=22);for(var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=Xf()>>>0,$=0,ue=ya;ue[Ba]<_;)$++,ue+=I.charAt(N&63),N>>>=6,$===5&&(N=(Xf()<<2&4294967295|N&3)>>>0,$=0);return ue}o(fh,"newId");var Uu="3.0.5",Qd="."+fh(6),a1=0;function ch(_){return _[G4]===1||_[G4]===9||!+_[G4]}o(ch,"_canAcceptData");function t2(_,I){var N=I[_.id];if(!N){N={};try{ch(I)&&Zc(I,_.id,{e:!1,v:N})}catch{}}return N}o(t2,"_getCache");function Jl(_,I){return I===void 0&&(I=!1),gg(_+a1+++(I?"."+Uu:ya)+Qd)}o(Jl,"createUniqueNamespace");function r2(_){var I={id:Jl("_aiData-"+(_||ya)+"."+Uu),accept:function(N){return ch(N)},get:function(N,$,ue,vt){var r0=N[I.id];return r0?r0[gg($)]:(vt&&(r0=t2(I,N),r0[gg($)]=ue),ue)},kill:function(N,$){if(N&&N[$])try{delete N[$]}catch{}}};return I}o(r2,"createElmNodeData");function e5(_){return _&&de(_)&&(_.isVal||_.fb||y0(_,"v")||y0(_,"mrg")||y0(_,"ref")||_.set)}o(e5,"_isConfigDefaults");function t5(_,I,N){var $,ue=N.dfVal||N0;if(I&&N.fb){var vt=N.fb;Me(vt)||(vt=[vt]);for(var r0=0;r0<vt[Ba];r0++){var h0=vt[r0],_0=I[h0];if(ue(_0)?$=_0:_&&(_0=_.cfg[h0],ue(_0)&&($=_0),_.set(_.cfg,Os(h0),_0)),ue($))break}}return!ue($)&&ue(N.v)&&($=N.v),$}o(t5,"_getDefault");function n2(_,I,N){var $=N;if(N&&e5(N)&&($=t5(_,I,N)),$){e5($)&&($=n2(_,I,$));var ue;Me($)?(ue=[],ue[Ba]=$[Ba]):yc($)&&(ue={}),ue&&(Se($,function(vt,r0){r0&&e5(r0)&&(r0=n2(_,I,r0)),ue[vt]=r0}),$=ue)}return $}o(n2,"_resolveDefaultValue");function qu(_,I,N,$){var ue,vt,r0,h0=$,_0,B0,fr,ki;e5(h0)?(ue=h0.isVal,vt=h0.set,fr=h0[N3],ki=h0[R3],_0=h0.mrg,B0=h0.ref,!B0&&u0(B0)&&(B0=!!_0),r0=t5(_,I,h0)):r0=$,ki&&_[R3](I,N);var Ai,pn=!0,Pr=I[N];(Pr||!l0(Pr))&&(Ai=Pr,pn=!1,ue&&Ai!==r0&&!ue(Ai)&&(Ai=r0,pn=!0),vt&&(Ai=vt(Ai,r0,I),pn=Ai===r0)),pn?r0?Ai=n2(_,I,r0):Ai=r0:(yc(Ai)||Me(r0))&&_0&&r0&&(yc(r0)||Me(r0))&&Se(r0,function(Yi,ln){qu(_,Ai,Yi,ln)}),_.set(I,N,Ai),B0&&_.ref(I,N),fr&&_[N3](I,N)}o(qu,"_applyDefaultValue");var $1=Pu("[[ai_dynCfg_1]]"),bc=Pu("[[ai_blkDynCfg_1]]"),pg=Pu("[[ai_frcDynCfg_1]]");function uh(_){if(_){var I;if(Me(_)?(I=[],I[Ba]=_[Ba]):yc(_)&&(I={}),I)return Se(_,function(N,$){I[N]=uh($)}),I}return _}o(uh,"_cfgDeepCopy");function r5(_){if(_){var I=_[$1]||_;if(I.cfg&&(I.cfg===_||I.cfg[$1]===I))return I}return null}o(r5,"getDynamicConfigHandler");function Cc(_){if(_&&(yc(_)||Me(_)))try{_[bc]=!0}catch{}return _}o(Cc,"blockDynamicConversion");function i2(_,I,N){var $=!1;return N&&!_[I.blkVal]&&($=N[pg],!$&&!N[bc]&&($=yc(N)||Me(N))),$}o(i2,"_canMakeDynamic");function yg(_){L0("InvalidAccess:"+_)}o(yg,"throwInvalidAccess");var R7=["push","pop","shift","unshift","splice"],n5=o(function(_,I,N,$){_&&_[k3](3,108,"".concat(N," [").concat(I,"] failed - ")+Ue($))},"_throwDynamicError");function vg(_,I,N){Me(I)&&Gl(R7,function($){var ue=I[$];I[$]=function(){for(var vt=[],r0=0;r0<arguments.length;r0++)vt[r0]=arguments[r0];var h0=ue[sg](this,vt);return o2(_,I,N,"Patching"),h0}})}o(vg,"_patchArray");function dh(_,I){var N=H0(_,I);return N&&N.get}o(dh,"_getOwnPropGetter");function hh(_,I,N,$){var ue={n:N,h:[],trk:function(B0){B0&&B0.fn&&(k1(ue.h,B0)===-1&&ue.h[vc](B0),_.trk(B0,ue))},clr:function(B0){var fr=k1(ue.h,B0);fr!==-1&&ue.h[V4](fr,1)}},vt=!0,r0=!1;function h0(){vt&&(r0=r0||i2(h0,_,$),$&&!$[$1]&&r0&&($=o2(_,$,N,"Converting")),vt=!1);var B0=_.act;return B0&&ue.trk(B0),$}o(h0,"_getProperty"),h0[_.prop]={chng:function(){_.add(ue)}};function _0(B0){if($!==B0){h0[_.ro]&&!_.upd&&yg("["+N+"] is read-only:"+Ue(I)),vt&&(r0=r0||i2(h0,_,$),vt=!1);var fr=r0&&h0[_.rf];if(r0)if(fr){Se($,function(Ai){$[Ai]=B0?B0[Ai]:T7});try{Se(B0,function(Ai,pn){s2(_,$,Ai,pn)}),B0=$}catch(Ai){n5((_.hdlr||{})[Pa],N,"Assigning",Ai),r0=!1}}else $&&$[$1]&&Se($,function(Ai){var pn=dh($,Ai);if(pn){var Pr=pn[_.prop];Pr&&Pr.chng()}});if(B0!==$){var ki=B0&&i2(h0,_,B0);!fr&&ki&&(B0=o2(_,B0,N,"Converting")),$=B0,r0=ki}_.add(ue)}}o(_0,"_setProperty"),Zc(I,ue.n,{g:h0,s:_0})}o(hh,"_createDynamicProperty");function s2(_,I,N,$){if(I){var ue=dh(I,N),vt=ue&&!!ue[_.prop];vt?I[N]=$:hh(_,I,N,$)}return I}o(s2,"_setDynamicProperty");function xg(_,I,N,$){if(I){var ue=dh(I,N),vt=ue&&!!ue[_.prop],r0=$&&$[0],h0=$&&$[1],_0=$&&$[2];if(!vt){if(_0)try{Cc(I)}catch(B0){n5((_.hdlr||{})[Pa],N,"Blocking",B0)}try{s2(_,I,N,I[N]),ue=dh(I,N)}catch(B0){n5((_.hdlr||{})[Pa],N,"State",B0)}}r0&&(ue[_.rf]=r0),h0&&(ue[_.ro]=h0),_0&&(ue[_.blkVal]=!0)}return I}o(xg,"_setDynamicPropertyState");function o2(_,I,N,$){try{Se(I,function(ue,vt){s2(_,I,ue,vt)}),I[$1]||(Ef(I,$1,{get:function(){return _[Wl]}}),vg(_,I,N))}catch(ue){n5((_.hdlr||{})[Pa],N,$,ue)}return I}o(o2,"_makeDynamicObject");var i5="[[ai_",H1="]]";function Jb(_){var I,N=qd(i5+"get"+_.uid+H1),$=qd(i5+"ro"+_.uid+H1),ue=qd(i5+"rf"+_.uid+H1),vt=qd(i5+"blkVal"+_.uid+H1),r0=qd(i5+"dtl"+_.uid+H1),h0=null,_0=null,B0;function fr(Pr,Yi){var ln=B0.act;try{B0.act=Pr,Pr&&Pr[r0]&&(Gl(Pr[r0],function(ji){ji.clr(Pr)}),Pr[r0]=[]),Yi({cfg:_.cfg,set:_.set.bind(_),setDf:_[ng].bind(_),ref:_.ref.bind(_),rdOnly:_[N3].bind(_)})}catch(ji){var Ts=_[Pa];throw Ts&&Ts[k3](1,107,Ue(ji)),ji}finally{B0.act=ln||null}}o(fr,"_useHandler");function ki(){if(h0){var Pr=h0;h0=null,_0&&_0[zb](),_0=null;var Yi=[];if(Gl(Pr,function(ln){if(ln&&(ln[r0]&&(Gl(ln[r0],function(Ts){Ts.clr(ln)}),ln[r0]=null),ln.fn))try{fr(ln,ln.fn)}catch(Ts){Yi[vc](Ts)}}),h0)try{ki()}catch(ln){Yi[vc](ln)}Yi[Ba]>0&&lg("Watcher error(s): ",Yi)}}o(ki,"_notifyWatchers");function Ai(Pr){if(Pr&&Pr.h[Ba]>0){h0||(h0=[]),_0||(_0=Hb(function(){_0=null,ki()},0));for(var Yi=0;Yi<Pr.h[Ba];Yi++){var ln=Pr.h[Yi];ln&&k1(h0,ln)===-1&&h0[vc](ln)}}}o(Ai,"_addWatcher");function pn(Pr,Yi){if(Pr){var ln=Pr[r0]=Pr[r0]||[];k1(ln,Yi)===-1&&ln[vc](Yi)}}return o(pn,"_trackHandler"),B0=(I={prop:N,ro:$,rf:ue},I[R3]=vt,I[Wl]=_,I.add=Ai,I[rg]=ki,I.use=fr,I.trk=pn,I),B0}o(Jb,"_createState");function gh(_,I){var N={fn:I,rm:function(){N.fn=null,_=null,I=null}};return _.use(N,I),N}o(gh,"_createAndUseHandler");function N7(_,I,N){var $,ue=r5(I);if(ue)return ue;var vt=Jl("dyncfg",!0),r0=I&&N!==!1?I:uh(I),h0;function _0(){h0[rg]()}o(_0,"_notifyWatchers");function B0(Ts,ji,_n){try{Ts=s2(h0,Ts,ji,_n)}catch(ca){n5(_,ji,"Setting value",ca)}return Ts[ji]}o(B0,"_setValue");function fr(Ts){return gh(h0,Ts)}o(fr,"_watch");function ki(Ts,ji){h0.use(null,function(_n){var ca=h0.upd;try{u0(ji)||(h0.upd=ji),Ts(_n)}finally{h0.upd=ca}})}o(ki,"_block");function Ai(Ts,ji){var _n;return xg(h0,Ts,ji,(_n={},_n[0]=!0,_n))[ji]}o(Ai,"_ref");function pn(Ts,ji){var _n;return xg(h0,Ts,ji,(_n={},_n[1]=!0,_n))[ji]}o(pn,"_rdOnly");function Pr(Ts,ji){var _n;return xg(h0,Ts,ji,(_n={},_n[2]=!0,_n))[ji]}o(Pr,"_blkPropValue");function Yi(Ts,ji){return ji&&Se(ji,function(_n,ca){qu(ln,Ts,_n,ca)}),Ts}o(Yi,"_applyDefaults");var ln=($={uid:null,cfg:r0},$[Pa]=_,$[rg]=_0,$.set=B0,$[ng]=Yi,$[ig]=fr,$.ref=Ai,$[N3]=pn,$[R3]=Pr,$._block=ki,$);return Zc(ln,"uid",{c:!1,e:!1,w:!1,v:vt}),h0=Jb(ln),o2(h0,r0,"config","Creating"),ln}o(N7,"_createDynamicHandler");function Xb(_,I){_?(_[B1](I),_[k3](2,108,I)):yg(I)}o(Xb,"_logInvalidAccess");function k7(_,I,N,$){var ue=N7(N,_||{},$);return I&&ue[ng](ue.cfg,I),ue}o(k7,"createDynamicConfig");function mh(_,I,N){var $=_[$1]||_;return $.cfg&&($.cfg===_||$.cfg[$1]===$)?$[ig](I):(Xb(N,U1+Ue(_)),k7(_,null,N)[ig](I))}o(mh,"onConfigChange");var a2=null;function Zb(){var _=Ks("Microsoft");return _&&(a2=_.ApplicationInsights),a2}o(Zb,"_getExtensionNamespace");function Qb(_){var I=a2;return!I&&_.disableDbgExt!==!0&&(I=a2||Zb()),I?I.ChromeDbgExt:null}o(Qb,"getDebugExt");var s5,D7="warnToConsole",L7="AI (Internal): ",_g="AI: ",eC="AITR_",bg={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},o5=(s5={},s5[0]=null,s5[1]="errorToConsole",s5[2]=D7,s5[3]="debugToConsole",s5);function B7(_){return _?'"'+_[Hd](/\"/g,ya)+'"':ya}o(B7,"_sanitizeDiagnosticText");function If(_,I){var N=w7();if(N){var $="log";N[_]&&($=_),o0(N[$])&&N[$](I)}}o(If,"_logToConsole");var xs=function(){function _(I,N,$,ue){$===void 0&&($=!1);var vt=this;vt[og]=I,vt[L3]=($?_g:L7)+I;var r0=ya;Fu()&&(r0=X3().stringify(ue));var h0=(N?" message:"+B7(N):ya)+(ue?" props:"+B7(r0):ya);vt[L3]+=h0}return o(_,"_InternalLogMessage"),_.dataType="MessageData",_}();function ju(_,I){return(_||{})[Pa]||new ba(I)}o(ju,"safeGetLogger");var ba=function(){function _(I){this.identifier="DiagnosticLogger",this.queue=[];var N=0,$={},ue,vt,r0,h0,_0;dg(_,this,function(B0){_0=ki(I||{}),B0.consoleLoggingLevel=function(){return ue},B0[k3]=function(Pr,Yi,ln,Ts,ji){ji===void 0&&(ji=!1);var _n=new xs(Yi,ln,ji,Ts);if(h0)throw Ue(_n);var ca=o5[Pr]||D7;if(u0(_n[L3]))pn("throw"+(Pr===1?"Critical":"Warning"),_n);else{if(ji){var A5=+_n[og];!$[A5]&&ue>=Pr&&(B0[ca](_n[L3]),$[A5]=!0)}else ue>=Pr&&B0[ca](_n[L3]);fr(Pr,_n)}},B0.debugToConsole=function(Pr){If("debug",Pr),pn("warning",Pr)},B0[B1]=function(Pr){If("warn",Pr),pn("warning",Pr)},B0.errorToConsole=function(Pr){If("error",Pr),pn("error",Pr)},B0.resetInternalMessageCount=function(){N=0,$={}},B0[y7]=fr,B0[Gb]=function(Pr){_0&&_0.rm(),_0=null};function fr(Pr,Yi){if(!Ai()){var ln=!0,Ts=eC+Yi[og];if($[Ts]?ln=!1:$[Ts]=!0,ln&&(Pr<=vt&&(B0.queue[vc](Yi),N++,pn(Pr===1?"error":"warn",Yi)),N===r0)){var ji="Internal events throttle limit per PageView reached for this app.",_n=new xs(23,ji,!1);B0.queue[vc](_n),Pr===1?B0.errorToConsole(ji):B0[B1](ji)}}}o(fr,"_logInternalMessage");function ki(Pr){return mh(k7(Pr,bg,B0).cfg,function(Yi){var ln=Yi.cfg;ue=ln[g7],vt=ln.loggingLevelTelemetry,r0=ln.maxMessageLimit,h0=ln.enableDebug})}o(ki,"_setDefaultsFromConfig");function Ai(){return N>=r0}o(Ai,"_areInternalMessagesThrottled");function pn(Pr,Yi){var ln=Qb(I||{});ln&&ln[m7]&&ln[m7](Pr,Yi)}o(pn,"_debugExtMsg")})}return o(_,"DiagnosticLogger"),_.__ieDyn=1,_}();function Cg(_){return _||new ba}o(Cg,"_getLogger");function Il(_,I,N,$,ue,vt){vt===void 0&&(vt=!1),Cg(_)[k3](I,N,$,ue,vt)}o(Il,"_throwInternal");function $u(){for(var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],I=ya,N,$=0;$<4;$++)N=Xf(),I+=_[N&15]+_[N>>4&15]+_[N>>8&15]+_[N>>12&15]+_[N>>16&15]+_[N>>20&15]+_[N>>24&15]+_[N>>28&15];var ue=_[8+(Xf()&3)|0];return ks(I,0,8)+ks(I,9,4)+"4"+ks(I,13,3)+ue+ks(I,16,3)+ks(I,19,12)}o($u,"generateW3CId");var a5=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Af="00",l5="ff",Hu="00000000000000000000000000000000",V1="0000000000000000",l2=1;function Al(_,I,N){return _&&_[Ba]===I&&_!==N?!!_.match(/^[\da-f]*$/i):!1}o(Al,"_isValid");function f2(_,I,N){return Al(_,I)?_:N}o(f2,"_formatValue");function ph(_){(isNaN(_)||_<0||_>255)&&(_=1);for(var I=_.toString(16);I[Ba]<2;)I="0"+I;return I}o(ph,"_formatFlags");function Eg(_,I,N,$){var ue;return ue={},ue[D3]=Al($,2,l5)?$:Af,ue[v7]=Sg(_)?_:$u(),ue[Vd]=wg(I)?I:Us($u(),16),ue.traceFlags=N>=0&&N<=255?N:1,ue}o(Eg,"createTraceParent");function Tg(_,I){var N;if(!_||(Me(_)&&(_=_[0]||""),!_||!kt(_)||_[Ba]>8192))return null;if(_.indexOf(",")!==-1){var $=_[ag](",");_=$[I>0&&$[Ba]>I?I:0]}var ue=a5.exec(Kf(_));return!ue||ue[1]===l5||ue[2]===Hu||ue[3]===V1?null:(N={version:(ue[1]||ya)[$d](),traceId:(ue[2]||ya)[$d](),spanId:(ue[3]||ya)[$d]()},N[ku]=parseInt(ue[4],16),N)}o(Tg,"parseTraceParent");function Sg(_){return Al(_,32,Hu)}o(Sg,"isValidTraceId");function wg(_){return Al(_,16,V1)}o(wg,"isValidSpanId");function O7(_){return!(!_||!Al(_[D3],2,l5)||!Al(_[v7],32,Hu)||!Al(_[Vd],16,V1)||!Al(ph(_[ku]),2))}o(O7,"isValidTraceParent");function Ig(_){return O7(_)?(_[ku]&l2)===l2:!1}o(Ig,"isSampledFlag");function Ag(_){if(_){var I=ph(_[ku]);Al(I,2)||(I="01");var N=_[D3]||Af;return N!=="00"&&N!=="ff"&&(N=Af),"".concat(N.toLowerCase(),"-").concat(f2(_.traceId,32,Hu).toLowerCase(),"-").concat(f2(_.spanId,16,V1).toLowerCase(),"-").concat(I.toLowerCase())}return""}o(Ag,"formatTraceParent");function sl(_){var I="traceparent",N=Tg(Xd(I),_);return N||(N=Tg(wl(I),_)),N}o(sl,"findW3cTraceParent");var c2="on",Pl="attachEvent",z1="addEventListener",F7="detachEvent",M7="removeEventListener",f5="events";Jl("aiEvtPageHide"),Jl("aiEvtPageShow");var Pg=/\.[\.]+/g,tC=/[\.]+$/,U7=1,u2=r2("events"),rC=/^([^.]*)(?:\.(.+)|)/;function q7(_){return _&&_[Hd]?_[Hd](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ya):_}o(q7,"_normalizeNamespace");function Rg(_,I){var N;if(I){var $=ya;Me(I)?($=ya,Gl(I,function(vt){vt=q7(vt),vt&&(vt[0]!=="."&&(vt="."+vt),$+=vt)})):$=q7(I),$&&($[0]!=="."&&($="."+$),_=(_||ya)+$)}var ue=rC.exec(_||ya)||[];return N={},N[r1]=ue[1],N.ns=(ue[2]||ya).replace(Pg,".").replace(tC,ya)[ag](".").sort().join("."),N}o(Rg,"_getEvtNamespace");function Ng(_,I,N){N===void 0&&(N=!0);var $=u2.get(_,f5,{},N),ue=$[I];return ue||(ue=$[I]=[]),ue}o(Ng,"_getRegisteredEvents");function j7(_,I,N,$){_&&I&&I[r1]&&(_[M7]?_[M7](I[r1],N,$):_[F7]&&_[F7](c2+I[r1],N))}o(j7,"_doDetach");function nC(_,I,N,$){var ue=!1;return _&&I&&I[r1]&&N&&(_[z1]?(_[z1](I[r1],N,$),ue=!0):_[Pl]&&(_[Pl](c2+I[r1],N),ue=!0)),ue}o(nC,"_doAttach");function yh(_,I,N,$){for(var ue=I[Ba];ue--;){var vt=I[ue];vt&&(!N.ns||N.ns===vt.evtName.ns)&&(!$||$(vt))&&(j7(_,vt.evtName,vt[K4],vt.capture),I[V4](ue,1))}}o(yh,"_doUnregister");function kg(_,I,N){if(I[r1])yh(_,Ng(_,I[r1]),I,N);else{var $=u2.get(_,f5,{});Se($,function(ue,vt){yh(_,vt,I,N)}),Mr($)[Ba]===0&&u2.kill(_,f5)}}o(kg,"_unregisterEvents");function $7(_,I){var N;return I?(Me(I)?N=[_].concat(I):N=[_,I],N=Rg("xx",N).ns[ag](".")):N=_,N}o($7,"mergeEvtNamespace");function vh(_,I,N,$,ue){var vt;ue===void 0&&(ue=!1);var r0=!1;if(_)try{var h0=Rg(I,$);if(r0=nC(_,h0,N,ue),r0&&u2.accept(_)){var _0=(vt={guid:U7++,evtName:h0},vt[K4]=N,vt.capture=ue,vt);Ng(_,h0.type)[vc](_0)}}catch{}return r0}o(vh,"eventOn");function Dg(_,I,N,$,ue){if(ue===void 0&&(ue=!1),_)try{var vt=Rg(I,$),r0=!1;kg(_,vt,function(h0){return vt.ns&&!N||h0[K4]===N?(r0=!0,!0):!1}),r0||j7(_,vt,N,ue)}catch{}}o(Dg,"eventOff");var iC="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",c5="sampleRate",Lg="ProcessLegacy",H7="http.method",Bg="https://dc.services.visualstudio.com",xh="/v2/track",df="not_specified",Ec="iKey",V7=Vb({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),u5="split",Ri="length",d5="toLowerCase",Tc="ingestionendpoint",Vu="toString",d2="push",_h="removeItem",Pf="name",Xl="message",zu="count",bh="preTriggerDate",Ch="disabled",Gu="interval",h5="daysOfMonth",Og="date",Fg="getUTCDate",h2="stringify",Eh="pathname",z7="correlationHeaderExcludePatterns",g2="extensionConfig",g5="exceptions",Zf="parsedStack",Qf="properties",l1="measurements",Rf="sizeInBytes",Sc="typeName",G1="severityLevel",Th="problemGroup",m2="isManual",Sh="CreateFromInterface",hf="assembly",K1="fileName",wh="hasFullStack",p2="level",m5="method",y2="line",p5="duration",Mg="receivedResponse";function Ug(_,I,N){var $=I[Ri],ue=y5(_,I);if(ue[Ri]!==$){for(var vt=0,r0=ue;N[r0]!==void 0;)vt++,r0=cn(ue,0,147)+G7(vt);ue=r0}return ue}o(Ug,"dataSanitizeKeyAndAddUniqueness");function y5(_,I){var N;return I&&(I=Kf(Os(I)),I[Ri]>150&&(N=cn(I,0,150),Il(_,2,57,"name is too long.  It has been truncated to 150 characters.",{name:I},!0))),N||I}o(y5,"dataSanitizeKey");function ol(_,I,N){N===void 0&&(N=1024);var $;return I&&(N=N||1024,I=Kf(Os(I)),I[Ri]>N&&($=cn(I,0,N),Il(_,2,61,"string value is too long. It has been truncated to "+N+" characters.",{value:I},!0))),$||I}o(ol,"dataSanitizeString");function Ku(_,I){return Wu(_,I,2048,66)}o(Ku,"dataSanitizeUrl");function qg(_,I){var N;return I&&I[Ri]>32768&&(N=cn(I,0,32768),Il(_,2,56,"message is too long, it has been truncated to 32768 characters.",{message:I},!0)),N||I}o(qg,"dataSanitizeMessage");function v2(_,I){var N;if(I){var $=""+I;$[Ri]>32768&&(N=cn($,0,32768),Il(_,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:I},!0))}return N||I}o(v2,"dataSanitizeException");function wc(_,I){if(I){var N={};Se(I,function($,ue){if(de(ue)&&Fu())try{ue=X3()[h2](ue)}catch(vt){Il(_,2,49,"custom property is not valid",{exception:vt},!0)}ue=ol(_,ue,8192),$=Ug(_,$,N),N[$]=ue}),I=N}return I}o(wc,"dataSanitizeProperties");function ec(_,I){if(I){var N={};Se(I,function($,ue){$=Ug(_,$,N),N[$]=ue}),I=N}return I}o(ec,"dataSanitizeMeasurements");function v5(_,I){return I&&Wu(_,I,128,69)[Vu]()}o(v5,"dataSanitizeId");function Wu(_,I,N,$){var ue;return I&&(I=Kf(Os(I)),I[Ri]>N&&(ue=cn(I,0,N),Il(_,2,$,"input is too long, it has been truncated to "+N+" characters.",{data:I},!0))),ue||I}o(Wu,"dataSanitizeInput");function G7(_){var I="00"+_;return ks(I,I[Ri]-3)}o(G7,"dsPadNumber");var K7=zl()||{},W7=0,sC=[null,null,null,null,null];function al(_){var I=W7,N=sC,$=N[I];return K7.createElement?N[I]||($=N[I]=K7.createElement("a")):$={host:J7(_,!0)},$.href=_,I++,I>=N[Ri]&&(I=0),W7=I,$}o(al,"urlParseUrl");function x5(_){var I,N=al(_);return N&&(I=N.href),I}o(x5,"urlGetAbsoluteUrl");function _5(_){var I,N=al(_);return N&&(I=N[Eh]),I}o(_5,"urlGetPathName");function Y7(_,I){return _?_.toUpperCase()+" "+I:I}o(Y7,"urlGetCompleteUrl");function J7(_,I){var N=jg(_,I)||"";if(N){var $=N.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if($!=null&&$[Ri]>3&&kt($[2])&&$[2][Ri]>0)return $[2]+($[3]||"")}return N}o(J7,"urlParseHost");function jg(_,I){var N=null;if(_){var $=_.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if($!=null&&$[Ri]>2&&kt($[2])&&$[2][Ri]>0&&(N=$[2]||"",I&&$[Ri]>2)){var ue=($[1]||"")[d5](),vt=$[3]||"";(ue==="http"&&vt===":80"||ue==="https"&&vt===":443")&&(vt=""),N+=vt}}return N}o(jg,"urlParseFullHost");var oC=[Bg+xh,"https://breeze.aimon.applicationinsights.io"+xh,"https://dc-int.services.visualstudio.com"+xh],x2="cid-v1:";function Ic(_){return k1(oC,_[d5]())!==-1}o(Ic,"isInternalApplicationInsightsEndpoint");function $g(_){x2=_}o($g,"correlationIdSetPrefix");function Ih(){return x2}o(Ih,"correlationIdGetPrefix");function Ah(_,I,N){if(!I||_&&_.disableCorrelationHeaders)return!1;if(_&&_[z7]){for(var $=0;$<_.correlationHeaderExcludePatterns[Ri];$++)if(_[z7][$].test(I))return!1}var ue=al(I).host[d5]();if(ue&&(A3(ue,":443")!==-1||A3(ue,":80")!==-1)&&(ue=(jg(I,!0)||"")[d5]()),(!_||!_.enableCorsCorrelation)&&ue&&ue!==N)return!1;var vt=_&&_.correlationHeaderDomains;if(vt){var r0;if(Gl(vt,function(B0){var fr=new RegExp(B0.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));r0=r0||fr.test(ue)}),!r0)return!1}var h0=_&&_.correlationHeaderExcludedDomains;if(!h0||h0[Ri]===0)return!0;for(var $=0;$<h0[Ri];$++){var _0=new RegExp(h0[$].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(_0.test(ue))return!1}return ue&&ue[Ri]>0}o(Ah,"correlationIdCanIncludeCorrelationHeader");function aC(_){if(_){var I=X7(_,V7[1]);if(I&&I!==x2)return I}}o(aC,"correlationIdGetCorrelationContext");function X7(_,I){if(_)for(var N=_[u5](","),$=0;$<N[Ri];++$){var ue=N[$][u5]("=");if(ue[Ri]===2&&ue[0]===I)return ue[1]}}o(X7,"correlationIdGetCorrelationContextValue");function Z7(_,I,N,$){var ue,vt=$,r0=$;if(I&&I[Ri]>0){var h0=al(I);if(ue=h0.host,!vt)if(h0[Eh]!=null){var _0=h0.pathname[Ri]===0?"/":h0[Eh];_0.charAt(0)!=="/"&&(_0="/"+_0),r0=h0[Eh],vt=ol(_,N?N+" "+_0:_0)}else vt=ol(_,I)}else ue=$,vt=$;return{target:ue,name:vt,data:r0}}o(Z7,"AjaxHelperParseDependencyPath");function lC(){var _=$4();if(_&&_.now&&_.timing){var I=_.now()+_.timing.navigationStart;if(I>0)return I}return D1()}o(lC,"dateTimeUtilsNow");function b5(_,I){var N=null;return _!==0&&I!==0&&!l0(_)&&!l0(I)&&(N=I-_),N}o(b5,"dateTimeUtilsDuration");function Q7(_,I){var N=_||{};return{getName:function(){return N[Pf]},setName:function($){I&&I.setName($),N[Pf]=$},getTraceId:function(){return N.traceID},setTraceId:function($){I&&I.setTraceId($),Sg($)&&(N.traceID=$)},getSpanId:function(){return N.parentID},setSpanId:function($){I&&I.setSpanId($),wg($)&&(N.parentID=$)},getTraceFlags:function(){return N.traceFlags},setTraceFlags:function($){I&&I.setTraceFlags($),N.traceFlags=$}}}o(Q7,"createDistributedTraceContextFromTrace");var _2=Wf({LocalStorage:0,SessionStorage:1}),fC=Wf({AI:0,AI_AND_W3C:1,W3C:2}),cC=Wf({Normal:1,Critical:2}),W1=void 0,Y1=void 0,Hg="";function b2(){return E5()?C5(_2.LocalStorage):null}o(b2,"_getLocalStorageObject");function C5(_){try{if(l0(Tl()))return null;var I=new Date()[Vu](),N=Ks(_===_2.LocalStorage?"localStorage":"sessionStorage"),$=Hg+I;N.setItem($,I);var ue=N.getItem($)!==I;if(N[_h]($),!ue)return N}catch{}return null}o(C5,"_getVerifiedStorageObject");function C2(){return E2()?C5(_2.SessionStorage):null}o(C2,"_getSessionStorageObject");function Ph(){W1=!1,Y1=!1}o(Ph,"utlDisableStorage");function ep(_){Hg=_||""}o(ep,"utlSetStoragePrefix");function jr(){W1=E5(!0),Y1=E2(!0)}o(jr,"utlEnableStorage");function E5(_){return(_||W1===void 0)&&(W1=!!C5(_2.LocalStorage)),W1}o(E5,"utlCanUseLocalStorage");function Rh(_,I){var N=b2();if(N!==null)try{return N.getItem(I)}catch($){W1=!1,Il(_,2,1,"Browser failed read of local storage. "+Wi($),{exception:Ue($)})}return null}o(Rh,"utlGetLocalStorage");function J1(_,I,N){var $=b2();if($!==null)try{return $.setItem(I,N),!0}catch(ue){W1=!1,Il(_,2,3,"Browser failed write to local storage. "+Wi(ue),{exception:Ue(ue)})}return!1}o(J1,"utlSetLocalStorage");function tp(_,I){var N=b2();if(N!==null)try{return N[_h](I),!0}catch($){W1=!1,Il(_,2,5,"Browser failed removal of local storage item. "+Wi($),{exception:Ue($)})}return!1}o(tp,"utlRemoveStorage");function E2(_){return(_||Y1===void 0)&&(Y1=!!C5(_2.SessionStorage)),Y1}o(E2,"utlCanUseSessionStorage");function Vg(){var _=[];return E2()&&Se(Ks("sessionStorage"),function(I){_[d2](I)}),_}o(Vg,"utlGetSessionStorageKeys");function zg(_,I){var N=C2();if(N!==null)try{return N.getItem(I)}catch($){Y1=!1,Il(_,2,2,"Browser failed read of session storage. "+Wi($),{exception:Ue($)})}return null}o(zg,"utlGetSessionStorage");function rp(_,I,N){var $=C2();if($!==null)try{return $.setItem(I,N),!0}catch(ue){Y1=!1,Il(_,2,4,"Browser failed write to session storage. "+Wi(ue),{exception:Ue(ue)})}return!1}o(rp,"utlSetSessionStorage");function Gg(_,I){var N=C2();if(N!==null)try{return N[_h](I),!0}catch($){Y1=!1,Il(_,2,6,"Browser failed removal of session storage item. "+Wi($),{exception:Ue($)})}return!1}o(Gg,"utlRemoveSessionStorage");var np="appInsightsThrottle",Nh=function(){function _(I,N){var $=this,ue,vt,r0,h0,_0,B0,fr,ki=!1,Ai=!1;Pr(),$._getDbgPlgTargets=function(){return[fr]},$.getConfig=function(){return r0},$.canThrottle=function(K0){var Lr=Lh(K0),Di=Yi(K0);return ji(Di,ue,Lr)},$.isTriggered=function(K0){return mp(K0)},$.isReady=function(){return ki},$.flush=function(K0){try{var Lr=cm(K0);if(Lr&&Lr[Ri]>0){var Di=Lr.slice(0);return fr[K0]=[],Gl(Di,function(Qs){pn(Qs.msgID,Qs[Xl],Qs.severity,!1)}),!0}}catch{}return!1},$.flushAll=function(){try{if(fr){var K0=!0;return Se(fr,function(Lr){var Di=$.flush(parseInt(Lr));K0=K0&&Di}),K0}}catch{}return!1},$.onReadyState=function(K0,Lr){return Lr===void 0&&(Lr=!0),ki=l0(K0)?!0:K0,ki&&Lr?$.flushAll():null},$.sendMessage=function(K0,Lr,Di){return pn(K0,Lr,Di,!0)};function pn(K0,Lr,Di,Qs){if(ki){var Ra=gp(K0);if(!Ra)return;var Ea=Yi(K0),Ta=Lh(K0),Zu=ji(Ea,ue,Ta),d1=!1,h1=0,ru=mp(K0);try{Zu&&!ru?(h1=Math.min(Ea.limit.maxSendNumber,Ta[zu]+1),Ta[zu]=0,d1=!0,_0[K0]=!0,Ta[bh]=new Date):(_0[K0]=Zu,Ta[zu]+=1);var P5=_n(K0);hp(vt,P5,Ta);for(var w2=0;w2<h1;w2++)fm(K0,vt,Lr,Di)}catch{}return{isThrottled:d1,throttleNum:h1}}else if(Qs){var bs=cm(K0);bs[d2]({msgID:K0,message:Lr,severity:Di})}return null}o(pn,"_flushMessage");function Pr(){vt=ju(I),_0={},h0={},fr={},r0={},ln(109),B0=sh(N)?N:"",I.addUnloadHook(mh(I.config,function(K0){var Lr=K0.cfg;ue=E5();var Di=Lr.throttleMgrCfg||{};Se(Di,function(Qs,Ra){ln(parseInt(Qs),Ra)})}))}o(Pr,"_initConfig");function Yi(K0){return r0[K0]||r0[109]}o(Yi,"_getCfgByKey");function ln(K0,Lr){var Di,Qs;try{var Ra=Lr||{},Ea={};Ea[Ch]=!!Ra[Ch];var Ta=Ra[Gu]||{};Ai=(Ta==null?void 0:Ta.daysOfMonth)&&(Ta==null?void 0:Ta.daysOfMonth[Ri])>0,Ea[Gu]=Ts(Ta);var Zu={samplingRate:((Di=Ra.limit)===null||Di===void 0?void 0:Di.samplingRate)||100,maxSendNumber:((Qs=Ra.limit)===null||Qs===void 0?void 0:Qs.maxSendNumber)||1};Ea.limit=Zu,r0[K0]=Ea}catch{}}o(ln,"_setCfgByKey");function Ts(K0){K0=K0||{};var Lr=K0==null?void 0:K0.monthInterval,Di=K0==null?void 0:K0.dayInterval;return l0(Lr)&&l0(Di)&&(K0.monthInterval=3,Ai||(K0[h5]=[28],Ai=!0)),K0={monthInterval:K0==null?void 0:K0.monthInterval,dayInterval:K0==null?void 0:K0.dayInterval,daysOfMonth:K0==null?void 0:K0.daysOfMonth},K0}o(Ts,"_getIntervalConfig");function ji(K0,Lr,Di){if(K0&&!K0[Ch]&&Lr&&sh(Di)){var Qs=tu(),Ra=Di[Og],Ea=K0[Gu],Ta=1;if(Ea!=null&&Ea.monthInterval){var Zu=(Qs.getUTCFullYear()-Ra.getUTCFullYear())*12+Qs.getUTCMonth()-Ra.getUTCMonth();Ta=lm(Ea.monthInterval,0,Zu)}var d1=1;if(Ai)d1=k1(Ea[h5],Qs[Fg]());else if(Ea!=null&&Ea.dayInterval){var h1=Math.floor((Qs.getTime()-Ra.getTime())/864e5);d1=lm(Ea.dayInterval,0,h1)}return Ta>=0&&d1>=0}return!1}o(ji,"_canThrottle");function _n(K0,Lr){var Di=sh(Lr)?Lr:"";return K0?np+Di+"-"+K0:null}o(_n,"_getLocalStorageName");function ca(K0){try{if(K0){var Lr=new Date;return K0.getUTCFullYear()===Lr.getUTCFullYear()&&K0.getUTCMonth()===Lr.getUTCMonth()&&K0[Fg]()===Lr[Fg]()}}catch{}return!1}o(ca,"_isTriggeredOnCurDate");function A5(K0,Lr,Di){try{var Qs={date:tu(),count:0};if(K0){var Ra=JSON.parse(K0),Ea={date:tu(Ra[Og])||Qs[Og],count:Ra[zu]||Qs[zu],preTriggerDate:Ra.preTriggerDate?tu(Ra[bh]):void 0};return Ea}else return hp(Lr,Di,Qs),Qs}catch{}return null}o(A5,"_getLocalStorageObj");function tu(K0){try{if(K0){var Lr=new Date(K0);if(!isNaN(Lr.getDate()))return Lr}else return new Date}catch{}return null}o(tu,"_getThrottleDate");function hp(K0,Lr,Di){try{return J1(K0,Lr,Kf(JSON[h2](Di)))}catch{}return!1}o(hp,"_resetLocalStorage");function lm(K0,Lr,Di){return K0<=0?1:Di>=Lr&&(Di-Lr)%K0==0?Math.floor((Di-Lr)/K0)+1:-1}o(lm,"_checkInterval");function fm(K0,Lr,Di,Qs){Il(Lr,Qs||1,K0,Di)}o(fm,"_sendMessage");function gp(K0){try{var Lr=Yi(K0);return P7(1e6)<=Lr.limit.samplingRate}catch{}return!1}o(gp,"_canSampledIn");function Lh(K0){try{var Lr=h0[K0];if(!Lr){var Di=_n(K0,B0);Lr=A5(Rh(vt,Di),vt,Di),h0[K0]=Lr}return h0[K0]}catch{}return null}o(Lh,"_getLocalStorageObjByKey");function mp(K0){var Lr=_0[K0];if(l0(Lr)){Lr=!1;var Di=Lh(K0);Di&&(Lr=ca(Di[bh])),_0[K0]=Lr}return _0[K0]}o(mp,"_isTrigger");function cm(K0){return fr=fr||{},l0(fr[K0])&&(fr[K0]=[]),fr[K0]}o(cm,"_getQueueByKey")}return o(_,"ThrottleMgr"),_}(),Kg=";",ip="=";function tc(_){if(!_)return{};var I=_[u5](Kg),N=J6(I,function(ue,vt){var r0=vt[u5](ip);if(r0[Ri]===2){var h0=r0[0][d5](),_0=r0[1];ue[h0]=_0}return ue},{});if(Mr(N)[Ri]>0){if(N.endpointsuffix){var $=N.location?N.location+".":"";N[Tc]=N[Tc]||"https://"+$+"dc."+N.endpointsuffix}N[Tc]=N[Tc]||Bg,$b(N[Tc],"/")&&(N[Tc]=N[Tc].slice(0,-1))}return N}o(tc,"parseConnectionString");var sp={parse:tc},op=function(){function _(I,N,$){var ue=this,vt=this;vt.ver=1,vt.sampleRate=100,vt.tags={},vt[Pf]=ol(I,$)||df,vt.data=N,vt.time=W3(new Date),vt.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ue.sampleRate===100?4:1},tags:1,data:1}}return o(_,"Envelope"),_}(),uC=function(){function _(I,N,$,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var vt=this;vt.ver=2,vt[Pf]=ol(I,N)||df,vt[Qf]=wc(I,$),vt[l1]=ec(I,ue)}return o(_,"Event"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Event",_.dataType="EventData",_}(),Wg="<no_method>",f1="error",Rl="stack",Yg="stackDetails",Jg="errorSrc",Xg="message",Zg="description";function kh(_,I){var N=_;return N&&!kt(N)&&(JSON&&JSON[h2]?(N=JSON[h2](_),I&&(!N||N==="{}")&&(o0(_[Vu])?N=_[Vu]():N=""+_)):N=""+_+" - (Missing JSON.stringify)"),N||""}o(kh,"_stringify");function Qg(_,I){var N=_;return _&&(N&&!kt(N)&&(N=_[Xg]||_[Zg]||N),N&&!kt(N)&&(N=kh(N,!0)),_.filename&&(N=N+" @"+(_.filename||"")+":"+(_.lineno||"?")+":"+(_.colno||"?"))),I&&I!=="String"&&I!=="Object"&&I!=="Error"&&A3(N||"",I)===-1&&(N=I+": "+N),N||""}o(Qg,"_formatMessage");function ap(_){try{if(de(_))return"hasFullStack"in _&&"typeName"in _}catch{}return!1}o(ap,"_isExceptionDetailsInternal");function dC(_){try{if(de(_))return"ver"in _&&"exceptions"in _&&"properties"in _}catch{}return!1}o(dC,"_isExceptionInternal");function em(_){return _&&_.src&&kt(_.src)&&_.obj&&Me(_.obj)}o(em,"_isStackDetails");function Yu(_){var I=_||"";kt(I)||(kt(I[Rl])?I=I[Rl]:I=""+I);var N=I[u5](`
`);return{src:I,obj:N}}o(Yu,"_convertStackObj");function hC(_){for(var I=[],N=_[u5](`
`),$=0;$<N[Ri];$++){var ue=N[$];N[$+1]&&(ue+="@"+N[$+1],$++),I[d2](ue)}return{src:_,obj:I}}o(hC,"_getOperaStack");function T5(_){var I=null;if(_)try{if(_[Rl])I=Yu(_[Rl]);else if(_[f1]&&_[f1][Rl])I=Yu(_[f1][Rl]);else if(_.exception&&_.exception[Rl])I=Yu(_.exception[Rl]);else if(em(_))I=_;else if(em(_[Yg]))I=_[Yg];else if(js()&&js().opera&&_[Xg])I=hC(_[Xl]);else if(_.reason&&_.reason[Rl])I=Yu(_.reason[Rl]);else if(kt(_))I=Yu(_);else{var N=_[Xg]||_[Zg]||"";kt(_[Jg])&&(N&&(N+=`
`),N+=" from "+_[Jg]),N&&(I=Yu(N))}}catch($){I=Yu($)}return I||{src:"",obj:null}}o(T5,"_getStackFromErrorObj");function gC(_){var I="";return _&&(_.obj?Gl(_.obj,function(N){I+=N+`
`}):I=_.src||""),I}o(gC,"_formatStackTrace");function S5(_){var I,N=_.obj;if(N&&N[Ri]>0){I=[];var $=0,ue=0;Gl(N,function(Pr){var Yi=Pr[Vu]();if(tm.regex.test(Yi)){var ln=new tm(Yi,$++);ue+=ln[Rf],I[d2](ln)}});var vt=32*1024;if(ue>vt)for(var r0=0,h0=I[Ri]-1,_0=0,B0=r0,fr=h0;r0<h0;){var ki=I[r0][Rf],Ai=I[h0][Rf];if(_0+=ki+Ai,_0>vt){var pn=fr-B0+1;I.splice(B0,pn);break}B0=r0,fr=h0,r0++,h0--}}return I}o(S5,"_parseStack");function w5(_){var I="";if(_&&(I=_.typeName||_[Pf]||"",!I))try{var N=/function (.{1,200})\(/,$=N.exec(_.constructor[Vu]());I=$&&$[Ri]>1?$[1]:""}catch{}return I}o(w5,"_getErrorType");function Ju(_){if(_)try{if(!kt(_)){var I=w5(_),N=kh(_,!1);return(!N||N==="{}")&&(_[f1]&&(_=_[f1],I=w5(_)),N=kh(_,!0)),A3(N,I)!==0&&I!=="String"?I+":"+N:N}}catch{}return""+(_||"")}o(Ju,"_formatErrorCode");var mC=function(){function _(I,N,$,ue,vt,r0){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var h0=this;h0.ver=2,dC(N)?(h0[g5]=N[g5]||[],h0[Qf]=N[Qf],h0[l1]=N[l1],N[G1]&&(h0[G1]=N[G1]),N.id&&(h0.id=N.id,N[Qf].id=N.id),N[Th]&&(h0[Th]=N[Th]),l0(N[m2])||(h0[m2]=N[m2])):($||($={}),r0&&($.id=r0),h0[g5]=[new T2(I,N,$)],h0[Qf]=wc(I,$),h0[l1]=ec(I,ue),vt&&(h0[G1]=vt),r0&&(h0.id=r0))}return o(_,"Exception"),_.CreateAutoException=function(I,N,$,ue,vt,r0,h0,_0){var B0,fr=w5(vt||r0||I);return B0={},B0[Xl]=Qg(I,fr),B0.url=N,B0.lineNumber=$,B0.columnNumber=ue,B0.error=Ju(vt||r0||I),B0.evt=Ju(r0||I),B0[Sc]=fr,B0.stackDetails=T5(h0||vt||r0),B0.errorSrc=_0,B0},_.CreateFromInterface=function(I,N,$,ue){var vt=N[g5]&&Ru(N[g5],function(h0){return T2[Sh](I,h0)}),r0=new _(I,Du(Du({},N),{exceptions:vt}),$,ue);return r0},_.prototype.toInterface=function(){var I,N=this,$=N.exceptions,ue=N.properties,vt=N.measurements,r0=N.severityLevel,h0=N.problemGroup,_0=N.id,B0=N.isManual,fr=$ instanceof Array&&Ru($,function(ki){return ki.toInterface()})||void 0;return I={ver:"4.0"},I[g5]=fr,I.severityLevel=r0,I.properties=ue,I.measurements=vt,I.problemGroup=h0,I.id=_0,I.isManual=B0,I},_.CreateSimpleException=function(I,N,$,ue,vt,r0){var h0;return{exceptions:[(h0={},h0[wh]=!0,h0.message=I,h0.stack=vt,h0.typeName=N,h0)]}},_.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",_.dataType="ExceptionData",_.formatError=Ju,_}(),T2=function(){function _(I,N,$){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ue=this;if(ap(N))ue[Sc]=N[Sc],ue[Xl]=N[Xl],ue[Rl]=N[Rl],ue[Zf]=N[Zf]||[],ue[wh]=N[wh];else{var vt=N,r0=vt&&vt.evt;b0(vt)||(vt=vt[f1]||r0||vt),ue[Sc]=ol(I,w5(vt))||df,ue[Xl]=qg(I,Qg(N||vt,ue[Sc]))||df;var h0=N[Yg]||T5(N);ue[Zf]=S5(h0),Me(ue[Zf])&&Ru(ue[Zf],function(_0){_0[hf]=ol(I,_0[hf]),_0[K1]=ol(I,_0[K1])}),ue[Rl]=v2(I,gC(h0)),ue.hasFullStack=Me(ue.parsedStack)&&ue.parsedStack[Ri]>0,$&&($[Sc]=$[Sc]||ue[Sc])}}return o(_,"_ExceptionDetails"),_.prototype.toInterface=function(){var I,N=this,$=N[Zf]instanceof Array&&Ru(N[Zf],function(vt){return vt.toInterface()}),ue=(I={id:N.id,outerId:N.outerId,typeName:N[Sc],message:N[Xl],hasFullStack:N[wh],stack:N[Rl]},I[Zf]=$||void 0,I);return ue},_.CreateFromInterface=function(I,N){var $=N[Zf]instanceof Array&&Ru(N[Zf],function(vt){return tm[Sh](vt)})||N[Zf],ue=new _(I,Du(Du({},N),{parsedStack:$}));return ue},_}(),tm=function(){function _(I,N){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var $=this;if($[Rf]=0,typeof I=="string"){var ue=I;$[p2]=N,$[m5]=Wg,$[hf]=Kf(ue),$[K1]="",$[y2]=0;var vt=ue.match(_.regex);vt&&vt[Ri]>=5&&($[m5]=Kf(vt[2])||$[m5],$[K1]=Kf(vt[4]),$[y2]=parseInt(vt[5])||0)}else $[p2]=I[p2],$[m5]=I[m5],$[hf]=I[hf],$[K1]=I[K1],$[y2]=I[y2],$[Rf]=0;$.sizeInBytes+=$.method[Ri],$.sizeInBytes+=$.fileName[Ri],$.sizeInBytes+=$.assembly[Ri],$[Rf]+=_.baseSize,$.sizeInBytes+=$.level.toString()[Ri],$.sizeInBytes+=$.line.toString()[Ri]}return o(_,"_StackFrame"),_.CreateFromInterface=function(I){return new _(I,null)},_.prototype.toInterface=function(){var I=this;return{level:I[p2],method:I[m5],assembly:I[hf],fileName:I[K1],line:I[y2]}},_.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,_.baseSize=58,_}(),rm=function(){function _(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(_,"DataPoint"),_}(),lp=function(){function _(I,N,$,ue,vt,r0,h0,_0,B0){this.aiDataContract={ver:1,metrics:1,properties:0};var fr=this;fr.ver=2;var ki=new rm;ki[zu]=ue>0?ue:void 0,ki.max=isNaN(r0)||r0===null?void 0:r0,ki.min=isNaN(vt)||vt===null?void 0:vt,ki[Pf]=ol(I,N)||df,ki.value=$,ki.stdDev=isNaN(h0)||h0===null?void 0:h0,fr.metrics=[ki],fr[Qf]=wc(I,_0),fr[l1]=ec(I,B0)}return o(_,"Metric"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",_.dataType="MetricData",_}(),S2="";function pC(_,I){return I===void 0&&(I=!1),_==null?I:_.toString()[d5]()==="true"}o(pC,"stringToBoolOrDefault");function nm(_){(isNaN(_)||_<0)&&(_=0),_=Math.round(_);var I=S2+_%1e3,N=S2+Math.floor(_/1e3)%60,$=S2+Math.floor(_/(1e3*60))%60,ue=S2+Math.floor(_/(1e3*60*60))%24,vt=Math.floor(_/(1e3*60*60*24));return I=I[Ri]===1?"00"+I:I[Ri]===2?"0"+I:I,N=N[Ri]<2?"0"+N:N,$=$[Ri]<2?"0"+$:$,ue=ue[Ri]<2?"0"+ue:ue,(vt>0?vt+".":S2)+ue+":"+$+":"+N+"."+I}o(nm,"msToTimeSpan");function fp(_,I){var N=null;return Gl(_,function($){if($.identifier===I)return N=$,-1}),N}o(fp,"getExtensionByName");function yC(_,I,N,$,ue){return!ue&&kt(_)&&(_==="Script error."||_==="Script error")}o(yC,"isCrossOriginError");var vC=function(){function _(I,N,$,ue,vt,r0,h0){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var _0=this;_0.ver=2,_0.id=v5(I,h0),_0.url=Ku(I,$),_0[Pf]=ol(I,N)||df,isNaN(ue)||(_0[p5]=nm(ue)),_0[Qf]=wc(I,vt),_0[l1]=ec(I,r0)}return o(_,"PageView"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",_.dataType="PageviewData",_}(),xC=function(){function _(I,N,$,ue,vt,r0,h0,_0,B0,fr,ki,Ai){B0===void 0&&(B0="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var pn=this;pn.ver=2,pn.id=N,pn[p5]=nm(vt),pn.success=r0,pn.resultCode=h0+"",pn.type=ol(I,B0);var Pr=Z7(I,$,_0,ue);pn.data=Ku(I,ue)||Pr.data,pn.target=ol(I,Pr.target),fr&&(pn.target="".concat(pn.target," | ").concat(fr)),pn[Pf]=ol(I,Pr[Pf]),pn[Qf]=wc(I,ki),pn[l1]=ec(I,Ai)}return o(_,"RemoteDependencyData"),_.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",_.dataType="RemoteDependencyData",_}(),Xu=function(){function _(I,N,$,ue,vt){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var r0=this;r0.ver=2,N=N||df,r0[Xl]=qg(I,N),r0[Qf]=wc(I,ue),r0[l1]=ec(I,vt),$&&(r0[G1]=$)}return o(_,"Trace"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Message",_.dataType="MessageData",_}(),cp=function(){function _(I,N,$,ue,vt,r0,h0){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var _0=this;_0.ver=2,_0.url=Ku(I,$),_0[Pf]=ol(I,N)||df,_0[Qf]=wc(I,vt),_0[l1]=ec(I,r0),h0&&(_0.domProcessing=h0.domProcessing,_0[p5]=h0[p5],_0.networkConnect=h0.networkConnect,_0.perfTotal=h0.perfTotal,_0[Mg]=h0[Mg],_0.sentRequest=h0.sentRequest)}return o(_,"PageViewPerformance"),_.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",_.dataType="PageviewPerformanceData",_}(),im=function(){function _(I,N){this.aiDataContract={baseType:1,baseData:1},this.baseType=I,this.baseData=N}return o(_,"Data"),_}(),_C=Wf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),bC=function(){function _(){}return o(_,"ConfigurationManager"),_.getConfig=function(I,N,$,ue){ue===void 0&&(ue=!1);var vt;return $&&I[g2]&&I[g2][$]&&!l0(I[g2][$][N])?vt=I[g2][$][N]:vt=I[N],l0(vt)?ue:vt},_}();function c1(_){var I="ai."+_+".";return function(N){return I+N}}o(c1,"_aiNameFunc");var I5=c1("application"),Ca=c1("device"),Dh=c1("location"),X1=c1("operation"),Z1=c1("session"),rc=c1("user"),u1=c1("cloud"),nc=c1("internal"),up=function(_){fg(I,_);function I(){return _.call(this)||this}return o(I,"ContextTagKeys"),I}(oh({applicationVersion:I5("ver"),applicationBuild:I5("build"),applicationTypeId:I5("typeId"),applicationId:I5("applicationId"),applicationLayer:I5("layer"),deviceId:Ca("id"),deviceIp:Ca("ip"),deviceLanguage:Ca("language"),deviceLocale:Ca("locale"),deviceModel:Ca("model"),deviceFriendlyName:Ca("friendlyName"),deviceNetwork:Ca("network"),deviceNetworkName:Ca("networkName"),deviceOEMName:Ca("oemName"),deviceOS:Ca("os"),deviceOSVersion:Ca("osVersion"),deviceRoleInstance:Ca("roleInstance"),deviceRoleName:Ca("roleName"),deviceScreenResolution:Ca("screenResolution"),deviceType:Ca("type"),deviceMachineName:Ca("machineName"),deviceVMName:Ca("vmName"),deviceBrowser:Ca("browser"),deviceBrowserVersion:Ca("browserVersion"),locationIp:Dh("ip"),locationCountry:Dh("country"),locationProvince:Dh("province"),locationCity:Dh("city"),operationId:X1("id"),operationName:X1("name"),operationParentId:X1("parentId"),operationRootId:X1("rootId"),operationSyntheticSource:X1("syntheticSource"),operationCorrelationVector:X1("correlationVector"),sessionId:Z1("id"),sessionIsFirst:Z1("isFirst"),sessionIsNew:Z1("isNew"),userAccountAcquisitionDate:rc("accountAcquisitionDate"),userAccountId:rc("accountId"),userAgent:rc("userAgent"),userId:rc("id"),userStoreRegion:rc("storeRegion"),userAuthUserId:rc("authUserId"),userAnonymousUserAcquisitionDate:rc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:rc("authUserAcquisitionDate"),cloudName:u1("name"),cloudRole:u1("role"),cloudRoleVer:u1("roleVer"),cloudRoleInstance:u1("roleInstance"),cloudEnvironment:u1("environment"),cloudLocation:u1("location"),cloudDeploymentUnit:u1("deploymentUnit"),internalNodeName:nc("nodeName"),internalSdkVersion:nc("sdkVersion"),internalAgentVersion:nc("agentVersion"),internalSnippet:nc("snippet"),internalSdkSrc:nc("sdkSrc")}));function sm(_,I,N,$,ue,vt){var r0;N=ol($,N)||df,(l0(_)||l0(I)||l0(N))&&St("Input doesn't contain all required fields");var h0="";_[Ec]&&(h0=_[Ec],delete _[Ec]);var _0=(r0={},r0[Pf]=N,r0.time=W3(new Date),r0.iKey=h0,r0.ext=vt||{},r0.tags=[],r0.data={},r0.baseType=I,r0.baseData=_,r0);return l0(ue)||Se(ue,function(B0,fr){_0.data[B0]=fr}),_0}o(sm,"createTelemetryItem");var dp=function(){function _(){}return o(_,"TelemetryItemCreator"),_.create=sm,_}(),om={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Q1=new up;function CC(_){var I=null;if(o0(Event))I=new Event(_);else{var N=zl();N&&N.createEvent&&(I=N.createEvent("Event"),I.initEvent(_,!0,!0))}return I}o(CC,"createDomEvent");function am(_,I){Dg(_,null,null,I)}o(am,"_disableEvents");function EC(_){var I=zl(),N=Sl(),$=!1,ue=[],vt=1;N&&!l0(N.onLine)&&!N.onLine&&(vt=2);var r0=0,h0=Ai(),_0=$7(Jl("OfflineListener"),_);try{if(fr(js())&&($=!0),I){var B0=I.body||I;B0.ononline&&fr(B0)&&($=!0)}}catch{$=!1}function fr(_n){var ca=!1;return _n&&(ca=vh(_n,"online",Yi,_0),ca&&vh(_n,"offline",ln,_0)),ca}o(fr,"_enableEvents");function ki(){return h0}o(ki,"_isOnline");function Ai(){return!(r0===2||vt===2)}o(Ai,"calCurrentState");function pn(){var _n=Ai();h0!==_n&&(h0=_n,Gl(ue,function(ca){var A5={isOnline:h0,rState:vt,uState:r0};try{ca(A5)}catch{}}))}o(pn,"listnerNoticeCheck");function Pr(_n){r0=_n,pn()}o(Pr,"setOnlineState");function Yi(){vt=1,pn()}o(Yi,"_setOnline");function ln(){vt=2,pn()}o(ln,"_setOffline");function Ts(){var _n=js();if(_n&&$){if(am(_n,_0),I){var ca=I.body||I;u0(ca.ononline)||am(ca,_0)}$=!1}}o(Ts,"_unload");function ji(_n){return ue[d2](_n),{rm:function(){var ca=ue.indexOf(_n);if(ca>-1)return ue.splice(ca,1)}}}return o(ji,"addListener"),{isOnline:ki,isListening:function(){return $},unload:Ts,addListener:ji,setOnlineState:Pr}}o(EC,"createOfflineListener");var TC="AppInsightsPropertiesPlugin",SC="AppInsightsChannelPlugin",eu="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=eu,e.BreezeChannelIdentifier=SC,e.ConfigurationManager=bC,e.ConnectionStringParser=sp,e.ContextTagKeys=up,e.CtxTagKeys=Q1,e.DEFAULT_BREEZE_ENDPOINT=Bg,e.DEFAULT_BREEZE_PATH=xh,e.Data=im,e.DisabledPropertyName=iC,e.DistributedTracingModes=fC,e.Envelope=op,e.Event=uC,e.EventPersistence=cC,e.Exception=mC,e.Extensions=om,e.HttpMethod=H7,e.Metric=lp,e.PageView=vC,e.PageViewPerformance=cp,e.ProcessLegacy=Lg,e.PropertiesPluginIdentifier=TC,e.RemoteDependencyData=xC,e.RequestHeaders=V7,e.SampleRate=c5,e.SeverityLevel=_C,e.TelemetryItemCreator=dp,e.ThrottleMgr=Nh,e.Trace=Xu,e.correlationIdCanIncludeCorrelationHeader=Ah,e.correlationIdGetCorrelationContext=aC,e.correlationIdGetCorrelationContextValue=X7,e.correlationIdGetPrefix=Ih,e.correlationIdSetPrefix=$g,e.createDistributedTraceContextFromTrace=Q7,e.createDomEvent=CC,e.createOfflineListener=EC,e.createTelemetryItem=sm,e.createTraceParent=Eg,e.dataSanitizeException=v2,e.dataSanitizeId=v5,e.dataSanitizeInput=Wu,e.dataSanitizeKey=y5,e.dataSanitizeKeyAndAddUniqueness=Ug,e.dataSanitizeMeasurements=ec,e.dataSanitizeMessage=qg,e.dataSanitizeProperties=wc,e.dataSanitizeString=ol,e.dataSanitizeUrl=Ku,e.dateTimeUtilsDuration=b5,e.dateTimeUtilsNow=lC,e.dsPadNumber=G7,e.findW3cTraceParent=sl,e.formatTraceParent=Ag,e.getExtensionByName=fp,e.isBeaconApiSupported=I7,e.isCrossOriginError=yC,e.isInternalApplicationInsightsEndpoint=Ic,e.isSampledFlag=Ig,e.isValidSpanId=wg,e.isValidTraceId=Sg,e.isValidTraceParent=O7,e.msToTimeSpan=nm,e.parseConnectionString=tc,e.parseTraceParent=Tg,e.strNotSpecified=df,e.stringToBoolOrDefault=pC,e.urlGetAbsoluteUrl=x5,e.urlGetCompleteUrl=Y7,e.urlGetPathName=_5,e.urlParseFullHost=jg,e.urlParseHost=J7,e.urlParseUrl=al,e.utlCanUseLocalStorage=E5,e.utlCanUseSessionStorage=E2,e.utlDisableStorage=Ph,e.utlEnableStorage=jr,e.utlGetLocalStorage=Rh,e.utlGetSessionStorage=zg,e.utlGetSessionStorageKeys=Vg,e.utlRemoveSessionStorage=Gg,e.utlRemoveStorage=tp,e.utlSetLocalStorage=J1,e.utlSetSessionStorage=rp,e.utlSetStoragePrefix=ep})});var Bq=t0((wx,Lq)=>{(function(e,t){typeof wx=="object"&&typeof Lq<"u"?t(wx):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(wx,function(e){"use strict";var t=void 0,r=null,n="",s="boolean",a="function",l="number",f="object",c="prototype",u="__proto__",d="string",h="undefined",p="constructor",m="Symbol",v="_polyfill",x="indexOf",S="length",E="done",R="value",B="name",O="slice",L="call",F="toString",ve=Object,we=ve[c],Xt=String,f0=Xt[c],Jt=Math,c0=Array,yt=c0[c];function je(g,y){try{return{v:g.apply(this,y)}}catch(b){return{e:b}}}o(je,"safe");function i0(g,y){var b=je(g);return b.e?y:b.v}o(i0,"safeGet");var u0=[d,l,s,h,"symbol","bigint"];function l0(g){return function(y){return typeof y===g}}o(l0,"_createIs");function N0(g){var y="[object "+g+"]";return function(b){return!!(b&&kt(b)===y)}}o(N0,"_createObjIs");function kt(g){return we.toString.call(g)}o(kt,"objToString");function o0(g){return typeof g===h||g===h}o(o0,"isUndefined");function de(g){return g===r||o0(g)}o(de,"isNullOrUndefined");function Me(g){return g===r||!b0(g)}o(Me,"isStrictNullOrUndefined");function b0(g){return!!g||g!==t}o(b0,"isDefined");function H0(g){return g!==f&&u0.indexOf(g)!==-1}o(H0,"isPrimitiveType");var F0=l0(d),y0=l0(a);function Er(g){return!g&&de(g)?!1:!!g&&typeof g===f}o(Er,"isObject");var Se=c0.isArray,O0=N0("Date"),St=l0(l),L0=l0(s),k0=N0("Error");function z0(g){return!!(g&&g.then&&y0(g.then))}o(z0,"isPromiseLike");function Sr(g){return!(!g||i0(function(){return!(g&&0+g)},!g))}o(Sr,"isTruthy");var zr=ve.getOwnPropertyDescriptor;function Mr(g,y){return!!g&&we.hasOwnProperty[L](g,y)}o(Mr,"objHasOwnProperty");var le=ve.hasOwn||nn;function nn(g,y){return Mr(g,y)||!!zr(g,y)}o(nn,"polyObjHasOwn");function mr(g,y,b){if(g&&Er(g)){for(var w in g)if(le(g,w)&&y[L](b||g,w,g[w])===-1)break}}o(mr,"objForEachKey");function Vs(g,y,b,w){var k={};return mr(g,function(K,X){k[K]=y?X:K,k[X]=b?X:K}),w(k)}o(Vs,"_createKeyValueMap");function Bs(g){throw new Error(g)}o(Bs,"throwError");function ra(g){throw new TypeError(g)}o(ra,"throwTypeError");var Os=ve.freeze;function Da(g){return g}o(Da,"_doNothing");function Ja(g){return g[u]||r}o(Ja,"_getProto");var Cl=ve.assign,Xa=ve.keys;function hn(g){return Os&&mr(g,function(y,b){(Se(b)||Er(b))&&Os(b)}),Ue(g)}o(hn,"objDeepFreeze");var Ue=Os||Da,V=ve.getPrototypeOf||Ja;function W(g){return Vs(g,1,0,hn)}o(W,"createEnum");function M0(g){return Vs(g,0,0,hn)}o(M0,"createEnumKeyMap");function an(g){var y={};return mr(g,function(b,w){y[b]=w[1],y[w[0]]=w[1]}),hn(y)}o(an,"createSimpleMap");function Qi(g){return an(g)}o(Qi,"createTypeMap");var hs=M0({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),cn=Xt,ks="__tsUtils$gblCfg",Fi;function Us(){var g;return typeof globalThis!==h&&(g=globalThis),!g&&typeof self!==h&&(g=self),!g&&typeof window!==h&&(g=window),!g&&typeof global!==h&&(g=global),g}o(Us,"_getGlobalValue");function us(){if(!Fi){var g=je(Us).v||{};Fi=g[ks]=g[ks]||{}}return Fi}o(us,"_getGlobalConfig");var Fs="[object Error]";function Dr(g,y){var b=n,w=we[F][L](g);w===Fs&&(g={stack:cn(g.stack),message:cn(g.message),name:cn(g.name)});try{b=JSON.stringify(g,r,y?typeof y===l?y:4:t),b=b&&b.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||cn(g)}catch(k){b=" - "+Dr(k,y)}return w+": "+b}o(Dr,"dumpObj");var zf,Iu=pc,El=pc;function pc(g,y,b){zf=zf||yt[O];var w=y&&y[g];return function(k){var K=k&&k[g]||w;if(K||b){var X=arguments;return(K||b).apply(k,K?zf[L](X,1):X)}ra('"'+cn(g)+'" not defined for '+Dr(k))}}o(pc,"_unwrapFunctionWithPoly");function Ef(g){return function(y){return y[g]}}o(Ef,"_unwrapProp");var Zc=Jt.max,s0=El(O,f0),Q=El("substring",f0),bt=pc("substr",f0,wt);function wt(g,y,b){return de(g)&&ra("'polyStrSubstr called with invalid "+Dr(g)),b<0?n:(y=y||0,y<0&&(y=Zc(y+g[S],0)),o0(b)?s0(g,y):s0(g,y,y+b))}o(wt,"polyStrSubstr");function _e(g,y){return Q(g,0,y)}o(_e,"strLeft");var Y="_urid",d0;function P0(){if(!d0){var g=us();d0=g.gblSym=g.gblSym||{k:{},s:{}}}return d0}o(P0,"_globalSymbolRegistry");var sn;function zs(g){var y={description:cn(g),toString:function(){return m+"("+g+")"}};return y[v]=!0,y}o(zs,"polyNewSymbol");function qs(g){var y=P0();if(!le(y.k,g)){var b=zs(g),w=Xa(y.s).length;b[Y]=function(){return w+"_"+b[F]()},y.k[g]=b,y.s[b[Y]()]=cn(g)}return y.k[g]}o(qs,"polySymbolFor");function Tl(g){!sn&&(sn={});var y,b=hs[g];return b&&(y=sn[b]=sn[b]||zs(m+"."+b)),y}o(Tl,"polyGetKnownSymbol");var Ks={e:"enumerable",c:"configurable",v:R,w:"writable",g:"get",s:"set"};function zl(g){var y={};if(y[Ks.c]=!0,y[Ks.e]=!0,g.l){y.get=function(){return g.l.v};var b=zr(g.l,"v");b&&b.set&&(y.set=function(w){g.l.v=w})}return mr(g,function(w,k){y[Ks[w]]=o0(k)?y[Ks[w]]:k}),y}o(zl,"_createProp");var Pi=ve.defineProperty;function js(g,y,b){return Pi(g,y,zl(b))}o(js,"objDefine");var Zs;function Sl(){Zs=us()}o(Sl,"_initTestHooks");function uf(g){var y={};return!Zs&&Sl(),y.b=Zs.lzy,Pi(y,"v",{configurable:!0,get:function(){var b=g();return Zs.lzy||Pi(y,"v",{value:b}),y.b=Zs.lzy,b}}),y}o(uf,"getLazy");function j4(g,y){return uf(function(){var b=je(g);return b.e?y:b.v})}o(j4,"safeGetLazy");function Au(g){return Pi({toJSON:function(){return g}},"v",{value:g})}o(Au,"createCachedValue");var qd="window",Pu,Qc,Gl,k1,Ru;function J6(g){return uf(function(){return je(La,[g]).v||t})}o(J6,"lazySafeGetInst");function Gf(g){return!Zs&&Sl(),(!Pu||g===!1||Zs.lzy)&&(Pu=Au(je(Us).v||r)),Pu.v}o(Gf,"getGlobal");function La(g,y){var b=!Pu||y===!1?Gf(y):Pu.v;return b&&b[g]?b[g]:g===qd&&Qc?Qc.v:r}o(La,"getInst");function X6(){return!!Nu()}o(X6,"hasDocument");function Nu(){return!Zs&&Sl(),(!Gl||Zs.lzy)&&(Gl=Au(je(La,["document"]).v)),Gl.v}o(Nu,"getDocument");function Ub(){return!!e1()}o(Ub,"hasWindow");function e1(){return!Zs&&Sl(),(!Qc||Zs.lzy)&&(Qc=Au(je(La,[qd]).v)),Qc.v}o(e1,"getWindow");function qb(){return!!D1()}o(qb,"hasNavigator");function D1(){return!Zs&&Sl(),(!k1||Zs.lzy)&&(k1=Au(je(La,["navigator"]).v)),k1.v}o(D1,"getNavigator");function jb(){return!Ru&&(Ru=Au(!!je(function(){return process&&(process.versions||{}).node}).v)),Ru.v}o(jb,"isNode");var Kl,Z6;function Kf(){(!Kl||!Kl.b)&&(Kl=J6(m),Z6=j4(function(){return Kl.v?Kl.v.for:t},t))}o(Kf,"_initSymbol");function Q6(){return!!eg()}o(Q6,"hasSymbol");function eg(){return!Zs&&Sl(),(!Kl||Zs.lzy)&&Kf(),Kl.v}o(eg,"getSymbol");function I3(g,y){var b=hs[g];return!Zs&&Sl(),(!Kl||Zs.lzy)&&Kf(),Kl.v?Kl.v[b||g]:y?t:Tl(g)}o(I3,"getKnownSymbol");function yc(g,y){return!Zs&&Sl(),(!Kl||Zs.lzy)&&Kf(),Kl.v?Kl.v(g):y?r:zs(g)}o(yc,"newSymbol");function jd(g){return!Zs&&Sl(),(!Z6||!Kl||Zs.lzy)&&Kf(),(Z6.v||qs)(g)}o(jd,"symbolFor");function $4(g){return!!g&&y0(g.next)}o($4,"isIterator");function $b(g){return!Me(g)&&y0(g[I3(3)])}o($b,"isIterable");var H4;function A3(g,y,b){if(g&&($4(g)||(!H4&&(H4=Au(I3(3))),g=g[H4.v]?g[H4.v]():null),$4(g))){var w=void 0,k=void 0;try{for(var K=0;!(k=g.next())[E]&&y[L](b||g,k[R],K,g)!==-1;)K++}catch(X){w={e:X},g.throw&&(k=null,g.throw(w))}finally{try{k&&!k[E]&&g.return&&g.return(k)}finally{if(w)throw w.e}}}}o(A3,"iterForOf");var t1=Iu("apply");function L1(g,y){return!o0(y)&&g&&(Se(y)?t1(g.push,g,y):$4(y)||$b(y)?A3(y,function(b){g.push(b)}):g.push(y)),g}o(L1,"arrAppend");function gn(g,y,b){if(g)for(var w=g[S]>>>0,k=0;k<w&&!(k in g&&y[L](b||g,g[k],k,g)===-1);k++);}o(gn,"arrForEach");var Tf=El(x,yt),P3=El("map",yt),tg=El(O,yt),Hb=El("reduce",yt),Wf=ve.create||Vb;function Vb(g){if(!g)return{};var y=typeof g;y!==f&&y!==a&&ra("Prototype must be an Object or function: "+Dr(g));function b(){}return o(b,"tempFunc"),b[c]=g,new b}o(Vb,"polyObjCreate");var $d;function R3(g,y){var b=ve.setPrototypeOf||function(w,k){!$d&&($d=uf(function(){var K;return K={},K[u]=[],K instanceof Array})),$d.v?w[u]=k:mr(k,function(K,X){return w[K]=X})};return b(g,y)}o(R3,"objSetPrototypeOf");function Ba(g,y,b){je(js,[y,B,{v:g,c:!0,e:!1}]),y=R3(y,b);function w(){this.constructor=y,je(js,[this,B,{v:g,c:!0,e:!1}])}return o(w,"__"),y[c]=b===r?Wf(b):(w[c]=b[c],new w),y}o(Ba,"_createCustomError");function N3(g,y){y&&(g[B]=y)}o(N3,"_setName");function rg(g,y,b){var w=b||Error,k=w[c][B],K=Error.captureStackTrace;return Ba(g,function(){var X=this,ce=arguments;try{je(N3,[w,g]);var Ie=t1(w,X,yt[O][L](ce))||X;if(Ie!==X){var He=V(X);He!==V(Ie)&&R3(Ie,He)}return K&&K(Ie,X[p]),y&&y(Ie,ce),Ie}finally{je(N3,[w,k])}},w)}o(rg,"createCustomError");function B1(){return(Date.now||k3)()}o(B1,"utcNow");function k3(){return new Date().getTime()}o(k3,"polyUtcNow");function ng(g){return o(function(b){return de(b)&&ra("strTrim called ["+Dr(b)+"]"),b&&b.replace&&(b=b.replace(g,n)),b},"_doTrim")}o(ng,"_createTrimFn");var ig=ng(/^\s+|(?=\s)\s+$/g),Pa=pc("trim",f0,ig),sg,vc,V4;function Wl(g){if(!g||typeof g!==f)return!1;V4||(V4=Ub()?e1():!0);var y=!1;if(g!==V4){vc||(sg=Function[c][F],vc=sg[L](ve));try{var b=V(g);y=!b,y||(Mr(b,p)&&(b=b[p]),y=b&&typeof b===a&&sg[L](b)===vc)}catch{}}return y}o(Wl,"isPlainObject");var zb=o(function(g){return g.value&&G4(g),!0},"_defaultDeepCopyHandler"),z4=[m7,G4,ag,p7];function Gb(g,y,b,w){var k;return gn(g,function(K){if(K.k===y)return k=K,-1}),k||(k={k:y,v:y},g.push(k),w(k)),k.v}o(Gb,"_getSetVisited");function D3(g,y,b,w){var k=b.handler,K=b.path?w?b.path.concat(w):b.path:[],X={handler:b.handler,src:b.src,path:K},ce=typeof y,Ie=!1,He=!1;y&&ce===f?Ie=Wl(y):He=y===r||H0(ce);var Qt={type:ce,isPrim:He,isPlain:Ie,value:y,result:y,path:K,origin:b.src,copy:function(v0,T0){return D3(g,v0,T0?X:b,T0)},copyTo:function(v0,T0){return g7(g,v0,T0,X)}};return Qt.isPrim?k&&k[L](b,Qt)?Qt.result:y:Gb(g,y,K,function(v0){js(Qt,"result",{g:function(){return v0.v},s:function(g0){v0.v=g0}});for(var T0=0,x0=k;!(x0||(T0<z4.length?z4[T0++]:zb))[L](b,Qt);)x0=r})}o(D3,"_deepCopy");function g7(g,y,b,w){if(!de(b))for(var k in b)y[k]=D3(g,b[k],w,k);return y}o(g7,"_copyProps");function og(g,y,b){var w={handler:b,src:y,path:[]};return g7([],g,y,w)}o(og,"objCopyProps");function L3(g,y){var b={handler:y,src:g};return D3([],g,b)}o(L3,"objDeepCopy");function m7(g){var y=g.value;if(Se(y)){var b=g.result=[];return b.length=y.length,g.copyTo(b,y),!0}return!1}o(m7,"arrayDeepCopyHandler");function p7(g){var y=g.value;return O0(y)?(g.result=new Date(y.getTime()),!0):!1}o(p7,"dateDeepCopyHandler");function ag(g){return g.type===a}o(ag,"functionDeepCopyHandler");function G4(g){var y=g.value;if(y&&g.isPlain){var b=g.result={};return g.copyTo(b,y),!0}return!1}o(G4,"plainObjDeepCopyHandler");function Hd(g,y){return gn(y,function(b){og(g,b)}),g}o(Hd,"_doExtend");function y7(g,y,b,w,k,K,X){return Hd(L3(g)||{},yt[O][L](arguments))}o(y7,"deepExtend");var r1=Ef(S),K4=pc("endsWith",f0,v7);function v7(g,y,b){F0(g)||ra("'"+Dr(g)+"' is not a string");var w=F0(y)?y:cn(y),k=!o0(b)&&b<g[S]?b:g[S];return Q(g,k-w[S],k)===w}o(v7,"polyStrEndsWith");var Vd=El(x,f0),ku="ref",B3="un"+ku,lg="hasRef",x7="enabled";function Kb(g,y,b){var w,k=!0,K=g?y(r):r,X,ce=o(function(){return k=!1,K&&K[B3]&&K[B3](),X},"_unref"),Ie=o(function(){return k=!0,K&&K[ku]&&K[ku](),X},"_ref"),He=o(function(){return K&&K[lg]?K[lg]():k},"_hasRef"),Qt=o(function(){return K=y(K),k||ce(),X},"_refresh"),v0=o(function(){K&&b(K),K=r},"_cancel"),T0=o(function(x0){!x0&&K&&v0(),x0&&!K&&Qt()},"_setEnabled");return X=(w={cancel:v0,refresh:Qt},w[lg]=He,w[ku]=Ie,w[B3]=ce,w[x7]=!1,w),Pi(X,x7,{get:function(){return!!K},set:T0}),{h:X,dn:function(){K=r}}}o(Kb,"_createTimerHandler");function _7(g,y,b,w){var k=Se(b),K=k?b.length:0,X=(K>0?b[0]:k?t:b)||setTimeout,ce=(K>1?b[1]:t)||clearTimeout,Ie=w[0];w[0]=function(){He.dn(),t1(Ie,g,yt[O][L](arguments))};var He=Kb(y,function(Qt){if(Qt){if(Qt.refresh)return Qt.refresh(),Qt;t1(ce,g,[Qt])}return t1(X,g,w)},function(Qt){t1(ce,g,[Qt])});return He.h}o(_7,"_createTimeoutWith");function xc(g,y){return _7(this,!0,t,yt[O][L](arguments))}o(xc,"scheduleTimeout");function b7(g,y){return _7(this,!1,t,yt[O][L](arguments))}o(b7,"createTimeout");var W4,O3="constructor",n1="prototype",Du="function",zd="_dynInstFuncs",fg="_isDynProxy",i1="_dynClass",Y4="_dynCls$",Yf="_dynInstChk",O1=Yf,F3="_dfOpts",J4="_unknown_",F1="__proto__",X4="_dyn"+F1,Z4="__dynProto$Gbl",Lu="_dynInstProto",M3="useBaseInst",Q4="setInstFuncs",U3=Object,M1=U3.getPrototypeOf,cg=U3.getOwnPropertyNames,eh=Gf(),Gd=eh[Z4]||(eh[Z4]={o:(W4={},W4[Q4]=!0,W4[M3]=!0,W4),n:1e3});function Kd(g){return g&&(g===U3[n1]||g===Array[n1])}o(Kd,"_isObjectOrArrayPrototype");function q3(g){return Kd(g)||g===Function[n1]}o(q3,"_isObjectArrayOrFunctionPrototype");function Jf(g){var y;if(g){if(M1)return M1(g);var b=g[F1]||g[n1]||(g[O3]?g[O3][n1]:null);y=g[X4]||b,Mr(g,X4)||(delete g[Lu],y=g[X4]=g[Lu]||g[X4],g[Lu]=b)}return y}o(Jf,"_getObjProto");function j3(g,y){var b=[];if(cg)b=cg(g);else for(var w in g)typeof w=="string"&&Mr(g,w)&&b.push(w);if(b&&b.length>0)for(var k=0;k<b.length;k++)y(b[k])}o(j3,"_forEachProp");function th(g,y,b){return y!==O3&&typeof g[y]===Du&&(b||Mr(g,y))&&y!==F1&&y!==n1}o(th,"_isDynamicCandidate");function Wd(g){ra("DynamicProto: "+g)}o(Wd,"_throwTypeError");function rh(g){var y=Wf(null);return j3(g,function(b){!y[b]&&th(g,b,!1)&&(y[b]=g[b])}),y}o(rh,"_getInstanceFuncs");function $3(g,y){for(var b=g.length-1;b>=0;b--)if(g[b]===y)return!0;return!1}o($3,"_hasVisited");function Bu(g,y,b,w){function k(Ie,He,Qt){var v0=He[Qt];if(v0[fg]&&w){var T0=Ie[zd]||{};T0[O1]!==!1&&(v0=(T0[He[i1]]||{})[Qt]||v0)}return function(){return v0.apply(Ie,arguments)}}o(k,"_instFuncProxy");var K=Wf(null);j3(b,function(Ie){K[Ie]=k(y,b,Ie)});for(var X=Jf(g),ce=[];X&&!q3(X)&&!$3(ce,X);)j3(X,function(Ie){!K[Ie]&&th(X,Ie,!M1)&&(K[Ie]=k(y,X,Ie))}),ce.push(X),X=Jf(X);return K}o(Bu,"_getBaseFuncs");function nh(g,y,b,w){var k=null;if(g&&Mr(b,i1)){var K=g[zd]||Wf(null);if(k=(K[b[i1]]||Wf(null))[y],k||Wd("Missing ["+y+"] "+Du),!k[Yf]&&K[O1]!==!1){for(var X=!Mr(g,y),ce=Jf(g),Ie=[];X&&ce&&!q3(ce)&&!$3(Ie,ce);){var He=ce[y];if(He){X=He===w;break}Ie.push(ce),ce=Jf(ce)}try{X&&(g[y]=k),k[Yf]=1}catch{K[O1]=!1}}}return k}o(nh,"_getInstFunc");function ug(g,y,b){var w=y[g];return w===b&&(w=Jf(y)[g]),typeof w!==Du&&Wd("["+g+"] is not a "+Du),w}o(ug,"_getProtoFunc");function ih(g,y,b,w,k){function K(Ie,He){var Qt=o(function(){var v0=nh(this,He,Ie,Qt)||ug(He,Ie,Qt);return v0.apply(this,arguments)},"dynProtoProxy");return Qt[fg]=1,Qt}if(o(K,"_createDynamicPrototype"),!Kd(g)){var X=b[zd]=b[zd]||Wf(null);if(!Kd(X)){var ce=X[y]=X[y]||Wf(null);X[O1]!==!1&&(X[O1]=!!k),Kd(ce)||j3(b,function(Ie){th(b,Ie,!1)&&b[Ie]!==w[Ie]&&(ce[Ie]=b[Ie],delete b[Ie],(!Mr(g,Ie)||g[Ie]&&!g[Ie][fg])&&(g[Ie]=K(g,Ie)))})}}}o(ih,"_populatePrototype");function Wb(g,y){if(M1){for(var b=[],w=Jf(y);w&&!q3(w)&&!$3(b,w);){if(w===g)return!0;b.push(w),w=Jf(w)}return!1}return!0}o(Wb,"_checkPrototype");function H3(g,y){return Mr(g,n1)?g.name||y||J4:((g||{})[O3]||{}).name||y||J4}o(H3,"_getObjName");function Yl(g,y,b,w){Mr(g,n1)||Wd("theClass is an invalid class definition.");var k=g[n1];Wb(k,y)||Wd("["+H3(g)+"] not in hierarchy of ["+H3(y)+"]");var K=null;Mr(k,i1)?K=k[i1]:(K=Y4+H3(g,"_")+"$"+Gd.n,Gd.n++,k[i1]=K);var X=Yl[F3],ce=!!X[M3];ce&&w&&w[M3]!==void 0&&(ce=!!w[M3]);var Ie=rh(y),He=Bu(k,y,Ie,ce);b(y,He);var Qt=!!M1&&!!X[Q4];Qt&&w&&(Qt=!!w[Q4]),ih(k,K,y,Ie,Qt!==!1)}o(Yl,"dynamicProto"),Yl[F3]=Gd.o;var Yb="function",C7="object",E7="undefined",V3="prototype",z3=Object,dg=z3[V3],T7="hasOwnProperty",ya=o(function(g){for(var y,b=1,w=arguments.length;b<w;b++){y=arguments[b];for(var k in y)dg[T7].call(y,k)&&(g[k]=y[k])}return g},"__objAssignFnImpl"),U1=Cl||ya,hg=o(function(g,y){return hg=z3.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var k in w)w[T7](k)&&(b[k]=w[k])},hg(g,y)},"extendStaticsFn");function G3(g,y){typeof y!==Yb&&y!==null&&ra("Class extends value "+String(y)+" is not a constructor or null"),hg(g,y);function b(){this.constructor=g}o(b,"__"),g[V3]=y===null?Wf(y):(b[V3]=y[V3],new b)}o(G3,"__extendsFn");function S7(g,y){for(var b=0,w=y.length,k=g.length;b<w;b++,k++)g[k]=y[b];return g}o(S7,"__spreadArrayFn");var sh=W,gg=Qi,K3="toLowerCase",W3="blkVal",Wi="length",oh="rdOnly",ah="notify",Y3="warnToConsole",J3="throwInternal",Yd="setDf",s1="watch",_a="logger",Jd="apply",$s="push",Ou="splice",w7="hdlr",Fu="cancel",X3="initialize",q1="identifier",_c="isInitialized",Z3="getPlugin",I7="pollInternalLogs",j1="name",Xd="time",wl="processNext",mg="getProcessTelContext",Sf="getNotifyMgr",Q3="addNotificationListener",e2="removeNotificationListener",Mu="enabled",Zd="stopPollingInternalLogs",wf="unload",lh="onComplete",A7="version",P7="loggingLevelConsole",Xf="createNew",o1="teardown",fh="messageId",Uu="message",Qd="isAsync",a1="diagLog",ch="_doTeardown",t2="update",Jl="getNext",r2="setNextPlugin",e5="userAgent",t5="split",n2="nodeType",qu="replace",$1="logInternalMessage",bc="type",pg="handler",uh="isChildEvt",r5="getCtx",Cc="setCtx",i2="complete",yg="traceId",R7="spanId",n5="traceFlags",vg;function dh(g,y){vg||(vg=rg("AggregationError",function(w,k){k[Wi]>1&&(w.errors=k[1])}));var b=g||"One or more errors occurred.";throw gn(y,function(w,k){b+=`
`.concat(k," > ").concat(Dr(w))}),new vg(b,y||[])}o(dh,"throwAggregationError");function hh(g,y){return s2(g,function(b){return y?y({value:b,rejected:!1}):b},function(b){return y?y({rejected:!0,reason:b}):b})}o(hh,"doAwaitResponse");function s2(g,y,b,w){var k=g;return z0(g)?(y||b)&&(k=g.then(y,b)):y&&(k=y(g)),w&&xg(k,w),k}o(s2,"doAwait");function xg(g,y){var b=g;return y&&(z0(g)?g.finally?b=g.finally(y):b=g.then(function(w){return y(),w},function(w){throw y(),w}):y()),b}o(xg,"doFinally");var o2=["pending","resolving","resolved","rejected"],i5="dispatchEvent",H1;function Jb(g,y,b,w){var k=Nu();!H1&&(H1=j4(function(){var Ie;return k&&k.createEvent&&(Ie=k.createEvent("Event")),!!Ie&&Ie.initEvent},null));var K=H1.v?k.createEvent("Event"):w?new Event(y):{};if(b&&b(K),H1.v&&K.initEvent(y,!1,!0),K&&g[i5])g[i5](K);else{var X=g["on"+y];if(X)X(K);else{var ce=La("console");ce&&(ce.error||ce.log)(y,Dr(K))}}}o(Jb,"emitEvent");var gh="Promise",N7="unhandledRejection",Xb=N7.toLowerCase(),k7=10,mh;function a2(g){return y0(g)?g.toString():Dr(g)}o(a2,"dumpFnObj");function Zb(g,y,b){var w=tg(arguments,3),k=0,K=!1,X,ce=[],Ie=!1,He=null,Qt;!mh&&(mh=J6(gh+"RejectionEvent"));var v0=o(function(D0,X0){try{Ie=!0,He&&He.cancel(),He=null;var bn=g(function(Ms,da){ce.push(function(){try{var Ho=k===2?D0:X0,ul=o0(Ho)?X:y0(Ho)?Ho(X):Ho;z0(ul)?ul.then(Ms,da):Ho?Ms(ul):k===3?da(ul):Ms(ul)}catch(Fa){da(Fa)}}),K&&q0()},w);return bn}finally{}},"_then"),T0=o(function(D0){return v0(void 0,D0)},"_catch"),x0=o(function(D0){var X0=D0,bn=D0;return y0(D0)&&(X0=o(function(Ms){return D0&&D0(),Ms},"thenFinally"),bn=o(function(Ms){throw D0&&D0(),Ms},"catchFinally")),v0(X0,bn)},"_finally"),g0=o(function(){return o2[k]},"_strState"),q0=o(function(){if(ce.length>0){var D0=ce.slice();ce=[],Ie=!0,y(D0),He&&He.cancel(),He=null}},"_processQueue"),w0=o(function(D0,X0){return function(bn){if(k===X0){if(D0===2&&z0(bn)){k=1,bn.then(w0(2,1),w0(3,1));return}k=D0,K=!0,X=bn,q0(),!Ie&&D0===3&&!He&&(He=xc(G0,k7))}}},"_createSettleIfFn"),G0=o(function(){if(!Ie)if(jb())process.emit(N7,X,Qt);else{var D0=e1()||Gf();Jb(D0,Xb,function(X0){return js(X0,"promise",{g:function(){return Qt}}),X0.reason=X,X0},!!mh.v)}},"_notifyUnhandledRejection");Qt={then:v0,catch:T0,finally:x0},Pi(Qt,"state",{get:g0}),Q6()&&(Qt[I3(11)]="IPromise");var U0=o(function(){return"IPromise "+g0()+(K?" - "+a2(X):"")},"_toString");return Qt.toString=U0,o(function(){y0(b)||ra(gh+": executor is not a function - "+a2(b));var X0=w0(3,0);try{b.call(Qt,w0(2,0),X0)}catch(bn){X0(bn)}},"_initialize")(),Qt}o(Zb,"_createPromise");function Qb(g){return function(y){var b=tg(arguments,1);return g(function(w,k){try{var K=[],X=1;gn(y,function(ce,Ie){ce&&(X++,s2(ce,function(He){K[Ie]=He,--X===0&&w(K)},k))}),X--,X===0&&w(K)}catch(ce){k(ce)}},b)}}o(Qb,"_createAllPromise");var s5=o(function(g){gn(g,function(y){try{y()}catch{}})},"_processPendingItems");function D7(g){var y=St(g)?g:0;return function(b){xc(function(){s5(b)},y)}}o(D7,"timeoutItemProcessor");function L7(g,y){return Zb(L7,D7(y),g,y)}o(L7,"createAsyncPromise");var _g;function eC(g,y){!_g&&(_g=J6(gh));var b=_g.v;if(!b)return L7(g);y0(g)||ra(gh+": executor is not a function - "+Dr(g));var w=0;function k(){return o2[w]}o(k,"_strState");var K=new b(function(X,ce){function Ie(Qt){w=2,X(Qt)}o(Ie,"_resolve");function He(Qt){w=3,ce(Qt)}o(He,"_reject"),g(Ie,He)});return Pi(K,"state",{get:k}),K}o(eC,"createNativePromise");var bg;function o5(g,y){return!bg&&(bg=uf(function(){return eC})),bg.v.call(this,g,y)}o(o5,"createPromise");var B7=Qb(o5),If=void 0,xs="",ju="channels",ba="core",Cg="createPerfMgr",Il="disabled",$u="extensionConfig",a5="extensions",Af="processTelemetry",l5="priority",Hu="eventsSent",V1="eventsDiscarded",l2="eventsSendRequest",Al="perfEvent",f2="getPerfMgr",ph="domain",Eg="path",Tg="Not dynamic - ",Sg=/-([a-z])/g,wg=/([^\w\d_$])/g,O7=/^(\d+[\w\d_$])/;function Ig(g){return!de(g)}o(Ig,"isNotNullOrUndefined");function Ag(g){var y=g;return y&&F0(y)&&(y=y[qu](Sg,function(b,w){return w.toUpperCase()}),y=y[qu](wg,"_"),y=y[qu](O7,function(b,w){return"_"+w})),y}o(Ag,"normalizeJsName");function sl(g,y){return g&&y?Vd(g,y)!==-1:!1}o(sl,"strContains");function c2(g){return g&&g.toISOString()||""}o(c2,"toISOString");function Pl(g){return k0(g)?g[j1]:xs}o(Pl,"getExceptionName");function z1(g,y,b,w,k){var K=b;return g&&(K=g[y],K!==b&&(!k||k(K))&&(!w||w(b))&&(K=b,g[y]=K)),K}o(z1,"setValue");function F7(g,y,b){var w;return g?(w=g[y],!w&&de(w)&&(w=o0(b)?{}:b,g[y]=w)):w=o0(b)?{}:b,w}o(F7,"getSetValue");function M7(g,y){var b=null,w=null;return y0(g)?b=g:w=g,function(){var k=arguments;if(b&&(w=b()),w)return w[y][Jd](w,k)}}o(M7,"_createProxyFunction");function f5(g,y,b,w,k){g&&y&&b&&(k!==!1||o0(g[y]))&&(g[y]=M7(b,w))}o(f5,"proxyFunctionAs");function Pg(g,y,b,w){return g&&y&&Er(g)&&Se(b)&&gn(b,function(k){F0(k)&&f5(g,k,y,k,w)}),g}o(Pg,"proxyFunctions");function tC(g){return function(){function y(){var b=this;g&&mr(g,function(w,k){b[w]=k})}return o(y,"class_1"),y}()}o(tC,"createClassFromInterface");function U7(g){return g&&Cl&&(g=z3(Cl({},g))),g}o(U7,"optimizeObject");function u2(g,y,b,w,k,K){var X=arguments,ce=X[0]||{},Ie=X[Wi],He=!1,Qt=1;for(Ie>0&&L0(ce)&&(He=ce,ce=X[Qt]||{},Qt++),Er(ce)||(ce={});Qt<Ie;Qt++){var v0=X[Qt],T0=Se(v0),x0=Er(v0);for(var g0 in v0){var q0=T0&&g0 in v0||x0&&le(v0,g0);if(q0){var w0=v0[g0],G0=void 0;if(He&&w0&&((G0=Se(w0))||Wl(w0))){var U0=ce[g0];G0?Se(U0)||(U0=[]):Wl(U0)||(U0={}),w0=u2(He,U0,w0)}w0!==void 0&&(ce[g0]=w0)}}}return ce}o(u2,"objExtend");var rC="documentMode",q7="location",Rg="console",Ng="JSON",j7="crypto",nC="msCrypto",yh="msie",kg="trident/",$7="XMLHttpRequest",vh=null,Dg=null,iC=!1,c5=null,Lg=null;function H7(g,y){var b=!1;if(g){try{if(b=y in g,!b){var w=g[V3];w&&(b=y in w)}}catch{}if(!b)try{var k=new g;b=!o0(k[y])}catch{}}return b}o(H7,"_hasProperty");function Bg(g){if(g&&iC){var y=La("__mockLocation");if(y)return y}return typeof location===C7&&location?location:La(q7)}o(Bg,"getLocation");function xh(){return typeof console!==E7?console:La(Rg)}o(xh,"getConsole");function df(){return!!(typeof JSON===C7&&JSON||La(Ng)!==null)}o(df,"hasJSON");function Ec(){return df()?JSON||La(Ng):null}o(Ec,"getJSON");function V7(){return La(j7)}o(V7,"getCrypto");function u5(){return La(nC)}o(u5,"getMsCrypto");function Ri(){var g=D1();if(g&&(g[e5]!==Dg||vh===null)){Dg=g[e5];var y=(Dg||xs)[K3]();vh=sl(y,yh)||sl(y,kg)}return vh}o(Ri,"isIE");function d5(g){if(g===void 0&&(g=null),!g){var y=D1()||{};g=y?(y.userAgent||xs)[K3]():xs}var b=(g||xs)[K3]();if(sl(b,yh)){var w=Nu()||{};return Math.max(parseInt(b[t5](yh)[1]),w[rC]||0)}else if(sl(b,kg)){var k=parseInt(b[t5](kg)[1]);if(k)return k+4}return null}o(d5,"getIEVersion");function Tc(g){return(Lg===null||g===!1)&&(Lg=qb()&&!!D1().sendBeacon),Lg}o(Tc,"isBeaconsSupported");function Vu(g){var y=!1;try{y=!!La("fetch");var b=La("Request");y&&g&&b&&(y=H7(b,"keepalive"))}catch{}return y}o(Vu,"isFetchSupported");function d2(){return c5===null&&(c5=typeof XDomainRequest!==E7,c5&&_h()&&(c5=c5&&!H7(La($7),"withCredentials"))),c5}o(d2,"useXDomainRequest");function _h(){var g=!1;try{var y=La($7);g=!!y}catch{}return g}o(_h,"isXhrSupported");var Pf=4294967296,Xl=4294967295,zu=123456789,bh=987654321,Ch=!1,Gu=zu,h5=bh;function Og(g){g<0&&(g>>>=0),Gu=zu+g&Xl,h5=bh-g&Xl,Ch=!0}o(Og,"_mwcSeed");function Fg(){try{var g=B1()&2147483647;Og((Math.random()*Pf^g)+g)}catch{}}o(Fg,"_autoSeedMwc");function h2(g){var y=0,b=V7()||u5();return b&&b.getRandomValues&&(y=b.getRandomValues(new Uint32Array(1))[0]&Xl),y===0&&Ri()&&(Ch||Fg(),y=Eh()&Xl),y===0&&(y=Math.floor(Pf*Math.random()|0)),g||(y>>>=0),y}o(h2,"random32");function Eh(g){h5=36969*(h5&65535)+(h5>>16)&Xl,Gu=18e3*(Gu&65535)+(Gu>>16)&Xl;var y=(h5<<16)+(Gu&65535)>>>0&Xl|0;return g||(y>>>=0),y}o(Eh,"mwcRandom32");function z7(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=h2()>>>0,w=0,k=xs;k[Wi]<g;)w++,k+=y.charAt(b&63),b>>>=6,w===5&&(b=(h2()<<2&4294967295|b&3)>>>0,w=0);return k}o(z7,"newId");var g2="3.0.5",g5="."+z7(6),Zf=0;function Qf(g){return g[n2]===1||g[n2]===9||!+g[n2]}o(Qf,"_canAcceptData");function l1(g,y){var b=y[g.id];if(!b){b={};try{Qf(y)&&js(y,g.id,{e:!1,v:b})}catch{}}return b}o(l1,"_getCache");function Rf(g,y){return y===void 0&&(y=!1),Ag(g+Zf+++(y?"."+g2:xs)+g5)}o(Rf,"createUniqueNamespace");function Sc(g){var y={id:Rf("_aiData-"+(g||xs)+"."+g2),accept:function(b){return Qf(b)},get:function(b,w,k,K){var X=b[y.id];return X?X[Ag(w)]:(K&&(X=l1(y,b),X[Ag(w)]=k),k)},kill:function(b,w){if(b&&b[w])try{delete b[w]}catch{}}};return y}o(Sc,"createElmNodeData");function G1(g){return g&&Er(g)&&(g.isVal||g.fb||le(g,"v")||le(g,"mrg")||le(g,"ref")||g.set)}o(G1,"_isConfigDefaults");function Th(g,y,b){var w,k=b.dfVal||b0;if(y&&b.fb){var K=b.fb;Se(K)||(K=[K]);for(var X=0;X<K[Wi];X++){var ce=K[X],Ie=y[ce];if(k(Ie)?w=Ie:g&&(Ie=g.cfg[ce],k(Ie)&&(w=Ie),g.set(g.cfg,cn(ce),Ie)),k(w))break}}return!k(w)&&k(b.v)&&(w=b.v),w}o(Th,"_getDefault");function m2(g,y,b){var w=b;if(b&&G1(b)&&(w=Th(g,y,b)),w){G1(w)&&(w=m2(g,y,w));var k;Se(w)?(k=[],k[Wi]=w[Wi]):Wl(w)&&(k={}),k&&(mr(w,function(K,X){X&&G1(X)&&(X=m2(g,y,X)),k[K]=X}),w=k)}return w}o(m2,"_resolveDefaultValue");function Sh(g,y,b,w){var k,K,X,ce=w,Ie,He,Qt,v0;G1(ce)?(k=ce.isVal,K=ce.set,Qt=ce[oh],v0=ce[W3],Ie=ce.mrg,He=ce.ref,!He&&o0(He)&&(He=!!Ie),X=Th(g,y,ce)):X=w,v0&&g[W3](y,b);var T0,x0=!0,g0=y[b];(g0||!de(g0))&&(T0=g0,x0=!1,k&&T0!==X&&!k(T0)&&(T0=X,x0=!0),K&&(T0=K(T0,X,y),x0=T0===X)),x0?X?T0=m2(g,y,X):T0=X:(Wl(T0)||Se(X))&&Ie&&X&&(Wl(X)||Se(X))&&mr(X,function(q0,w0){Sh(g,T0,q0,w0)}),g.set(y,b,T0),He&&g.ref(y,b),Qt&&g[oh](y,b)}o(Sh,"_applyDefaultValue");var hf=jd("[[ai_dynCfg_1]]"),K1=jd("[[ai_blkDynCfg_1]]"),wh=jd("[[ai_frcDynCfg_1]]");function p2(g){if(g){var y;if(Se(g)?(y=[],y[Wi]=g[Wi]):Wl(g)&&(y={}),y)return mr(g,function(b,w){y[b]=p2(w)}),y}return g}o(p2,"_cfgDeepCopy");function m5(g){if(g){var y=g[hf]||g;if(y.cfg&&(y.cfg===g||y.cfg[hf]===y))return y}return null}o(m5,"getDynamicConfigHandler");function y2(g){if(g&&(Wl(g)||Se(g)))try{g[K1]=!0}catch{}return g}o(y2,"blockDynamicConversion");function p5(g,y,b){var w=!1;return b&&!g[y.blkVal]&&(w=b[wh],!w&&!b[K1]&&(w=Wl(b)||Se(b))),w}o(p5,"_canMakeDynamic");function Mg(g){ra("InvalidAccess:"+g)}o(Mg,"throwInvalidAccess");var Ug=["push","pop","shift","unshift","splice"],y5=o(function(g,y,b,w){g&&g[J3](3,108,"".concat(b," [").concat(y,"] failed - ")+Dr(w))},"_throwDynamicError");function ol(g,y,b){Se(y)&&gn(Ug,function(w){var k=y[w];y[w]=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];var ce=k[Jd](this,K);return ec(g,y,b,"Patching"),ce}})}o(ol,"_patchArray");function Ku(g,y){var b=zr(g,y);return b&&b.get}o(Ku,"_getOwnPropGetter");function qg(g,y,b,w){var k={n:b,h:[],trk:function(He){He&&He.fn&&(Tf(k.h,He)===-1&&k.h[$s](He),g.trk(He,k))},clr:function(He){var Qt=Tf(k.h,He);Qt!==-1&&k.h[Ou](Qt,1)}},K=!0,X=!1;function ce(){K&&(X=X||p5(ce,g,w),w&&!w[hf]&&X&&(w=ec(g,w,b,"Converting")),K=!1);var He=g.act;return He&&k.trk(He),w}o(ce,"_getProperty"),ce[g.prop]={chng:function(){g.add(k)}};function Ie(He){if(w!==He){ce[g.ro]&&!g.upd&&Mg("["+b+"] is read-only:"+Dr(y)),K&&(X=X||p5(ce,g,w),K=!1);var Qt=X&&ce[g.rf];if(X)if(Qt){mr(w,function(T0){w[T0]=He?He[T0]:If});try{mr(He,function(T0,x0){v2(g,w,T0,x0)}),He=w}catch(T0){y5((g.hdlr||{})[_a],b,"Assigning",T0),X=!1}}else w&&w[hf]&&mr(w,function(T0){var x0=Ku(w,T0);if(x0){var g0=x0[g.prop];g0&&g0.chng()}});if(He!==w){var v0=He&&p5(ce,g,He);!Qt&&v0&&(He=ec(g,He,b,"Converting")),w=He,X=v0}g.add(k)}}o(Ie,"_setProperty"),js(y,k.n,{g:ce,s:Ie})}o(qg,"_createDynamicProperty");function v2(g,y,b,w){if(y){var k=Ku(y,b),K=k&&!!k[g.prop];K?y[b]=w:qg(g,y,b,w)}return y}o(v2,"_setDynamicProperty");function wc(g,y,b,w){if(y){var k=Ku(y,b),K=k&&!!k[g.prop],X=w&&w[0],ce=w&&w[1],Ie=w&&w[2];if(!K){if(Ie)try{y2(y)}catch(He){y5((g.hdlr||{})[_a],b,"Blocking",He)}try{v2(g,y,b,y[b]),k=Ku(y,b)}catch(He){y5((g.hdlr||{})[_a],b,"State",He)}}X&&(k[g.rf]=X),ce&&(k[g.ro]=ce),Ie&&(k[g.blkVal]=!0)}return y}o(wc,"_setDynamicPropertyState");function ec(g,y,b,w){try{mr(y,function(k,K){v2(g,y,k,K)}),y[hf]||(Pi(y,hf,{get:function(){return g[w7]}}),ol(g,y,b))}catch(k){y5((g.hdlr||{})[_a],b,w,k)}return y}o(ec,"_makeDynamicObject");var v5="[[ai_",Wu="]]";function G7(g){var y,b=yc(v5+"get"+g.uid+Wu),w=yc(v5+"ro"+g.uid+Wu),k=yc(v5+"rf"+g.uid+Wu),K=yc(v5+"blkVal"+g.uid+Wu),X=yc(v5+"dtl"+g.uid+Wu),ce=null,Ie=null,He;function Qt(g0,q0){var w0=He.act;try{He.act=g0,g0&&g0[X]&&(gn(g0[X],function(U0){U0.clr(g0)}),g0[X]=[]),q0({cfg:g.cfg,set:g.set.bind(g),setDf:g[Yd].bind(g),ref:g.ref.bind(g),rdOnly:g[oh].bind(g)})}catch(U0){var G0=g[_a];throw G0&&G0[J3](1,107,Dr(U0)),U0}finally{He.act=w0||null}}o(Qt,"_useHandler");function v0(){if(ce){var g0=ce;ce=null,Ie&&Ie[Fu](),Ie=null;var q0=[];if(gn(g0,function(w0){if(w0&&(w0[X]&&(gn(w0[X],function(G0){G0.clr(w0)}),w0[X]=null),w0.fn))try{Qt(w0,w0.fn)}catch(G0){q0[$s](G0)}}),ce)try{v0()}catch(w0){q0[$s](w0)}q0[Wi]>0&&dh("Watcher error(s): ",q0)}}o(v0,"_notifyWatchers");function T0(g0){if(g0&&g0.h[Wi]>0){ce||(ce=[]),Ie||(Ie=xc(function(){Ie=null,v0()},0));for(var q0=0;q0<g0.h[Wi];q0++){var w0=g0.h[q0];w0&&Tf(ce,w0)===-1&&ce[$s](w0)}}}o(T0,"_addWatcher");function x0(g0,q0){if(g0){var w0=g0[X]=g0[X]||[];Tf(w0,q0)===-1&&w0[$s](q0)}}return o(x0,"_trackHandler"),He=(y={prop:b,ro:w,rf:k},y[W3]=K,y[w7]=g,y.add=T0,y[ah]=v0,y.use=Qt,y.trk=x0,y),He}o(G7,"_createState");function K7(g,y){var b={fn:y,rm:function(){b.fn=null,g=null,y=null}};return g.use(b,y),b}o(K7,"_createAndUseHandler");function W7(g,y,b){var w,k=m5(y);if(k)return k;var K=Rf("dyncfg",!0),X=y&&b!==!1?y:p2(y),ce;function Ie(){ce[ah]()}o(Ie,"_notifyWatchers");function He(G0,U0,D0){try{G0=v2(ce,G0,U0,D0)}catch(X0){y5(g,U0,"Setting value",X0)}return G0[U0]}o(He,"_setValue");function Qt(G0){return K7(ce,G0)}o(Qt,"_watch");function v0(G0,U0){ce.use(null,function(D0){var X0=ce.upd;try{o0(U0)||(ce.upd=U0),G0(D0)}finally{ce.upd=X0}})}o(v0,"_block");function T0(G0,U0){var D0;return wc(ce,G0,U0,(D0={},D0[0]=!0,D0))[U0]}o(T0,"_ref");function x0(G0,U0){var D0;return wc(ce,G0,U0,(D0={},D0[1]=!0,D0))[U0]}o(x0,"_rdOnly");function g0(G0,U0){var D0;return wc(ce,G0,U0,(D0={},D0[2]=!0,D0))[U0]}o(g0,"_blkPropValue");function q0(G0,U0){return U0&&mr(U0,function(D0,X0){Sh(w0,G0,D0,X0)}),G0}o(q0,"_applyDefaults");var w0=(w={uid:null,cfg:X},w[_a]=g,w[ah]=Ie,w.set=He,w[Yd]=q0,w[s1]=Qt,w.ref=T0,w[oh]=x0,w[W3]=g0,w._block=v0,w);return js(w0,"uid",{c:!1,e:!1,w:!1,v:K}),ce=G7(w0),ec(ce,X,"config","Creating"),w0}o(W7,"_createDynamicHandler");function sC(g,y){g?(g[Y3](y),g[J3](2,108,y)):Mg(y)}o(sC,"_logInvalidAccess");function al(g,y,b,w){var k=W7(b,g||{},w);return y&&k[Yd](k.cfg,y),k}o(al,"createDynamicConfig");function x5(g,y,b){var w=g[hf]||g;return w.cfg&&(w.cfg===g||w.cfg[hf]===w)?w[s1](y):(sC(b,Tg+Dr(g)),al(g,null,b)[s1](y))}o(x5,"onConfigChange");function _5(g,y){if(g&&g[wf])return g[wf](y)}o(_5,"runTargetUnload");function Y7(g,y,b){var w;return b||(w=o5(function(k){b=k})),g&&r1(g)>0?hh(_5(g[0],y),function(){Y7(tg(g,1),y,b)}):b(),w}o(Y7,"doUnloadAll");var J7=500;function jg(g,y,b){return!g&&de(g)?y:L0(g)?g:cn(g)[K3]()==="true"}o(jg,"_stringToBoolOrDefault");function oC(g){return{mrg:!0,v:g}}o(oC,"cfgDfMerge");function x2(g,y,b){return{fb:b,isVal:g,v:y}}o(x2,"cfgDfValidate");function Ic(g,y){return{fb:y,set:jg,v:!!g}}o(Ic,"cfgDfBoolean");var $g=[Hu,V1,l2,Al],Ih=null,Ah;function aC(g,y){return function(){var b=arguments,w=Z7(y);if(w){var k=w.listener;k&&k[g]&&k[g][Jd](k,b)}}}o(aC,"_listenerProxyFunc");function X7(){var g=La("Microsoft");return g&&(Ih=g.ApplicationInsights),Ih}o(X7,"_getExtensionNamespace");function Z7(g){var y=Ih;return!y&&g.disableDbgExt!==!0&&(y=Ih||X7()),y?y.ChromeDbgExt:null}o(Z7,"getDebugExt");function lC(g){if(!Ah){Ah={};for(var y=0;y<$g[Wi];y++)Ah[$g[y]]=aC($g[y],g)}return Ah}o(lC,"getDebugListener");var b5,Q7="warnToConsole",_2="AI (Internal): ",fC="AI: ",cC="AITR_",W1={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Y1=(b5={},b5[0]=null,b5[1]="errorToConsole",b5[2]=Q7,b5[3]="debugToConsole",b5);function Hg(g){return g?'"'+g[qu](/\"/g,xs)+'"':xs}o(Hg,"_sanitizeDiagnosticText");function b2(g,y){var b=xh();if(b){var w="log";b[g]&&(w=g),y0(b[w])&&b[w](y)}}o(b2,"_logToConsole");var C5=function(){function g(y,b,w,k){w===void 0&&(w=!1);var K=this;K[fh]=y,K[Uu]=(w?fC:_2)+y;var X=xs;df()&&(X=Ec().stringify(k));var ce=(b?" message:"+Hg(b):xs)+(k?" props:"+Hg(X):xs);K[Uu]+=ce}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function C2(g,y){return(g||{})[_a]||new Ph(y)}o(C2,"safeGetLogger");var Ph=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var b=0,w={},k,K,X,ce,Ie;Yl(g,this,function(He){Ie=v0(y||{}),He.consoleLoggingLevel=function(){return k},He[J3]=function(g0,q0,w0,G0,U0){U0===void 0&&(U0=!1);var D0=new C5(q0,w0,U0,G0);if(ce)throw Dr(D0);var X0=Y1[g0]||Q7;if(o0(D0[Uu]))x0("throw"+(g0===1?"Critical":"Warning"),D0);else{if(U0){var bn=+D0[fh];!w[bn]&&k>=g0&&(He[X0](D0[Uu]),w[bn]=!0)}else k>=g0&&He[X0](D0[Uu]);Qt(g0,D0)}},He.debugToConsole=function(g0){b2("debug",g0),x0("warning",g0)},He[Y3]=function(g0){b2("warn",g0),x0("warning",g0)},He.errorToConsole=function(g0){b2("error",g0),x0("error",g0)},He.resetInternalMessageCount=function(){b=0,w={}},He[$1]=Qt,He[wf]=function(g0){Ie&&Ie.rm(),Ie=null};function Qt(g0,q0){if(!T0()){var w0=!0,G0=cC+q0[fh];if(w[G0]?w0=!1:w[G0]=!0,w0&&(g0<=K&&(He.queue[$s](q0),b++,x0(g0===1?"error":"warn",q0)),b===X)){var U0="Internal events throttle limit per PageView reached for this app.",D0=new C5(23,U0,!1);He.queue[$s](D0),g0===1?He.errorToConsole(U0):He[Y3](U0)}}}o(Qt,"_logInternalMessage");function v0(g0){return x5(al(g0,W1,He).cfg,function(q0){var w0=q0.cfg;k=w0[P7],K=w0.loggingLevelTelemetry,X=w0.maxMessageLimit,ce=w0.enableDebug})}o(v0,"_setDefaultsFromConfig");function T0(){return b>=X}o(T0,"_areInternalMessagesThrottled");function x0(g0,q0){var w0=Z7(y||{});w0&&w0[a1]&&w0[a1](g0,q0)}o(x0,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function ep(g){return g||new Ph}o(ep,"_getLogger");function jr(g,y,b,w,k,K){K===void 0&&(K=!1),ep(g)[J3](y,b,w,k,K)}o(jr,"_throwInternal");function E5(g,y){ep(g)[Y3](y)}o(E5,"_warnToConsole");var Rh,J1,tp="toGMTString",E2="toUTCString",Vg="cookie",zg="expires",rp="isCookieUseDisabled",Gg="disableCookiesUsage",np="_ckMgr",Nh=null,Kg=null,ip=null,tc,sp={},op={},uC=(Rh={cookieCfg:oC((J1={},J1[ph]={fb:"cookieDomain",dfVal:Ig},J1.path={fb:"cookiePath",dfVal:Ig},J1.enabled=If,J1.ignoreCookies=If,J1.blockedCookies=If,J1)),cookieDomain:If,cookiePath:If},Rh[Gg]=If,Rh);function Wg(){!tc&&(tc=uf(function(){return Nu()}))}o(Wg,"_getDoc");function f1(g){return g?g.isEnabled():!0}o(f1,"_isMgrEnabled");function Rl(g,y){return y&&g&&Se(g.ignoreCookies)?Tf(g.ignoreCookies,y)!==-1:!1}o(Rl,"_isIgnoredCookie");function Yg(g,y){return y&&g&&Se(g.blockedCookies)&&Tf(g.blockedCookies,y)!==-1?!0:Rl(g,y)}o(Yg,"_isBlockedCookie");function Jg(g,y){var b=y[Mu];if(de(b)){var w=void 0;o0(g[rp])||(w=!g[rp]),o0(g[Gg])||(w=!g[Gg]),b=w}return b}o(Jg,"_isCfgEnabled");function Xg(g,y){var b,w,k,K,X,ce,Ie,He,Qt;g=al(g||op,null,y).cfg,X=x5(g,function(T0){T0[Yd](T0.cfg,uC),w=T0.ref(T0.cfg,"cookieCfg"),k=w[Eg]||"/",K=w[ph],ce=Jg(g,w)!==!1,Ie=w.getCookie||dC,He=w.setCookie||em,Qt=w.delCookie||em},y);var v0=(b={isEnabled:function(){var T0=Jg(g,w)!==!1&&ce&&Zg(y),x0=op[np];return T0&&x0&&v0!==x0&&(T0=f1(x0)),T0},setEnabled:function(T0){ce=T0!==!1,w[Mu]=T0},set:function(T0,x0,g0,q0,w0){var G0=!1;if(f1(v0)&&!Yg(w,T0)){var U0={},D0=Pa(x0||xs),X0=Vd(D0,";");if(X0!==-1&&(D0=Pa(_e(x0,X0)),U0=kh(Q(x0,X0+1))),z1(U0,ph,q0||K,Sr,o0),!de(g0)){var bn=Ri();if(o0(U0[zg])){var Ms=B1(),da=Ms+g0*1e3;if(da>0){var Ho=new Date;Ho.setTime(da),z1(U0,zg,Qg(Ho,bn?tp:E2)||Qg(Ho,bn?tp:E2)||xs,Sr)}}bn||z1(U0,"max-age",xs+g0,null,o0)}var ul=Bg();ul&&ul.protocol==="https:"&&(z1(U0,"secure",null,null,o0),Kg===null&&(Kg=!Yu((D1()||{})[e5])),Kg&&z1(U0,"SameSite","None",null,o0)),z1(U0,Eg,w0||k,null,o0),He(T0,ap(D0,U0)),G0=!0}return G0},get:function(T0){var x0=xs;return f1(v0)&&!Rl(w,T0)&&(x0=Ie(T0)),x0},del:function(T0,x0){var g0=!1;return f1(v0)&&(g0=v0.purge(T0,x0)),g0},purge:function(T0,x0){var g0,q0=!1;if(Zg(y)){var w0=(g0={},g0[Eg]=x0||"/",g0[zg]="Thu, 01 Jan 1970 00:00:01 GMT",g0);Ri()||(w0["max-age"]="0"),Qt(T0,ap(xs,w0)),q0=!0}return q0}},b[wf]=function(T0){X&&X.rm(),X=null},b);return v0[np]=v0,v0}o(Xg,"createCookieMgr");function Zg(g){if(Nh===null){Nh=!1,!tc&&Wg();try{var y=tc.v||{};Nh=y[Vg]!==void 0}catch(b){jr(g,2,68,"Cannot access document.cookie - "+Pl(b),{exception:Dr(b)})}}return Nh}o(Zg,"areCookiesSupported");function kh(g){var y={};if(g&&g[Wi]){var b=Pa(g)[t5](";");gn(b,function(w){if(w=Pa(w||xs),w){var k=Vd(w,"=");k===-1?y[w]=null:y[Pa(_e(w,k))]=Pa(Q(w,k+1))}})}return y}o(kh,"_extractParts");function Qg(g,y){return y0(g[y])?g[y]():null}o(Qg,"_formatDate");function ap(g,y){var b=g||xs;return mr(y,function(w,k){b+="; "+w+(de(k)?xs:"="+k)}),b}o(ap,"_formatCookieValue");function dC(g){var y=xs;if(!tc&&Wg(),tc.v){var b=tc.v[Vg]||xs;ip!==b&&(sp=kh(b),ip=b),y=Pa(sp[g]||xs)}return y}o(dC,"_getCookieValue");function em(g,y){!tc&&Wg(),tc.v&&(tc.v[Vg]=g+"="+y)}o(em,"_setCookieValue");function Yu(g){return F0(g)?!!(sl(g,"CPU iPhone OS 12")||sl(g,"iPad; CPU OS 12")||sl(g,"Macintosh; Intel Mac OS X 10_14")&&sl(g,"Version/")&&sl(g,"Safari")||sl(g,"Macintosh; Intel Mac OS X 10_14")&&K4(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||sl(g,"Chrome/5")||sl(g,"Chrome/6")||sl(g,"UnrealEngine")&&!sl(g,"Chrome")||sl(g,"UCBrowser/12")||sl(g,"UCBrowser/11")):!1}o(Yu,"uaDisallowsSameSiteNone");var hC={perfEvtsSendAll:!1};function T5(g,y,b,w){gn(g,function(k){if(k&&k[y])if(b)xc(function(){return w(k)},0);else try{w(k)}catch{}})}o(T5,"_runListeners");var gC=function(){function g(y){this.listeners=[];var b,w,k=[],K=al(y,hC);w=K[s1](function(X){b=!!X.cfg.perfEvtsSendAll}),Yl(g,this,function(X){js(X,"listeners",{g:function(){return k}}),X[Q3]=function(ce){k[$s](ce)},X[e2]=function(ce){for(var Ie=Tf(k,ce);Ie>-1;)k[Ou](Ie,1),Ie=Tf(k,ce)},X[Hu]=function(ce){T5(k,Hu,!0,function(Ie){Ie[Hu](ce)})},X[V1]=function(ce,Ie){T5(k,V1,!0,function(He){He[V1](ce,Ie)})},X[l2]=function(ce,Ie){T5(k,l2,Ie,function(He){He[l2](ce,Ie)})},X[Al]=function(ce){ce&&(b||!ce[uh]())&&T5(k,Al,!1,function(Ie){ce[Qd]?xc(function(){return Ie[Al](ce)},0):Ie[Al](ce)})},X[wf]=function(ce){var Ie=o(function(){w&&w.rm(),w=null,k=[]},"_finishUnload"),He;if(T5(k,"unload",!1,function(Qt){var v0=Qt[wf](ce);v0&&(He||(He=[]),He[$s](v0))}),He)return o5(function(Qt){return hh(B7(He),function(){Ie(),Qt()})});Ie()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),S5="ctx",w5="ParentContextKey",Ju="ChildrenContextKey",mC=null,T2=function(){function g(y,b,w){var k=this;if(k.start=B1(),k[j1]=y,k[Qd]=w,k[uh]=function(){return!1},y0(b)){var K;js(k,"payload",{g:function(){return!K&&y0(b)&&(K=b(),b=null),K}})}k[r5]=function(X){return X?X===g[w5]||X===g[Ju]?k[X]:(k[S5]||{})[X]:null},k[Cc]=function(X,ce){if(X)if(X===g[w5])k[X]||(k[uh]=function(){return!0}),k[X]=ce;else if(X===g[Ju])k[X]=ce;else{var Ie=k[S5]=k[S5]||{};Ie[X]=ce}},k[i2]=function(){var X=0,ce=k[r5](g[Ju]);if(Se(ce))for(var Ie=0;Ie<ce[Wi];Ie++){var He=ce[Ie];He&&(X+=He[Xd])}k[Xd]=B1()-k.start,k.exTime=k[Xd]-X,k[i2]=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),tm=function(){function g(y){this.ctx={},Yl(g,this,function(b){b.create=function(w,k,K){return new T2(w,k,K)},b.fire=function(w){w&&(w[i2](),y&&y0(y[Al])&&y[Al](w))},b[Cc]=function(w,k){if(w){var K=b[S5]=b[S5]||{};K[w]=k}},b[r5]=function(w){return(b[S5]||{})[w]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),rm="CoreUtils.doPerf";function lp(g,y,b,w,k){if(g){var K=g;if(K[f2]&&(K=K[f2]()),K){var X=void 0,ce=K[r5](rm);try{if(X=K.create(y(),w,k),X){if(ce&&X[Cc]&&(X[Cc](T2[w5],ce),ce[r5]&&ce[Cc])){var Ie=ce[r5](T2[Ju]);Ie||(Ie=[],ce[Cc](T2[Ju],Ie)),Ie[$s](X)}return K[Cc](rm,X),b(X)}}catch(He){X&&X[Cc]&&X[Cc]("exception",He)}finally{X&&K.fire(X),K[Cc](rm,ce)}}}return b()}o(lp,"doPerf");function S2(){return mC}o(S2,"getGblPerfMgr");var pC="00000000000000000000000000000000",nm="0000000000000000";function fp(g,y,b){return g&&g[Wi]===y&&g!==b?!!g.match(/^[\da-f]*$/i):!1}o(fp,"_isValid");function yC(g){return fp(g,32,pC)}o(yC,"isValidTraceId");function vC(g){return fp(g,16,nm)}o(vC,"isValidSpanId");var xC=Sc("plugin");function Xu(g){return xC.get(g,"state",{},!0)}o(Xu,"_getPluginState");function cp(g,y){for(var b=[],w=null,k=g[Jl](),K;k;){var X=k[Z3]();if(X){w&&w[r2]&&X[Af]&&w[r2](X),K=Xu(X);var ce=!!K[_c];X[_c]&&(ce=X[_c]()),ce||b[$s](X),w=X,k=k[Jl]()}}gn(b,function(Ie){var He=g[ba]();Ie[X3](g.getCfg(),He,y,g[Jl]()),K=Xu(Ie),!Ie[ba]&&!K[ba]&&(K[ba]=He),K[_c]=!0,delete K[o1]})}o(cp,"initializePlugins");function im(g){return g.sort(function(y,b){var w=0;if(b){var k=b[Af];y[Af]?w=k?y[l5]-b[l5]:1:k&&(w=-1)}else w=y?1:-1;return w})}o(im,"sortPlugins");function _C(g){var y={};return{getName:function(){return y[j1]},setName:function(b){g&&g.setName(b),y[j1]=b},getTraceId:function(){return y[yg]},setTraceId:function(b){g&&g.setTraceId(b),yC(b)&&(y[yg]=b)},getSpanId:function(){return y[R7]},setSpanId:function(b){g&&g.setSpanId(b),vC(b)&&(y[R7]=b)},getTraceFlags:function(){return y[n5]},setTraceFlags:function(b){g&&g.setTraceFlags(b),y[n5]=b}}}o(_C,"createDistributedTraceContext");var bC="TelemetryPluginChain",c1="_hasRun",I5="_getTelCtx",Ca=0;function Dh(g,y,b){for(;g;){if(g[Z3]()===b)return g;g=g[Jl]()}return nc([b],y.config||{},y)}o(Dh,"_getNextProxyStart");function X1(g,y,b,w){var k=null,K=[];y||(y=al({},null,b[_a])),w!==null&&(k=w?Dh(g,b,w):g);var X={_next:Ie,ctx:{core:function(){return b},diagLog:function(){return C2(b,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Qt,getConfig:v0,hasNext:function(){return!!k},getNext:function(){return k},setNext:function(x0){k=x0},iterate:T0,onComplete:ce}};function ce(x0,g0){for(var q0=[],w0=2;w0<arguments.length;w0++)q0[w0-2]=arguments[w0];x0&&K[$s]({func:x0,self:o0(g0)?X.ctx:g0,args:q0})}o(ce,"_addOnComplete");function Ie(){var x0=k;if(k=x0?x0[Jl]():null,!x0){var g0=K;g0&&g0[Wi]>0&&(gn(g0,function(q0){try{q0.func.call(q0.self,q0.args)}catch(w0){jr(b[_a],2,73,"Unexpected Exception during onComplete - "+Dr(w0))}}),K=[])}return x0}o(Ie,"_moveNext");function He(x0,g0){var q0=null,w0=y.cfg;if(w0&&x0){var G0=w0[$u];!G0&&g0&&(G0={}),w0[$u]=G0,G0=y.ref(w0,$u),G0&&(q0=G0[x0],!q0&&g0&&(q0={}),G0[x0]=q0,q0=y.ref(G0,x0))}return q0}o(He,"_getExtCfg");function Qt(x0,g0){var q0=He(x0,!0);return g0&&mr(g0,function(w0,G0){if(de(q0[w0])){var U0=y.cfg[w0];(U0||!de(U0))&&(q0[w0]=U0)}Sh(y,q0,w0,G0)}),y[Yd](q0,g0)}o(Qt,"_resolveExtCfg");function v0(x0,g0,q0){q0===void 0&&(q0=!1);var w0,G0=He(x0,!1),U0=y.cfg;return G0&&(G0[g0]||!de(G0[g0]))?w0=G0[g0]:(U0[g0]||!de(U0[g0]))&&(w0=U0[g0]),w0||!de(w0)?w0:q0}o(v0,"_getConfig");function T0(x0){for(var g0;g0=X._next();){var q0=g0[Z3]();q0&&x0(q0)}}return o(T0,"_iterateChain"),X}o(X1,"_createInternalContext");function Z1(g,y,b,w){var k=al(y),K=X1(g,k,b,w),X=K.ctx;function ce(He){var Qt=K._next();return Qt&&Qt[Af](He,X),!Qt}o(ce,"_processNext");function Ie(He,Qt){return He===void 0&&(He=null),Se(He)&&(He=nc(He,k.cfg,b,Qt)),Z1(He||X[Jl](),k.cfg,b,Qt)}return o(Ie,"_createNew"),X[wl]=ce,X[Xf]=Ie,X}o(Z1,"createProcessTelemetryContext");function rc(g,y,b){var w=al(y.config),k=X1(g,w,y,b),K=k.ctx;function X(Ie){var He=k._next();return He&&He[wf](K,Ie),!He}o(X,"_processNext");function ce(Ie,He){return Ie===void 0&&(Ie=null),Se(Ie)&&(Ie=nc(Ie,w.cfg,y,He)),rc(Ie||K[Jl](),y,He)}return o(ce,"_createNew"),K[wl]=X,K[Xf]=ce,K}o(rc,"createProcessTelemetryUnloadContext");function u1(g,y,b){var w=al(y.config),k=X1(g,w,y,b),K=k.ctx;function X(Ie){return K.iterate(function(He){y0(He[t2])&&He[t2](K,Ie)})}o(X,"_processNext");function ce(Ie,He){return Ie===void 0&&(Ie=null),Se(Ie)&&(Ie=nc(Ie,w.cfg,y,He)),u1(Ie||K[Jl](),y,He)}return o(ce,"_createNew"),K[wl]=X,K[Xf]=ce,K}o(u1,"createProcessTelemetryUpdateContext");function nc(g,y,b,w){var k=null,K=!w;if(Se(g)&&g[Wi]>0){var X=null;gn(g,function(ce){if(!K&&w===ce&&(K=!0),K&&ce&&y0(ce[Af])){var Ie=up(ce,y,b);k||(k=Ie),X&&X._setNext(Ie),X=Ie}})}return w&&!k?nc([w],y,b):k}o(nc,"createTelemetryProxyChain");function up(g,y,b){var w=null,k=y0(g[Af]),K=y0(g[r2]),X;g?X=g[q1]+"-"+g[l5]+"-"+Ca++:X="Unknown-0-"+Ca++;var ce={getPlugin:function(){return g},getNext:function(){return w},processTelemetry:Qt,unload:v0,update:T0,_id:X,_setNext:function(x0){w=x0}};function Ie(){var x0;return g&&y0(g[I5])&&(x0=g[I5]()),x0||(x0=Z1(ce,y,b)),x0}o(Ie,"_getTelCtx");function He(x0,g0,q0,w0,G0){var U0=!1,D0=g?g[q1]:bC,X0=x0[c1];return X0||(X0=x0[c1]={}),x0.setNext(w),g&&lp(x0[ba](),function(){return D0+":"+q0},function(){X0[X]=!0;try{var bn=w?w._id:xs;bn&&(X0[bn]=!1),U0=g0(x0)}catch(da){var Ms=w?X0[w._id]:!0;Ms&&(U0=!0),(!w||!Ms)&&jr(x0[a1](),1,73,"Plugin ["+D0+"] failed during "+q0+" - "+Dr(da)+", run flags: "+Dr(X0))}},w0,G0),U0}o(He,"_processChain");function Qt(x0,g0){g0=g0||Ie();function q0(w0){if(!g||!k)return!1;var G0=Xu(g);return G0[o1]||G0[Il]?!1:(K&&g[r2](w),g[Af](x0,w0),!0)}o(q0,"_callProcessTelemetry"),He(g0,q0,"processTelemetry",function(){return{item:x0}},!x0.sync)||g0[wl](x0)}o(Qt,"_processTelemetry");function v0(x0,g0){function q0(){var w0=!1;if(g){var G0=Xu(g),U0=g[ba]||G0[ba];g&&(!U0||U0===x0.core())&&!G0[o1]&&(G0[ba]=null,G0[o1]=!0,G0[_c]=!1,g[o1]&&g[o1](x0,g0)===!0&&(w0=!0))}return w0}o(q0,"_callTeardown"),He(x0,q0,"unload",function(){},g0[Qd])||x0[wl](g0)}o(v0,"_unloadPlugin");function T0(x0,g0){function q0(){var w0=!1;if(g){var G0=Xu(g),U0=g[ba]||G0[ba];g&&(!U0||U0===x0.core())&&!G0[o1]&&g[t2]&&g[t2](x0,g0)===!0&&(w0=!0)}return w0}o(q0,"_callUpdate"),He(x0,q0,"update",function(){},!1)||x0[wl](g0)}return o(T0,"_updatePlugin"),Ue(ce)}o(up,"createTelemetryPluginProxy");function sm(){var g=[];function y(w){w&&g[$s](w)}o(y,"_addHandler");function b(w,k){gn(g,function(K){try{K(w,k)}catch(X){jr(w[a1](),2,73,"Unexpected error calling unload handler - "+Dr(X))}}),g=[]}return o(b,"_runHandlers"),{add:y,run:b}}o(sm,"createUnloadHandlerContainer");function dp(){var g=[];function y(w){var k=g;g=[],gn(k,function(K){try{(K.rm||K.remove).call(K)}catch(X){jr(w,2,73,"Unloading:"+Dr(X))}})}o(y,"_doUnload");function b(w){w&&L1(g,w)}return o(b,"_addHook"),{run:y,add:b}}o(dp,"createUnloadHookContainer");var om,Q1="getPlugin",CC=(om={},om[$u]={isVal:Ig,v:{}},om),am=function(){function g(){var y=this,b,w,k,K,X;He(),Yl(g,y,function(Qt){Qt[X3]=function(v0,T0,x0,g0){Ie(v0,T0,g0),b=!0},Qt[o1]=function(v0,T0){var x0,g0=Qt[ba];if(!g0||v0&&g0!==v0[ba]())return;var q0,w0=!1,G0=v0||rc(null,g0,k&&k[Q1]?k[Q1]():k),U0=T0||(x0={reason:0},x0[Qd]=!1,x0);function D0(){w0||(w0=!0,K.run(G0,T0),X.run(G0[a1]()),q0===!0&&G0[wl](U0),He())}return o(D0,"_unloadCallback"),!Qt[ch]||Qt[ch](G0,U0,D0)!==!0?D0():q0=!0,q0},Qt[t2]=function(v0,T0){var x0=Qt[ba];if(!x0||v0&&x0!==v0[ba]())return;var g0,q0=!1,w0=v0||u1(null,x0,k&&k[Q1]?k[Q1]():k),G0=T0||{reason:0};function U0(){q0||(q0=!0,Ie(w0.getCfg(),w0.core(),w0[Jl]()))}return o(U0,"_updateCallback"),!Qt._doUpdate||Qt._doUpdate(w0,G0,U0)!==!0?U0():g0=!0,g0},f5(Qt,"_addUnloadCb",function(){return K},"add"),f5(Qt,"_addHook",function(){return X},"add"),js(Qt,"_unloadHooks",{g:function(){return X}})}),y[a1]=function(Qt){return ce(Qt)[a1]()},y[_c]=function(){return b},y.setInitialized=function(Qt){b=Qt},y[r2]=function(Qt){k=Qt},y[wl]=function(Qt,v0){v0?v0[wl](Qt):k&&y0(k[Af])&&k[Af](Qt,null)},y._getTelCtx=ce;function ce(Qt){Qt===void 0&&(Qt=null);var v0=Qt;if(!v0){var T0=w||Z1(null,{},y[ba]);k&&k[Q1]?v0=T0[Xf](null,k[Q1]):v0=T0[Xf](null,k)}return v0}o(ce,"_getTelCtx");function Ie(Qt,v0,T0){al(Qt,CC,C2(v0)),!T0&&v0&&(T0=v0[mg]()[Jl]());var x0=k;k&&k[Q1]&&(x0=k[Q1]()),y[ba]=v0,w=Z1(T0,Qt,v0,x0)}o(Ie,"_setDefaults");function He(){b=!1,y[ba]=null,w=null,k=null,X=dp(),K=sm()}o(He,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function EC(g,y,b){var w={id:y,fn:b};L1(g,w);var k={remove:function(){gn(g,function(K,X){if(K.id===w.id)return g[Ou](X,1),-1})}};return k}o(EC,"_addInitializer");function TC(g,y,b){for(var w=!1,k=g[Wi],K=0;K<k;++K){var X=g[K];if(X)try{if(X.fn[Jd](null,[y])===!1){w=!0;break}}catch(ce){jr(b,2,64,"Telemetry initializer failed: "+Pl(ce),{exception:Dr(ce)},!0)}}return!w}o(TC,"_runInitializers");var SC=function(g){G3(y,g);function y(){var b=g.call(this)||this;b.identifier="TelemetryInitializerPlugin",b.priority=199;var w,k;K(),Yl(y,b,function(X,ce){X.addTelemetryInitializer=function(Ie){return EC(k,w++,Ie)},X[Af]=function(Ie,He){TC(k,Ie,He?He[a1]():X[a1]())&&X[wl](Ie,He)},X[ch]=function(){K()}});function K(){w=0,k=[]}return o(K,"_initDefaults"),b}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(am),eu,_="Plugins must provide initialize method",I="_notificationManager",N="SDK is still unloading...",$="SDK is not initialized",ue=hn((eu={cookieCfg:{}},eu[a5]={rdOnly:!0,ref:!0,v:[]},eu[ju]={rdOnly:!0,ref:!0,v:[]},eu[$u]={ref:!0,v:{}},eu[Cg]=If,eu.loggingLevelConsole=0,eu.diagnosticLogInterval=If,eu));function vt(g,y){return new tm(y)}o(vt,"_createPerfManager");function r0(g,y,b){var w,k=[],K=[],X={};return gn(b,function(ce){(de(ce)||de(ce[X3]))&&Bs(_);var Ie=ce[l5],He=ce[q1];ce&&Ie&&(de(X[Ie])?X[Ie]=He:E5(g,"Two extensions have same priority #"+Ie+" - "+X[Ie]+", "+He)),!Ie||Ie<y?k[$s](ce):K[$s](ce)}),w={},w[ba]=k,w[ju]=K,w}o(r0,"_validateExtensions");function h0(g,y){var b=!1;return gn(y,function(w){if(w===g)return b=!0,-1}),b}o(h0,"_isPluginPresent");function _0(g,y,b,w){b&&mr(b,function(k,K){w&&Wl(K)&&Wl(y[k])&&_0(g,y[k],K,w),w&&Wl(K)&&Wl(y[k])?_0(g,y[k],K,w):g.set(y,k,K)})}o(_0,"_deepMergeConfig");function B0(g,y){var b=null,w=-1;return gn(g,function(k,K){if(k.w===y)return b=k,w=K,-1}),{i:w,l:b}}o(B0,"_findWatcher");function fr(g,y){var b=B0(g,y).l;return b||(b={w:y,rm:function(){var w=B0(g,y);w.i!==-1&&g[Ou](w.i,1)}},g[$s](b)),b}o(fr,"_addDelayedCfgListener");function ki(g,y,b){gn(y,function(w){var k=x5(g,w.w,b);delete w.w,w.rm=function(){k.rm()}})}o(ki,"_registerDelayedCfgListener");var Ai=function(){function g(){var y,b,w,k,K,X,ce,Ie,He,Qt,v0,T0,x0,g0,q0,w0,G0,U0,D0,X0,bn,Ms,da,Ho,ul,Fa,Im,O5;Yl(g,this,function(hr){F5(),hr._getDbgPlgTargets=function(){return[da]},hr[_c]=function(){return b},hr[X3]=function(R0,xr,Ci,fn){x0&&Bs(N),hr[_c]()&&Bs("Core cannot be initialized more than once"),y=al(R0,ue,Ci||hr[_a],!1),R0=y.cfg,sd(y[s1](function(Ss){bn=Ss.cfg.instrumentationKey;var Ma=Ss.ref(Ss.cfg,$u);mr(Ma,function(Qa){Ss.ref(Ma,Qa)}),de(bn)&&Bs("Please provide instrumentation key")})),K=fn,rE(),nE(),hr[_a]=Ci;var un=R0[a5];if(Qt=[],Qt[$s].apply(Qt,S7(S7([],xr,!1),un)),v0=R0[ju],Ac(null),(!T0||T0[Wi]===0)&&Bs("No "+ju+" available"),v0&&v0[Wi]>1){var Ws=hr[Z3]("TeeChannelController");(!Ws||!Ws.plugin)&&jr(w,1,28,"TeeChannel required")}ki(R0,Ms,w),Ms=null,b=!0,hr.releaseQueue(),hr[I7]()},hr.getChannels=function(){var R0=[];return T0&&gn(T0,function(xr){R0[$s](xr)}),Ue(R0)},hr.track=function(R0){lp(hr[f2](),function(){return"AppInsightsCore:track"},function(){R0===null&&(Pm(R0),Bs("Invalid telemetry item")),!R0[j1]&&de(R0[j1])&&(Pm(R0),Bs("telemetry name required")),R0.iKey=R0.iKey||bn,R0[Xd]=R0[Xd]||c2(new Date),R0.ver=R0.ver||"4.0",!x0&&hr[_c]()?id()[wl](R0):k[$s](R0)},function(){return{item:R0}},!R0.sync)},hr[mg]=id,hr[Sf]=function(){return K||(K=new gC(y.cfg),hr[I]=K),K},hr[Q3]=function(R0){hr[Sf]()[Q3](R0)},hr[e2]=function(R0){K&&K[e2](R0)},hr.getCookieMgr=function(){return Ie||(Ie=Xg(y.cfg,hr[_a])),Ie},hr.setCookieMgr=function(R0){Ie!==R0&&(_5(Ie,!1),Ie=R0)},hr[f2]=function(){return!X&&!ce&&sd(y[s1](function(R0){if(R0.cfg.enablePerfMgr){var xr=R0.cfg[Cg];y0(xr)&&(ce=xr(hr,hr[Sf]()))}})),X||ce||S2()},hr.setPerfMgr=function(R0){X=R0},hr.eventCnt=function(){return k[Wi]},hr.releaseQueue=function(){if(b&&k[Wi]>0){var R0=k;k=[],gn(R0,function(xr){id()[wl](xr)})}},hr[I7]=function(R0){return q0=R0||null,O5=!1,Fa&&Fa[Fu](),m1(!0)};function m1(R0){if((!Fa||!Fa[Mu])&&!O5){var xr=R0||w&&w.queue[Wi]>0;xr&&(Im||(Im=!0,sd(y[s1](function(Ci){var fn=Ci.cfg.diagnosticLogInterval;(!fn||!(fn>0))&&(fn=1e4);var un=!1;Fa&&(un=Fa[Mu],Fa[Fu]()),Fa=b7(K2,fn),Fa.unref(),Fa[Mu]=un}))),Fa[Mu]=!0)}return Fa}o(m1,"_startLogPoller"),hr[Zd]=function(){O5=!0,Fa&&Fa[Fu](),K2()},Pg(hr,function(){return g0},["addTelemetryInitializer"]),hr[wf]=function(R0,xr,Ci){var fn;R0===void 0&&(R0=!0),b||Bs($),x0&&Bs(N);var un=(fn={reason:50},fn[Qd]=R0,fn.flushComplete=!1,fn),Ws;R0&&!xr&&(Ws=o5(function(Qa){xr=Qa}));var Ss=rc(V0(),hr);Ss[lh](function(){U0.run(hr[_a]),Y7([Ie,K,w],R0,function(){F5(),xr&&xr(un)})},hr);function Ma(Qa){un.flushComplete=Qa,x0=!0,G0.run(Ss,un),hr[Zd](),Ss[wl](un)}return o(Ma,"_doUnload"),K2(),Am(R0,Ma,6,Ci),Ws},hr[Z3]=zh,hr.addPlugin=function(R0,xr,Ci,fn){if(!R0){fn&&fn(!1),Bp(_);return}var un=zh(R0[q1]);if(un&&!xr){fn&&fn(!1),Bp("Plugin ["+R0[q1]+"] is already loaded!");return}var Ws={reason:16};function Ss(kf){Qt[$s](R0),Ws.added=[R0],Ac(Ws),fn&&fn(!0)}if(o(Ss,"_addPlugin"),un){var Ma=[un.plugin],Qa={reason:2,isAsync:!!Ci};Dp(Ma,Qa,function(kf){kf?(Ws.removed=Ma,Ws.reason|=32,Ss()):fn&&fn(!1)})}else Ss()},hr.updateCfg=function(R0,xr){xr===void 0&&(xr=!0);var Ci;if(hr[_c]()){Ci={reason:1,cfg:y.cfg,oldCfg:y7({},y.cfg),newConfig:y7({},R0),merge:xr},R0=Ci.newConfig;var fn=y.cfg;R0[a5]=fn[a5],R0[ju]=fn[ju]}y._block(function(un){var Ws=un.cfg;_0(un,Ws,R0,xr),xr||mr(Ws,function(Ss){le(R0,Ss)||un.set(Ws,Ss,If)}),un[Yd](Ws,ue)},!0),y[ah](),Ci&&Lp(Ci)},hr.evtNamespace=function(){return w0},hr.flush=Am,hr.getTraceCtx=function(R0){return X0||(X0=_C()),X0},hr.setTraceCtx=function(R0){X0=R0||null},hr.addUnloadHook=sd,f5(hr,"addUnloadCb",function(){return G0},"add"),hr.onCfgChange=function(R0){var xr;return b?xr=x5(y.cfg,R0,hr[_a]):xr=fr(Ms,R0),{rm:function(){xr.rm()}}},hr.getWParam=function(){return X6()||y.cfg.enableWParam?0:-1};function G2(){var R0={};Ho=[];var xr=o(function(Ci){Ci&&gn(Ci,function(fn){if(fn[q1]&&fn[A7]&&!R0[fn.identifier]){var un=fn[q1]+"="+fn[A7];Ho[$s](un),R0[fn.identifier]=fn}})},"_addPluginVersions");xr(T0),v0&&gn(v0,function(Ci){xr(Ci)}),xr(Qt)}o(G2,"_setPluginVersions");function F5(){b=!1,y=al({},ue,hr[_a]),y.cfg[P7]=1,js(hr,"config",{g:function(){return y.cfg},s:function(xr){hr.updateCfg(xr,!1)}}),js(hr,"pluginVersionStringArr",{g:function(){return Ho||G2(),Ho}}),js(hr,"pluginVersionString",{g:function(){return ul||(Ho||G2(),ul=Ho.join(";")),ul||xs}}),js(hr,"logger",{g:function(){return w||(w=new Ph(y.cfg),y[_a]=w),w},s:function(xr){y[_a]=xr,w!==xr&&(_5(w,!1),w=xr)}}),hr[_a]=new Ph(y.cfg),da=[];var R0=hr.config[a5]||[];R0.splice(0,R0[Wi]),L1(R0,da),g0=new SC,k=[],_5(K,!1),K=null,X=null,ce=null,_5(Ie,!1),Ie=null,He=null,Qt=[],v0=null,T0=null,x0=!1,q0=null,w0=Rf("AIBaseCore",!0),G0=sm(),X0=null,bn=null,U0=dp(),Ms=[],ul=null,Ho=null,O5=!1}o(F5,"_initDefaults");function id(){var R0=Z1(V0(),y.cfg,hr);return R0[lh](m1),R0}o(id,"_createTelCtx");function Ac(R0){var xr=r0(hr[_a],J7,Qt);He=null,ul=null,Ho=null,T0=(v0||[])[0]||[],T0=im(L1(T0,xr[ju]));var Ci=L1(im(xr[ba]),T0);da=Ue(Ci);var fn=hr.config[a5]||[];fn.splice(0,fn[Wi]),L1(fn,da);var un=id();T0&&T0[Wi]>0&&cp(un[Xf](T0),Ci),cp(un,Ci),R0&&Lp(R0)}o(Ac,"_initPluginChain");function zh(R0){var xr=null,Ci=null,fn=[];return gn(da,function(un){if(un[q1]===R0&&un!==g0)return Ci=un,-1;un.getChannel&&fn[$s](un)}),!Ci&&fn[Wi]>0&&gn(fn,function(un){if(Ci=un.getChannel(R0),!Ci)return-1}),Ci&&(xr={plugin:Ci,setEnabled:function(un){Xu(Ci)[Il]=!un},isEnabled:function(){var un=Xu(Ci);return!un[o1]&&!un[Il]},remove:function(un,Ws){var Ss;un===void 0&&(un=!0);var Ma=[Ci],Qa=(Ss={reason:1},Ss[Qd]=un,Ss);Dp(Ma,Qa,function(kf){kf&&Ac({reason:32,removed:Ma}),Ws&&Ws(kf)})}}),xr}o(zh,"_getPlugin");function V0(){if(!He){var R0=(da||[]).slice();Tf(R0,g0)===-1&&R0[$s](g0),He=nc(im(R0),y.cfg,hr)}return He}o(V0,"_getPluginChain");function Dp(R0,xr,Ci){if(R0&&R0[Wi]>0){var fn=nc(R0,y.cfg,hr),un=rc(fn,hr);un[lh](function(){var Ws=!1,Ss=[];gn(Qt,function(Qa,kf){h0(Qa,R0)?Ws=!0:Ss[$s](Qa)}),Qt=Ss,ul=null,Ho=null;var Ma=[];v0&&(gn(v0,function(Qa,kf){var M5=[];gn(Qa,function(Op){h0(Op,R0)?Ws=!0:M5[$s](Op)}),Ma[$s](M5)}),v0=Ma),Ci&&Ci(Ws),m1()}),un[wl](xr)}else Ci(!1)}o(Dp,"_removePlugins");function K2(){if(w&&w.queue){var R0=w.queue.slice(0);w.queue[Wi]=0,gn(R0,function(xr){var Ci,fn=(Ci={},Ci[j1]=q0||"InternalMessageId: "+xr[fh],Ci.iKey=bn,Ci[Xd]=c2(new Date),Ci.baseType=C5.dataType,Ci.baseData={message:xr[Uu]},Ci);hr.track(fn)})}}o(K2,"_flushInternalLogs");function Am(R0,xr,Ci,fn){var un=1,Ws=!1,Ss=null;fn=fn||5e3;function Ma(){un--,Ws&&un===0&&(Ss&&Ss[Fu](),Ss=null,xr&&xr(Ws),xr=null)}if(o(Ma,"doCallback"),T0&&T0[Wi]>0){var Qa=id()[Xf](T0);Qa.iterate(function(kf){if(kf.flush){un++;var M5=!1;kf.flush(R0,function(){M5=!0,Ma()},Ci)||M5||(R0&&Ss==null?Ss=xc(function(){Ss=null,Ma()},fn):Ma())}})}return Ws=!0,Ma(),!0}o(Am,"_flushChannels");function rE(){!K&&hr[Sf](),sd(y[s1](function(R0){var xr=R0.cfg.disableDbgExt;xr===!0&&D0&&(K[e2](D0),D0=null),K&&!D0&&xr!==!0&&(D0=lC(R0.cfg),K[Q3](D0))}))}o(rE,"_initDebugListener");function nE(){sd(y[s1](function(R0){var xr=R0.cfg.enablePerfMgr;!xr&&ce&&(ce=null),xr&&F7(R0.cfg,Cg,vt)}))}o(nE,"_initPerfManager");function Lp(R0){var xr=u1(V0(),hr);xr[lh](m1),(!hr._updateHook||hr._updateHook(xr,R0)!==!0)&&xr[wl](R0)}o(Lp,"_doUpdate");function Bp(R0){var xr=hr[_a];xr?(jr(xr,2,73,R0),m1()):Bs(R0)}o(Bp,"_logOrThrowError");function Pm(R0){var xr=hr[Sf]();xr&&xr[V1]([R0],2)}o(Pm,"_notifyInvalidEvent");function sd(R0){U0.add(R0)}o(sd,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}(),pn="on",Pr="attachEvent",Yi="addEventListener",ln="detachEvent",Ts="removeEventListener",ji="events";Rf("aiEvtPageHide"),Rf("aiEvtPageShow");var _n=/\.[\.]+/g,ca=/[\.]+$/,A5=1,tu=Sc("events"),hp=/^([^.]*)(?:\.(.+)|)/;function lm(g){return g&&g[qu]?g[qu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,xs):g}o(lm,"_normalizeNamespace");function fm(g,y){var b;if(y){var w=xs;Se(y)?(w=xs,gn(y,function(K){K=lm(K),K&&(K[0]!=="."&&(K="."+K),w+=K)})):w=lm(y),w&&(w[0]!=="."&&(w="."+w),g=(g||xs)+w)}var k=hp.exec(g||xs)||[];return b={},b[bc]=k[1],b.ns=(k[2]||xs).replace(_n,".").replace(ca,xs)[t5](".").sort().join("."),b}o(fm,"_getEvtNamespace");function gp(g,y,b){b===void 0&&(b=!0);var w=tu.get(g,ji,{},b),k=w[y];return k||(k=w[y]=[]),k}o(gp,"_getRegisteredEvents");function Lh(g,y,b,w){g&&y&&y[bc]&&(g[Ts]?g[Ts](y[bc],b,w):g[ln]&&g[ln](pn+y[bc],b))}o(Lh,"_doDetach");function mp(g,y,b,w){var k=!1;return g&&y&&y[bc]&&b&&(g[Yi]?(g[Yi](y[bc],b,w),k=!0):g[Pr]&&(g[Pr](pn+y[bc],b),k=!0)),k}o(mp,"_doAttach");function cm(g,y,b,w){for(var k=y[Wi];k--;){var K=y[k];K&&(!b.ns||b.ns===K.evtName.ns)&&(!w||w(K))&&(Lh(g,K.evtName,K[pg],K.capture),y[Ou](k,1))}}o(cm,"_doUnregister");function K0(g,y,b){if(y[bc])cm(g,gp(g,y[bc]),y,b);else{var w=tu.get(g,ji,{});mr(w,function(k,K){cm(g,K,y,b)}),Xa(w)[Wi]===0&&tu.kill(g,ji)}}o(K0,"_unregisterEvents");function Lr(g,y){var b;return y?(Se(y)?b=[g].concat(y):b=[g,y],b=fm("xx",b).ns[t5](".")):b=g,b}o(Lr,"mergeEvtNamespace");function Di(g,y,b,w,k){var K;k===void 0&&(k=!1);var X=!1;if(g)try{var ce=fm(y,w);if(X=mp(g,ce,b,k),X&&tu.accept(g)){var Ie=(K={guid:A5++,evtName:ce},K[pg]=b,K.capture=k,K);gp(g,ce.type)[$s](Ie)}}catch{}return X}o(Di,"eventOn");function Qs(g,y,b,w,k){if(k===void 0&&(k=!1),g)try{var K=fm(y,w),X=!1;K0(g,K,function(ce){return K.ns&&!b||ce[pg]===b?(X=!0,!0):!1}),X||Lh(g,K,b,k)}catch{}}o(Qs,"eventOff");var Ra="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ea="sampleRate",Ta="ProcessLegacy",Zu="http.method",d1="https://dc.services.visualstudio.com",h1="/v2/track",ru="not_specified",P5=gg({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),w2="split",bs="length",pp="toLowerCase",I2="ingestionendpoint",Bh="toString",wC="push",PK="removeItem",R5="name",A2="message",RK="count",IC="stringify",AC="pathname",Oh="exceptions",g1="parsedStack",nu="properties",Qu="measurements",Fh="sizeInBytes",ed="typeName",um="severityLevel",PC="problemGroup",RC="isManual",Zk="CreateFromInterface",Mh="assembly",P2="fileName",yp="hasFullStack",vp="level",Uh="method",dm="line",xp="duration",Qk="receivedResponse";function eD(g,y,b){var w=y[bs],k=NK(g,y);if(k[bs]!==w){for(var K=0,X=k;b[X]!==void 0;)K++,X=Q(k,0,147)+LK(K);k=X}return k}o(eD,"dataSanitizeKeyAndAddUniqueness");function NK(g,y){var b;return y&&(y=Pa(cn(y)),y[bs]>150&&(b=Q(y,0,150),jr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),b||y}o(NK,"dataSanitizeKey");function Zl(g,y,b){b===void 0&&(b=1024);var w;return y&&(b=b||1024,y=Pa(cn(y)),y[bs]>b&&(w=Q(y,0,b),jr(g,2,61,"string value is too long. It has been truncated to "+b+" characters.",{value:y},!0))),w||y}o(Zl,"dataSanitizeString");function NC(g,y){return rD(g,y,2048,66)}o(NC,"dataSanitizeUrl");function tD(g,y){var b;return y&&y[bs]>32768&&(b=Q(y,0,32768),jr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),b||y}o(tD,"dataSanitizeMessage");function kK(g,y){var b;if(y){var w=""+y;w[bs]>32768&&(b=Q(w,0,32768),jr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return b||y}o(kK,"dataSanitizeException");function R2(g,y){if(y){var b={};mr(y,function(w,k){if(Er(k)&&df())try{k=Ec()[IC](k)}catch(K){jr(g,2,49,"custom property is not valid",{exception:K},!0)}k=Zl(g,k,8192),w=eD(g,w,b),b[w]=k}),y=b}return y}o(R2,"dataSanitizeProperties");function N2(g,y){if(y){var b={};mr(y,function(w,k){w=eD(g,w,b),b[w]=k}),y=b}return y}o(N2,"dataSanitizeMeasurements");function DK(g,y){return y&&rD(g,y,128,69)[Bh]()}o(DK,"dataSanitizeId");function rD(g,y,b,w){var k;return y&&(y=Pa(cn(y)),y[bs]>b&&(k=Q(y,0,b),jr(g,2,w,"input is too long, it has been truncated to "+b+" characters.",{data:y},!0))),k||y}o(rD,"dataSanitizeInput");function LK(g){var y="00"+g;return bt(y,y[bs]-3)}o(LK,"dsPadNumber");var nD=Nu()||{},iD=0,BK=[null,null,null,null,null];function OK(g){var y=iD,b=BK,w=b[y];return nD.createElement?b[y]||(w=b[y]=nD.createElement("a")):w={host:FK(g,!0)},w.href=g,y++,y>=b[bs]&&(y=0),iD=y,w}o(OK,"urlParseUrl");function FK(g,y){var b=MK(g,y)||"";if(b){var w=b.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(w!=null&&w[bs]>3&&F0(w[2])&&w[2][bs]>0)return w[2]+(w[3]||"")}return b}o(FK,"urlParseHost");function MK(g,y){var b=null;if(g){var w=g.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(w!=null&&w[bs]>2&&F0(w[2])&&w[2][bs]>0&&(b=w[2]||"",y&&w[bs]>2)){var k=(w[1]||"")[pp](),K=w[3]||"";(k==="http"&&K===":80"||k==="https"&&K===":443")&&(K=""),b+=K}}return b}o(MK,"urlParseFullHost");var UK=[d1+h1,"https://breeze.aimon.applicationinsights.io"+h1,"https://dc-int.services.visualstudio.com"+h1];function _p(g){return Tf(UK,g[pp]())!==-1}o(_p,"isInternalApplicationInsightsEndpoint");function qK(g,y,b,w){var k,K=w,X=w;if(y&&y[bs]>0){var ce=OK(y);if(k=ce.host,!K)if(ce[AC]!=null){var Ie=ce.pathname[bs]===0?"/":ce[AC];Ie.charAt(0)!=="/"&&(Ie="/"+Ie),X=ce[AC],K=Zl(g,b?b+" "+Ie:Ie)}else K=Zl(g,y)}else k=w,K=w;return{target:k,name:K,data:X}}o(qK,"AjaxHelperParseDependencyPath");var kC=sh({LocalStorage:0,SessionStorage:1}),hm=void 0,sD="";function oD(g){try{if(de(Gf()))return null;var y=new Date()[Bh](),b=La(g===kC.LocalStorage?"localStorage":"sessionStorage"),w=sD+y;b.setItem(w,y);var k=b.getItem(w)!==y;if(b[PK](w),!k)return b}catch{}return null}o(oD,"_getVerifiedStorageObject");function aD(){return lD()?oD(kC.SessionStorage):null}o(aD,"_getSessionStorageObject");function jK(g){sD=g||""}o(jK,"utlSetStoragePrefix");function lD(g){return(g||hm===void 0)&&(hm=!!oD(kC.SessionStorage)),hm}o(lD,"utlCanUseSessionStorage");function $K(g,y){var b=aD();if(b!==null)try{return b.getItem(y)}catch(w){hm=!1,jr(g,2,2,"Browser failed read of session storage. "+Pl(w),{exception:Dr(w)})}return null}o($K,"utlGetSessionStorage");function HK(g,y,b){var w=aD();if(w!==null)try{return w.setItem(y,b),!0}catch(k){hm=!1,jr(g,2,4,"Browser failed write to session storage. "+Pl(k),{exception:Dr(k)})}return!1}o(HK,"utlSetSessionStorage");var VK=";",zK="=";function GK(g){if(!g)return{};var y=g[w2](VK),b=Hb(y,function(k,K){var X=K[w2](zK);if(X[bs]===2){var ce=X[0][pp](),Ie=X[1];k[ce]=Ie}return k},{});if(Xa(b)[bs]>0){if(b.endpointsuffix){var w=b.location?b.location+".":"";b[I2]=b[I2]||"https://"+w+"dc."+b.endpointsuffix}b[I2]=b[I2]||d1,K4(b[I2],"/")&&(b[I2]=b[I2].slice(0,-1))}return b}o(GK,"parseConnectionString");var KK=function(){function g(y,b,w){var k=this,K=this;K.ver=1,K.sampleRate=100,K.tags={},K[R5]=Zl(y,w)||ru,K.data=b,K.time=c2(new Date),K.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return k.sampleRate===100?4:1},tags:1,data:1}}return o(g,"Envelope"),g}(),qh=function(){function g(y,b,w,k){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var K=this;K.ver=2,K[R5]=Zl(y,b)||ru,K[nu]=R2(y,w),K[Qu]=N2(y,k)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),WK="<no_method>",jh="error",Nf="stack",DC="stackDetails",fD="errorSrc",LC="message",cD="description";function BC(g,y){var b=g;return b&&!F0(b)&&(JSON&&JSON[IC]?(b=JSON[IC](g),y&&(!b||b==="{}")&&(y0(g[Bh])?b=g[Bh]():b=""+g)):b=""+g+" - (Missing JSON.stringify)"),b||""}o(BC,"_stringify");function uD(g,y){var b=g;return g&&(b&&!F0(b)&&(b=g[LC]||g[cD]||b),b&&!F0(b)&&(b=BC(b,!0)),g.filename&&(b=b+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Vd(b||"",y)===-1&&(b=y+": "+b),b||""}o(uD,"_formatMessage");function YK(g){try{if(Er(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(YK,"_isExceptionDetailsInternal");function JK(g){try{if(Er(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(JK,"_isExceptionInternal");function dD(g){return g&&g.src&&F0(g.src)&&g.obj&&Se(g.obj)}o(dD,"_isStackDetails");function k2(g){var y=g||"";F0(y)||(F0(y[Nf])?y=y[Nf]:y=""+y);var b=y[w2](`
`);return{src:y,obj:b}}o(k2,"_convertStackObj");function XK(g){for(var y=[],b=g[w2](`
`),w=0;w<b[bs];w++){var k=b[w];b[w+1]&&(k+="@"+b[w+1],w++),y[wC](k)}return{src:g,obj:y}}o(XK,"_getOperaStack");function hD(g){var y=null;if(g)try{if(g[Nf])y=k2(g[Nf]);else if(g[jh]&&g[jh][Nf])y=k2(g[jh][Nf]);else if(g.exception&&g.exception[Nf])y=k2(g.exception[Nf]);else if(dD(g))y=g;else if(dD(g[DC]))y=g[DC];else if(e1()&&e1().opera&&g[LC])y=XK(g[A2]);else if(g.reason&&g.reason[Nf])y=k2(g.reason[Nf]);else if(F0(g))y=k2(g);else{var b=g[LC]||g[cD]||"";F0(g[fD])&&(b&&(b+=`
`),b+=" from "+g[fD]),b&&(y=k2(b))}}catch(w){y=k2(w)}return y||{src:"",obj:null}}o(hD,"_getStackFromErrorObj");function ZK(g){var y="";return g&&(g.obj?gn(g.obj,function(b){y+=b+`
`}):y=g.src||""),y}o(ZK,"_formatStackTrace");function QK(g){var y,b=g.obj;if(b&&b[bs]>0){y=[];var w=0,k=0;gn(b,function(g0){var q0=g0[Bh]();if(FC.regex.test(q0)){var w0=new FC(q0,w++);k+=w0[Fh],y[wC](w0)}});var K=32*1024;if(k>K)for(var X=0,ce=y[bs]-1,Ie=0,He=X,Qt=ce;X<ce;){var v0=y[X][Fh],T0=y[ce][Fh];if(Ie+=v0+T0,Ie>K){var x0=Qt-He+1;y.splice(He,x0);break}He=X,Qt=ce,X++,ce--}}return y}o(QK,"_parseStack");function bp(g){var y="";if(g&&(y=g.typeName||g[R5]||"",!y))try{var b=/function (.{1,200})\(/,w=b.exec(g.constructor[Bh]());y=w&&w[bs]>1?w[1]:""}catch{}return y}o(bp,"_getErrorType");function OC(g){if(g)try{if(!F0(g)){var y=bp(g),b=BC(g,!1);return(!b||b==="{}")&&(g[jh]&&(g=g[jh],y=bp(g)),b=BC(g,!0)),Vd(b,y)!==0&&y!=="String"?y+":"+b:b}}catch{}return""+(g||"")}o(OC,"_formatErrorCode");var Cp=function(){function g(y,b,w,k,K,X){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ce=this;ce.ver=2,JK(b)?(ce[Oh]=b[Oh]||[],ce[nu]=b[nu],ce[Qu]=b[Qu],b[um]&&(ce[um]=b[um]),b.id&&(ce.id=b.id,b[nu].id=b.id),b[PC]&&(ce[PC]=b[PC]),de(b[RC])||(ce[RC]=b[RC])):(w||(w={}),X&&(w.id=X),ce[Oh]=[new gD(y,b,w)],ce[nu]=R2(y,w),ce[Qu]=N2(y,k),K&&(ce[um]=K),X&&(ce.id=X))}return o(g,"Exception"),g.CreateAutoException=function(y,b,w,k,K,X,ce,Ie){var He,Qt=bp(K||X||y);return He={},He[A2]=uD(y,Qt),He.url=b,He.lineNumber=w,He.columnNumber=k,He.error=OC(K||X||y),He.evt=OC(X||y),He[ed]=Qt,He.stackDetails=hD(ce||K||X),He.errorSrc=Ie,He},g.CreateFromInterface=function(y,b,w,k){var K=b[Oh]&&P3(b[Oh],function(ce){return gD[Zk](y,ce)}),X=new g(y,U1(U1({},b),{exceptions:K}),w,k);return X},g.prototype.toInterface=function(){var y,b=this,w=b.exceptions,k=b.properties,K=b.measurements,X=b.severityLevel,ce=b.problemGroup,Ie=b.id,He=b.isManual,Qt=w instanceof Array&&P3(w,function(v0){return v0.toInterface()})||void 0;return y={ver:"4.0"},y[Oh]=Qt,y.severityLevel=X,y.properties=k,y.measurements=K,y.problemGroup=ce,y.id=Ie,y.isManual=He,y},g.CreateSimpleException=function(y,b,w,k,K,X){var ce;return{exceptions:[(ce={},ce[yp]=!0,ce.message=y,ce.stack=K,ce.typeName=b,ce)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=OC,g}(),gD=function(){function g(y,b,w){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var k=this;if(YK(b))k[ed]=b[ed],k[A2]=b[A2],k[Nf]=b[Nf],k[g1]=b[g1]||[],k[yp]=b[yp];else{var K=b,X=K&&K.evt;k0(K)||(K=K[jh]||X||K),k[ed]=Zl(y,bp(K))||ru,k[A2]=tD(y,uD(b||K,k[ed]))||ru;var ce=b[DC]||hD(b);k[g1]=QK(ce),Se(k[g1])&&P3(k[g1],function(Ie){Ie[Mh]=Zl(y,Ie[Mh]),Ie[P2]=Zl(y,Ie[P2])}),k[Nf]=kK(y,ZK(ce)),k.hasFullStack=Se(k.parsedStack)&&k.parsedStack[bs]>0,w&&(w[ed]=w[ed]||k[ed])}}return o(g,"_ExceptionDetails"),g.prototype.toInterface=function(){var y,b=this,w=b[g1]instanceof Array&&P3(b[g1],function(K){return K.toInterface()}),k=(y={id:b.id,outerId:b.outerId,typeName:b[ed],message:b[A2],hasFullStack:b[yp],stack:b[Nf]},y[g1]=w||void 0,y);return k},g.CreateFromInterface=function(y,b){var w=b[g1]instanceof Array&&P3(b[g1],function(K){return FC[Zk](K)})||b[g1],k=new g(y,U1(U1({},b),{parsedStack:w}));return k},g}(),FC=function(){function g(y,b){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var w=this;if(w[Fh]=0,typeof y=="string"){var k=y;w[vp]=b,w[Uh]=WK,w[Mh]=Pa(k),w[P2]="",w[dm]=0;var K=k.match(g.regex);K&&K[bs]>=5&&(w[Uh]=Pa(K[2])||w[Uh],w[P2]=Pa(K[4]),w[dm]=parseInt(K[5])||0)}else w[vp]=y[vp],w[Uh]=y[Uh],w[Mh]=y[Mh],w[P2]=y[P2],w[dm]=y[dm],w[Fh]=0;w.sizeInBytes+=w.method[bs],w.sizeInBytes+=w.fileName[bs],w.sizeInBytes+=w.assembly[bs],w[Fh]+=g.baseSize,w.sizeInBytes+=w.level.toString()[bs],w.sizeInBytes+=w.line.toString()[bs]}return o(g,"_StackFrame"),g.CreateFromInterface=function(y){return new g(y,null)},g.prototype.toInterface=function(){var y=this;return{level:y[vp],method:y[Uh],assembly:y[Mh],fileName:y[P2],line:y[dm]}},g.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,g.baseSize=58,g}(),eW=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),gm=function(){function g(y,b,w,k,K,X,ce,Ie,He){this.aiDataContract={ver:1,metrics:1,properties:0};var Qt=this;Qt.ver=2;var v0=new eW;v0[RK]=k>0?k:void 0,v0.max=isNaN(X)||X===null?void 0:X,v0.min=isNaN(K)||K===null?void 0:K,v0[R5]=Zl(y,b)||ru,v0.value=w,v0.stdDev=isNaN(ce)||ce===null?void 0:ce,Qt.metrics=[v0],Qt[nu]=R2(y,Ie),Qt[Qu]=N2(y,He)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),mm="";function mD(g){(isNaN(g)||g<0)&&(g=0),g=Math.round(g);var y=mm+g%1e3,b=mm+Math.floor(g/1e3)%60,w=mm+Math.floor(g/(1e3*60))%60,k=mm+Math.floor(g/(1e3*60*60))%24,K=Math.floor(g/(1e3*60*60*24));return y=y[bs]===1?"00"+y:y[bs]===2?"0"+y:y,b=b[bs]<2?"0"+b:b,w=w[bs]<2?"0"+w:w,k=k[bs]<2?"0"+k:k,(K>0?K+".":mm)+k+":"+w+":"+b+"."+y}o(mD,"msToTimeSpan");var Ep=function(){function g(y,b,w,k,K,X,ce){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Ie=this;Ie.ver=2,Ie.id=DK(y,ce),Ie.url=NC(y,w),Ie[R5]=Zl(y,b)||ru,isNaN(k)||(Ie[xp]=mD(k)),Ie[nu]=R2(y,K),Ie[Qu]=N2(y,X)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),Tp=function(){function g(y,b,w,k,K,X,ce,Ie,He,Qt,v0,T0){He===void 0&&(He="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var x0=this;x0.ver=2,x0.id=b,x0[xp]=mD(K),x0.success=X,x0.resultCode=ce+"",x0.type=Zl(y,He);var g0=qK(y,w,Ie,k);x0.data=NC(y,k)||g0.data,x0.target=Zl(y,g0.target),Qt&&(x0.target="".concat(x0.target," | ").concat(Qt)),x0[R5]=Zl(y,g0[R5]),x0[nu]=R2(y,v0),x0[Qu]=N2(y,T0)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),Sp=function(){function g(y,b,w,k,K){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var X=this;X.ver=2,b=b||ru,X[A2]=tD(y,b),X[nu]=R2(y,k),X[Qu]=N2(y,K),w&&(X[um]=w)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),wp=function(){function g(y,b,w,k,K,X,ce){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Ie=this;Ie.ver=2,Ie.url=NC(y,w),Ie[R5]=Zl(y,b)||ru,Ie[nu]=R2(y,K),Ie[Qu]=N2(y,X),ce&&(Ie.domProcessing=ce.domProcessing,Ie[xp]=ce[xp],Ie.networkConnect=ce.networkConnect,Ie.perfTotal=ce.perfTotal,Ie[Qk]=ce[Qk],Ie.sentRequest=ce.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),D2=function(){function g(y,b){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=b}return o(g,"Data"),g}(),tW=sh({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function N5(g){var y="ai."+g+".";return function(b){return y+b}}o(N5,"_aiNameFunc");var pm=N5("application"),Za=N5("device"),Ip=N5("location"),$h=N5("operation"),MC=N5("session"),k5=N5("user"),L2=N5("cloud"),ym=N5("internal"),pD=function(g){G3(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(tC({applicationVersion:pm("ver"),applicationBuild:pm("build"),applicationTypeId:pm("typeId"),applicationId:pm("applicationId"),applicationLayer:pm("layer"),deviceId:Za("id"),deviceIp:Za("ip"),deviceLanguage:Za("language"),deviceLocale:Za("locale"),deviceModel:Za("model"),deviceFriendlyName:Za("friendlyName"),deviceNetwork:Za("network"),deviceNetworkName:Za("networkName"),deviceOEMName:Za("oemName"),deviceOS:Za("os"),deviceOSVersion:Za("osVersion"),deviceRoleInstance:Za("roleInstance"),deviceRoleName:Za("roleName"),deviceScreenResolution:Za("screenResolution"),deviceType:Za("type"),deviceMachineName:Za("machineName"),deviceVMName:Za("vmName"),deviceBrowser:Za("browser"),deviceBrowserVersion:Za("browserVersion"),locationIp:Ip("ip"),locationCountry:Ip("country"),locationProvince:Ip("province"),locationCity:Ip("city"),operationId:$h("id"),operationName:$h("name"),operationParentId:$h("parentId"),operationRootId:$h("rootId"),operationSyntheticSource:$h("syntheticSource"),operationCorrelationVector:$h("correlationVector"),sessionId:MC("id"),sessionIsFirst:MC("isFirst"),sessionIsNew:MC("isNew"),userAccountAcquisitionDate:k5("accountAcquisitionDate"),userAccountId:k5("accountId"),userAgent:k5("userAgent"),userId:k5("id"),userStoreRegion:k5("storeRegion"),userAuthUserId:k5("authUserId"),userAnonymousUserAcquisitionDate:k5("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:k5("authUserAcquisitionDate"),cloudName:L2("name"),cloudRole:L2("role"),cloudRoleVer:L2("roleVer"),cloudRoleInstance:L2("roleInstance"),cloudEnvironment:L2("environment"),cloudLocation:L2("location"),cloudDeploymentUnit:L2("deploymentUnit"),internalNodeName:ym("nodeName"),internalSdkVersion:ym("sdkVersion"),internalAgentVersion:ym("agentVersion"),internalSnippet:ym("snippet"),internalSdkSrc:ym("sdkSrc")})),Nl=new pD;function yD(g,y){Qs(g,null,null,y)}o(yD,"_disableEvents");function rW(g){var y=Nu(),b=D1(),w=!1,k=[],K=1;b&&!de(b.onLine)&&!b.onLine&&(K=2);var X=0,ce=T0(),Ie=Lr(Rf("OfflineListener"),g);try{if(Qt(e1())&&(w=!0),y){var He=y.body||y;He.ononline&&Qt(He)&&(w=!0)}}catch{w=!1}function Qt(D0){var X0=!1;return D0&&(X0=Di(D0,"online",q0,Ie),X0&&Di(D0,"offline",w0,Ie)),X0}o(Qt,"_enableEvents");function v0(){return ce}o(v0,"_isOnline");function T0(){return!(X===2||K===2)}o(T0,"calCurrentState");function x0(){var D0=T0();ce!==D0&&(ce=D0,gn(k,function(X0){var bn={isOnline:ce,rState:K,uState:X};try{X0(bn)}catch{}}))}o(x0,"listnerNoticeCheck");function g0(D0){X=D0,x0()}o(g0,"setOnlineState");function q0(){K=1,x0()}o(q0,"_setOnline");function w0(){K=2,x0()}o(w0,"_setOffline");function G0(){var D0=e1();if(D0&&w){if(yD(D0,Ie),y){var X0=y.body||y;o0(X0.ononline)||yD(X0,Ie)}w=!1}}o(G0,"_unload");function U0(D0){return k[wC](D0),{rm:function(){var X0=k.indexOf(D0);if(X0>-1)return k.splice(X0,1)}}}return o(U0,"addListener"),{isOnline:v0,isListening:function(){return w},unload:G0,addListener:U0,setOnlineState:g0}}o(rW,"createOfflineListener");var nW="AppInsightsChannelPlugin",B2="duration",kl="tags",UC="deviceType",ll="data",td="name",vm="traceID",Ji="length",xm="stringify",O2="measurements",iu="dataType",F2="envelopeType",M2="toString",_m="_get",U2="enqueue",q2="count",vD="eventsLimitInMem",Hh="push",qC="emitLineDelimitedJson",j2="clear",jC="batchPayloads",$C="createNew",Vh="markAsSent",bm="clearSent",HC="bufferOverride",VC="BUFFER_KEY",D5="SENT_BUFFER_KEY",Cm="concat",Em="MAX_BUFFER_SIZE",zC="sendPOST",Tm="triggerSend",fl="diagLog",Sm="_sender",GC="customHeaders",xD="maxBatchSizeInBytes",KC="onunloadDisableBeacon",WC="isBeaconApiDisabled",_D="alwaysUseXhrOverride",bD="enableSessionStorageBuffer",L5="_buffer",CD="onunloadDisableFetch",ED="disableSendBeaconSplit",TD="instrumentationKey",SD="unloadTransports",wD="convertUndefined",ID="maxBatchInterval",Ap="serialize",iW="_xhrReadyStateChange",$2="_onError",YC="_onPartialSuccess",Pp="_onSuccess",Rp="itemsAccepted",sW="itemsReceived",JC="baseType",Np="sampleRate",wm="oriPayload",XC="setRequestHeader",AD="eventsSendRequest",PD="getSamplingScore",oW="getHashCodeScore",ZC="baseType",ua="baseData",cl="properties",RD="true";function Oa(g,y,b){return z1(g,y,b,Sr)}o(Oa,"_setValueIf");function aW(g,y,b){var w=b[kl]=b[kl]||{},k=y.ext=y.ext||{},K=y[kl]=y[kl]||[],X=k.user;X&&(Oa(w,Nl.userAuthUserId,X.authId),Oa(w,Nl.userId,X.id||X.localId));var ce=k.app;ce&&Oa(w,Nl.sessionId,ce.sesId);var Ie=k.device;Ie&&(Oa(w,Nl.deviceId,Ie.id||Ie.localId),Oa(w,Nl[UC],Ie.deviceClass),Oa(w,Nl.deviceIp,Ie.ip),Oa(w,Nl.deviceModel,Ie.model),Oa(w,Nl[UC],Ie[UC]));var He=y.ext.web;if(He){Oa(w,Nl.deviceLanguage,He.browserLang),Oa(w,Nl.deviceBrowserVersion,He.browserVer),Oa(w,Nl.deviceBrowser,He.browser);var Qt=b[ll]=b[ll]||{},v0=Qt[ua]=Qt[ua]||{},T0=v0[cl]=v0[cl]||{};Oa(T0,"domain",He.domain),Oa(T0,"isManual",He.isManual?RD:null),Oa(T0,"screenRes",He.screenRes),Oa(T0,"userConsent",He.userConsent?RD:null)}var x0=k.os;x0&&Oa(w,Nl.deviceOS,x0[td]);var g0=k.trace;g0&&(Oa(w,Nl.operationParentId,g0.parentID),Oa(w,Nl.operationName,Zl(g,g0[td])),Oa(w,Nl.operationId,g0[vm]));for(var q0={},w0=K[Ji]-1;w0>=0;w0--){var G0=K[w0];mr(G0,function(D0,X0){q0[D0]=X0}),K.splice(w0,1)}mr(K,function(D0,X0){q0[D0]=X0});var U0=U1(U1({},w),q0);U0[Nl.internalSdkVersion]||(U0[Nl.internalSdkVersion]=Zl(g,"javascript:".concat(lW.Version),64)),b[kl]=U7(U0)}o(aW,"_extractPartAExtensions");function B5(g,y,b){de(g)||mr(g,function(w,k){St(k)?b[w]=k:F0(k)?y[w]=k:df()&&(y[w]=Ec()[xm](k))})}o(B5,"_extractPropsAndMeasurements");function H2(g,y){de(g)||mr(g,function(b,w){g[b]=w||y})}o(H2,"_convertPropsUndefinedToCustomDefinedValue");function V2(g,y,b,w){var k=new KK(g,w,y);Oa(k,"sampleRate",b[Ea]),(b[ua]||{}).startTime&&(k.time=c2(b[ua].startTime)),k.iKey=b.iKey;var K=b.iKey.replace(/-/g,"");return k[td]=k[td].replace("{0}",K),aW(g,b,k),b[kl]=b[kl]||[],U7(k)}o(V2,"_createEnvelope");function z2(g,y){de(y[ua])&&jr(g,1,46,"telemetryItem.baseData cannot be null.")}o(z2,"EnvelopeCreatorInit");var lW={Version:"3.1.0"};function fW(g,y,b){z2(g,y);var w=y[ua][O2]||{},k=y[ua][cl]||{};B5(y[ll],k,w),de(b)||H2(k,b);var K=y[ua];if(de(K))return E5(g,"Invalid input for dependency data"),null;var X=K[cl]&&K[cl][Zu]?K[cl][Zu]:"GET",ce=new Tp(g,K.id,K.target,K[td],K[B2],K.success,K.responseCode,X,K.type,K.correlationContext,k,w),Ie=new D2(Tp[iu],ce);return V2(g,Tp[F2],y,Ie)}o(fW,"DependencyEnvelopeCreator");function ND(g,y,b){z2(g,y);var w={},k={};y[ZC]!==qh[iu]&&(w.baseTypeSource=y[ZC]),y[ZC]===qh[iu]?(w=y[ua][cl]||{},k=y[ua][O2]||{}):y[ua]&&B5(y[ua],w,k),B5(y[ll],w,k),de(b)||H2(w,b);var K=y[ua][td],X=new qh(g,K,w,k),ce=new D2(qh[iu],X);return V2(g,qh[F2],y,ce)}o(ND,"EventEnvelopeCreator");function cW(g,y,b){z2(g,y);var w=y[ua][O2]||{},k=y[ua][cl]||{};B5(y[ll],k,w),de(b)||H2(k,b);var K=y[ua],X=Cp.CreateFromInterface(g,K,k,w),ce=new D2(Cp[iu],X);return V2(g,Cp[F2],y,ce)}o(cW,"ExceptionEnvelopeCreator");function uW(g,y,b){z2(g,y);var w=y[ua],k=w[cl]||{},K=w[O2]||{};B5(y[ll],k,K),de(b)||H2(k,b);var X=new gm(g,w[td],w.average,w.sampleCount,w.min,w.max,w.stdDev,k,K),ce=new D2(gm[iu],X);return V2(g,gm[F2],y,ce)}o(uW,"MetricEnvelopeCreator");function dW(g,y,b){z2(g,y);var w,k=y[ua];!de(k)&&!de(k[cl])&&!de(k[cl][B2])?(w=k[cl][B2],delete k[cl][B2]):!de(y[ll])&&!de(y[ll][B2])&&(w=y[ll][B2],delete y[ll][B2]);var K=y[ua],X;((y.ext||{}).trace||{})[vm]&&(X=y.ext.trace[vm]);var ce=K.id||X,Ie=K[td],He=K.uri,Qt=K[cl]||{},v0=K[O2]||{};if(de(K.refUri)||(Qt.refUri=K.refUri),de(K.pageType)||(Qt.pageType=K.pageType),de(K.isLoggedIn)||(Qt.isLoggedIn=K.isLoggedIn[M2]()),!de(K[cl])){var T0=K[cl];mr(T0,function(q0,w0){Qt[q0]=w0})}B5(y[ll],Qt,v0),de(b)||H2(Qt,b);var x0=new Ep(g,Ie,He,w,Qt,v0,ce),g0=new D2(Ep[iu],x0);return V2(g,Ep[F2],y,g0)}o(dW,"PageViewEnvelopeCreator");function hW(g,y,b){z2(g,y);var w=y[ua],k=w[td],K=w.uri||w.url,X=w[cl]||{},ce=w[O2]||{};B5(y[ll],X,ce),de(b)||H2(X,b);var Ie=new wp(g,k,K,void 0,X,ce,w),He=new D2(wp[iu],Ie);return V2(g,wp[F2],y,He)}o(hW,"PageViewPerformanceEnvelopeCreator");function gW(g,y,b){z2(g,y);var w=y[ua].message,k=y[ua].severityLevel,K=y[ua][cl]||{},X=y[ua][O2]||{};B5(y[ll],K,X),de(b)||H2(K,b);var ce=new Sp(g,w,k,K,X),Ie=new D2(Sp[iu],ce);return V2(g,Sp[F2],y,Ie)}o(gW,"TraceEnvelopeCreator");var kD=function(){function g(y,b){var w=[],k=!1;this[_m]=function(){return w},this._set=function(K){return w=K,w},Yl(g,this,function(K){K[U2]=function(X){if(K[q2]()>=b[vD]){k||(jr(y,2,105,"Maximum in-memory buffer size reached: "+K[q2](),!0),k=!0);return}w[Hh](X)},K[q2]=function(){return w[Ji]},K.size=function(){for(var X=w[Ji],ce=0;ce<w[Ji];ce++)X+=w[ce][Ji];return b[qC]||(X+=2),X},K[j2]=function(){w=[],k=!1},K.getItems=function(){return w.slice(0)},K[jC]=function(X){if(X&&X[Ji]>0){var ce=b[qC]?X.join(`
`):"["+X.join(",")+"]";return ce}return null},K[$C]=function(X,ce,Ie){var He=w.slice(0);X=X||y,ce=ce||{};var Qt=Ie?new DD(X,ce):new QC(X,ce);return gn(He,function(v0){Qt[U2](v0)}),Qt}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),QC=function(g){G3(y,g);function y(b,w){var k=g.call(this,b,w)||this;return Yl(y,k,function(K,X){K[Vh]=function(ce){X[j2]()},K[bm]=function(ce){}}),k}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(kD),DD=function(g){G3(y,g);function y(b,w){var k=g.call(this,b,w)||this,K=!1,X=w==null?void 0:w.namePrefix,ce=w[HC]||{getItem:$K,setItem:HK},Ie=ce.getItem,He=ce.setItem;return Yl(y,k,function(Qt,v0){var T0=w0(y[VC]),x0=w0(y[D5]),g0=Qt._set(T0[Cm](x0));g0[Ji]>y[Em]&&(g0[Ji]=y[Em]),G0(y[D5],[]),G0(y[VC],g0),Qt[U2]=function(U0){if(Qt[q2]()>=y[Em]){K||(jr(b,2,67,"Maximum buffer size reached: "+Qt[q2](),!0),K=!0);return}v0[U2](U0),G0(y.BUFFER_KEY,Qt[_m]())},Qt[j2]=function(){v0[j2](),G0(y.BUFFER_KEY,Qt[_m]()),G0(y[D5],[]),K=!1},Qt[Vh]=function(U0){G0(y[VC],Qt._set(q0(U0,Qt[_m]())));var D0=w0(y[D5]);D0 instanceof Array&&U0 instanceof Array&&(D0=D0[Cm](U0),D0[Ji]>y[Em]&&(jr(b,1,67,"Sent buffer reached its maximum size: "+D0[Ji],!0),D0[Ji]=y[Em]),G0(y[D5],D0))},Qt[bm]=function(U0){var D0=w0(y[D5]);D0=q0(U0,D0),G0(y[D5],D0)},Qt[$C]=function(U0,D0,X0){X0=!!X0;var bn=Qt[_m]().slice(0),Ms=w0(y[D5]).slice(0);U0=U0||b,D0=D0||{},Qt[j2]();var da=X0?new y(U0,D0):new QC(U0,D0);return gn(bn,function(Ho){da[U2](Ho)}),X0&&da[Vh](Ms),da};function q0(U0,D0){var X0=[];return gn(D0,function(bn){!y0(bn)&&Tf(U0,bn)===-1&&X0[Hh](bn)}),X0}o(q0,"_removePayloadsFromBuffer");function w0(U0){var D0=U0;try{D0=X?X+"_"+D0:D0;var X0=Ie(b,D0);if(X0){var bn=Ec().parse(X0);if(F0(bn)&&(bn=Ec().parse(bn)),bn&&Se(bn))return bn}}catch(Ms){jr(b,1,42," storage key: "+D0+", "+Pl(Ms),{exception:Dr(Ms)})}return[]}o(w0,"_getBuffer");function G0(U0,D0){var X0=U0;try{X0=X?X+"_"+X0:X0;var bn=JSON[xm](D0);He(b,X0,bn)}catch(Ms){He(b,X0,JSON[xm]([])),jr(b,2,41," storage key: "+X0+", "+Pl(Ms)+". Buffer cleared",{exception:Dr(Ms)})}}o(G0,"_setBuffer")}),k}return o(y,"SessionStorageSendBuffer"),y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(kD),mW=function(){function g(y){Yl(g,this,function(b){b[Ap]=function(X){var ce=w(X,"root");try{return Ec()[xm](ce)}catch(Ie){jr(y,1,48,Ie&&y0(Ie[M2])?Ie[M2]():"Error serializing object",null,!0)}};function w(X,ce){var Ie="__aiCircularRefCheck",He={};if(!X)return jr(y,1,48,"cannot serialize object because it is null or undefined",{name:ce},!0),He;if(X[Ie])return jr(y,2,50,"Circular reference detected while serializing object",{name:ce},!0),He;if(!X.aiDataContract){if(ce==="measurements")He=K(X,"number",ce);else if(ce==="properties")He=K(X,"string",ce);else if(ce==="tags")He=K(X,"string",ce);else if(Se(X))He=k(X,ce);else{jr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:ce},!0);try{Ec()[xm](X),He=X}catch(Qt){jr(y,1,48,Qt&&y0(Qt[M2])?Qt[M2]():"Error serializing object",null,!0)}}return He}return X[Ie]=!0,mr(X.aiDataContract,function(Qt,v0){var T0=y0(v0)?v0()&1:v0&1,x0=y0(v0)?v0()&4:v0&4,g0=v0&2,q0=X[Qt]!==void 0,w0=Er(X[Qt])&&X[Qt]!==null;if(T0&&!q0&&!g0)jr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Qt,name:ce});else if(!x0){var G0=void 0;w0?g0?G0=k(X[Qt],Qt):G0=w(X[Qt],Qt):G0=X[Qt],G0!==void 0&&(He[Qt]=G0)}}),delete X[Ie],He}o(w,"_serializeObject");function k(X,ce){var Ie;if(X)if(!Se(X))jr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:ce},!0);else{Ie=[];for(var He=0;He<X[Ji];He++){var Qt=X[He],v0=w(Qt,ce+"["+He+"]");Ie[Hh](v0)}}return Ie}o(k,"_serializeArray");function K(X,ce,Ie){var He;return X&&(He={},mr(X,function(Qt,v0){if(ce==="string")v0===void 0?He[Qt]="undefined":v0===null?He[Qt]="null":v0[M2]?He[Qt]=v0[M2]():He[Qt]="invalid field: toString() is not defined.";else if(ce==="number")if(v0===void 0)He[Qt]="undefined";else if(v0===null)He[Qt]="null";else{var T0=parseFloat(v0);He[Qt]=T0}else He[Qt]="invalid field: "+Ie+" is of unknown type.",jr(y,1,He[Qt],null,!0)})),He}o(K,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),pW=8,yW=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var b=this.getHashCode(y)/g.INT_MAX_VALUE;return b*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[Ji]<pW;)y=y[Cm](y);for(var b=5381,w=0;w<y[Ji];++w)b=(b<<5)+b+y.charCodeAt(w),b=b&b;return Math.abs(b)},g.INT_MAX_VALUE=2147483647,g}(),vW=function(){function g(){var y=this,b=new yW,w=new pD;y[PD]=function(k){var K=0;return k[kl]&&k[kl][w.userId]?K=b.getHashCodeScore(k[kl][w.userId]):k.ext&&k.ext.user&&k.ext.user.id?K=b[oW](k.ext.user.id):k[kl]&&k[kl][w.operationId]?K=b.getHashCodeScore(k[kl][w.operationId]):k.ext&&k.ext.telemetryTrace&&k.ext.telemetryTrace[vm]?K=b.getHashCodeScore(k.ext.telemetryTrace[vm]):K=Math.random()*100,K}}return o(g,"SamplingScoreGenerator"),g}(),xW=function(){function g(y,b){this.INT_MAX_VALUE=2147483647;var w=b||C2(null);(y>100||y<0)&&(w.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Np]=y,this.samplingScoreGenerator=new vW}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var b=this[Np],w=!1;return b==null||b>=100||y.baseType===gm[iu]?!0:(w=this.samplingScoreGenerator[PD](y)<b,w)},g}(),va,rd,nd=void 0,LD="",_W=65e3;function kp(g){try{return g.responseText}catch{}return null}o(kp,"_getResponseText");function bW(g){return g&&g[zC]}o(bW,"isOverrideFn");function BD(g,y){return y&&(St(y)?g=[y][Cm](g):Se(y)&&(g=y[Cm](g))),g}o(BD,"_prependTransports");var OD=hn((va={endpointUrl:x2(Sr,d1+h1)},va[qC]=Ic(),va[ID]=15e3,va[xD]=102400,va.disableTelemetry=Ic(),va[bD]=Ic(!0),va.isRetryDisabled=Ic(),va[WC]=Ic(!0),va[ED]=Ic(!0),va.disableXhr=Ic(),va[CD]=Ic(),va[KC]=Ic(),va[TD]=nd,va.namePrefix=nd,va.samplingPercentage=x2(CW,100),va[GC]=nd,va[wD]=nd,va[vD]=1e4,va[HC]=!1,va.httpXHROverride={isVal:bW,v:nd},va[_D]=Ic(),va.transports=nd,va));function CW(g){return!isNaN(g)&&g>0&&g<=100}o(CW,"_chkSampling");var EW=(rd={},rd[qh.dataType]=ND,rd[Sp.dataType]=gW,rd[Ep.dataType]=dW,rd[wp.dataType]=hW,rd[Cp.dataType]=cW,rd[gm.dataType]=uW,rd[Tp.dataType]=fW,rd),FD=function(g){G3(y,g);function y(){var b=g.call(this)||this;b.priority=1001,b.identifier=nW;var w,k,K,X,ce,Ie,He,Qt=0,v0,T0,x0,g0,q0,w0,G0,U0,D0,X0,bn,Ms,da,Ho,ul,Fa,Im,O5,hr,m1,G2,F5,id,Ac,zh;return Yl(y,b,function(V0,Dp){jD(),V0.pause=function(){aE(),K=!0},V0.resume=function(){K&&(K=!1,k=null,fn(),oE())},V0.flush=function(a0,C0,dr){if(a0===void 0&&(a0=!0),!K){aE();try{return V0[Tm](a0,null,dr||1)}catch(pr){jr(V0[fl](),1,22,"flush failed, telemetry will not be collected: "+Pl(pr),{exception:Dr(pr)})}}},V0.onunloadFlush=function(){if(!K)if(G0||m1)try{return V0[Tm](!0,Ma,2)}catch(a0){jr(V0[fl](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Pl(a0),{exception:Dr(a0)})}else V0.flush(!1)},V0.addHeader=function(a0,C0){He[a0]=C0},V0.initialize=function(a0,C0,dr,pr){V0.isInitialized()&&jr(V0[fl](),1,28,"Sender is already initialized"),Dp.initialize(a0,C0,dr,pr);var wr=V0.identifier;ce=new mW(C0.logger),w=0,k=null,V0[Sm]=null,Ie=0;var Br=V0[fl]();x0=Lr(Rf("Sender"),C0.evtNamespace&&C0.evtNamespace()),T0=rW(x0),V0._addHook(x5(a0,function($i){var Hi=$i.cfg;Hi.storagePrefix&&jK(Hi.storagePrefix);var Ql=Z1(null,Hi,C0),Wr=Ql.getExtCfg(wr,OD);js(V0,"_senderConfig",{g:function(){return Wr}}),q0!==Wr.endpointUrl&&(g0=q0=Wr.endpointUrl),X0&&X0!==Wr[GC]&&gn(X0,function(Ua){delete He[Ua.header]}),w0=Wr[xD],G0=(Wr[KC]===!1||Wr[WC]===!1)&&Tc(),U0=Wr[KC]===!1&&Tc(),D0=Wr[WC]===!1&&Tc(),m1=Wr[_D],G2=!!Wr.disableXhr;var p1=Wr[HC],su=!!Wr[bD]&&(!!p1||lD()),Gh=Wr.namePrefix,Fp=su!==Fa||su&&O5!==Gh||su&&Im!==p1;if(V0[L5]){if(Fp)try{V0._buffer=V0._buffer[$C](Br,Wr,su)}catch(Ua){jr(V0[fl](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Pl(Ua),{exception:Dr(Ua)})}fn()}else V0[L5]=su?new DD(Br,Wr):new QC(Br,Wr);O5=Gh,Fa=su,Im=p1,F5=!Wr[CD]&&Vu(!0),zh=!!Wr[ED],V0._sample=new xW(Wr.samplingPercentage,Br),Ms=Wr[TD],NW(Ms,Hi)||jr(Br,1,100,"Invalid Instrumentation key "+Ms),X0=Wr[GC],!_p(g0)&&X0&&X0[Ji]>0?gn(X0,function(Ua){b.addHeader(Ua.header,Ua.value)}):X0=null,hr=Wr.enableSendPromise;var ou=Wr.httpXHROverride,W2=null,U5=null,ef=BD([3,1,2],Wr.transports);W2=Pm(ef,!1);var Pc={sendPOST:M5};id=o(function(Ua,Y2){return R0(Pc,Ua,Y2)},"_xhrSend"),Ac=o(function(Ua,Y2){return R0(Pc,Ua,Y2,!1)},"_fallbackSend"),W2=m1?ou:W2||ou||Pc,V0[Sm]=function(Ua,Y2){return R0(W2,Ua,Y2)},F5&&(v0=Op);var Rm=BD([3,1],Wr[SD]);F5||(Rm=Rm.filter(function(Ua){return Ua!==2})),U5=Pm(Rm,!0),U5=m1?ou:U5||ou,(m1||Wr[SD]||!v0)&&U5&&(v0=o(function(Ua,Y2){return R0(U5,Ua,Y2)},"_syncUnloadSender")),v0||(v0=id),bn=Wr.disableTelemetry,da=Wr[wD]||nd,Ho=Wr.isRetryDisabled,ul=Wr[ID]}))},V0.processTelemetry=function(a0,C0){C0=V0._getTelCtx(C0);var dr=C0[fl]();try{var pr=K2(a0,dr);if(!pr)return;var wr=Am(a0,dr);if(!wr)return;var Br=ce[Ap](wr),$i=V0[L5];fn(Br),$i[U2](Br),oE()}catch(Hi){jr(dr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Pl(Hi),{exception:Dr(Hi)})}V0.processNext(a0,C0)},V0.isCompletelyIdle=function(){return!K&&Qt===0&&V0._buffer[q2]()===0},V0[iW]=function(a0,C0,dr){a0.readyState===4&&un(a0.status,C0,a0.responseURL,dr,lE(a0),kp(a0)||a0.response)},V0[Tm]=function(a0,C0,dr){a0===void 0&&(a0=!0);var pr;if(!K)try{var wr=V0[L5];if(bn)wr[j2]();else if(wr[q2]()>0){var Br=wr.getItems();RW(dr||0,a0),C0?pr=C0.call(V0,Br,a0):pr=V0[Sm](Br,a0)}aE()}catch(Hi){var $i=d5();(!$i||$i>9)&&jr(V0[fl](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Pl(Hi),{exception:Dr(Hi)})}return pr},V0.getOfflineSupport=function(){var a0;return a0={getUrl:function(){return g0},createPayload:Lp},a0[Ap]=rE,a0.batch=nE,a0.shouldProcess=function(C0){return!!K2(C0)},a0},V0._doTeardown=function(a0,C0){V0.onunloadFlush(),_5(T0,!1),jD()},V0[$2]=function(a0,C0,dr){jr(V0[fl](),2,26,"Failed to send telemetry.",{message:C0}),V0._buffer&&V0._buffer[bm](a0)},V0[YC]=function(a0,C0){for(var dr=[],pr=[],wr=C0.errors.reverse(),Br=0,$i=wr;Br<$i.length;Br++){var Hi=$i[Br],Ql=a0.splice(Hi.index,1)[0];UD(Hi.statusCode)?pr[Hh](Ql):dr[Hh](Ql)}a0[Ji]>0&&V0[Pp](a0,C0[Rp]),dr[Ji]>0&&V0[$2](dr,lE(null,["partial success",C0[Rp],"of",C0.itemsReceived].join(" "))),pr[Ji]>0&&(sE(pr),jr(V0[fl](),2,40,"Partial success. Delivered: "+a0[Ji]+", Failed: "+dr[Ji]+". Will retry to send "+pr[Ji]+" our of "+C0[sW]+" items"))},V0[Pp]=function(a0,C0){V0._buffer&&V0._buffer[bm](a0)},V0._xdrOnLoad=function(a0,C0){var dr=kp(a0);if(a0&&(dr+""=="200"||dr===""))w=0,V0[Pp](C0,0);else{var pr=iE(dr);pr&&pr.itemsReceived&&pr.itemsReceived>pr[Rp]&&!Ho?V0[YC](C0,pr):V0[$2](C0,qD(a0))}};function K2(a0,C0){if(bn)return!1;if(!a0)return C0&&jr(C0,1,7,"Cannot send empty telemetry"),!1;if(a0.baseData&&!a0[JC])return C0&&jr(C0,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(a0[JC]||(a0[JC]="EventData"),!V0[Sm])return C0&&jr(C0,1,28,"Sender was not initialized"),!1;if(Bp(a0))a0[Ea]=V0._sample[Np];else return C0&&jr(C0,2,33,"Telemetry item was sampled out and not sent",{SampleRate:V0._sample[Np]}),!1;return!0}o(K2,"_validate");function Am(a0,C0){var dr=a0.iKey||Ms,pr=y.constructEnvelope(a0,dr,C0,da);if(!pr){jr(C0,1,47,"Unable to create an AppInsights envelope");return}var wr=!1;if(a0[kl]&&a0[kl][Ta]&&(gn(a0[kl][Ta],function(Br){try{Br&&Br(pr)===!1&&(wr=!0,E5(C0,"Telemetry processor check returns false"))}catch($i){jr(C0,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Pl($i),{exception:Dr($i)},!0)}}),delete a0[kl][Ta]),!wr)return pr}o(Am,"_getEnvelope");function rE(a0){var C0=LD,dr=V0[fl]();try{var pr=K2(a0,dr),wr=null;pr&&(wr=Am(a0,dr)),wr&&(C0=ce[Ap](wr))}catch{}return C0}o(rE,"_serialize");function nE(a0){var C0=LD;return a0&&a0[Ji]&&(C0="["+a0.join(",")+"]"),C0}o(nE,"_batch");function Lp(a0){var C0,dr=He;return _p(g0)&&(dr[P5[6]]=P5[7]),C0={urlString:g0},C0[ll]=a0,C0.headers=dr,C0}o(Lp,"_createPayload");function Bp(a0){return V0._sample.isSampledIn(a0)}o(Bp,"_isSampledIn");function Pm(a0,C0){for(var dr,pr=null,wr=null,Br=0;wr==null&&Br<a0[Ji];)pr=a0[Br],!G2&&pr===1?d2()?wr=AW:_h()&&(wr=M5):pr===2&&Vu(C0)?wr=Ci:pr===3&&(C0?U0:D0)&&(wr=kf),Br++;return wr?(dr={},dr[zC]=wr,dr):null}o(Pm,"_getSenderInterface");function sd(a0,C0,dr,pr){C0===200&&a0?V0._onSuccess(a0,a0[Ji]):pr&&V0[$2](a0,pr)}o(sd,"_getOnComplete");function R0(a0,C0,dr,pr){pr===void 0&&(pr=!0);var wr=o(function(Hi,Ql,Wr){return sd(C0,Hi,Ql,Wr)},"onComplete"),Br=xr(C0),$i=a0&&a0[zC];return $i&&Br?(pr&&V0._buffer[Vh](C0),$i(Br,wr,!dr)):null}o(R0,"_doSend");function xr(a0){var C0;if(Se(a0)&&a0[Ji]>0){var dr=V0._buffer[jC](a0),pr=(C0={},C0[ll]=dr,C0.urlString=g0,C0.headers=He,C0.disableXhrSync=G2,C0.disableFetchKeepAlive=!F5,C0[wm]=a0,C0);return pr}return null}o(xr,"_getPayload");function Ci(a0,C0,dr){return MD(a0,C0,!1)}o(Ci,"_fetchSender");function fn(a0){var C0=a0?a0[Ji]:0;return V0[L5].size()+C0>w0?((!T0||T0.isOnline())&&V0[Tm](!0,null,10),!0):!1}o(fn,"_checkMaxSize");function un(a0,C0,dr,pr,wr,Br){var $i=null;if(V0._appId||($i=iE(Br),$i&&$i.appId&&(V0._appId=$i.appId)),(a0<200||a0>=300)&&a0!==0){if((a0===301||a0===307||a0===308)&&!Ws(dr)){V0[$2](C0,wr);return}!Ho&&UD(a0)?(sE(C0),jr(V0[fl](),2,40,". Response code "+a0+". Will retry to send "+C0[Ji]+" items.")):V0[$2](C0,wr)}else if(T0&&!T0.isOnline()){if(!Ho){var Hi=10;sE(C0,Hi),jr(V0[fl](),2,40,". Offline - Response Code: ".concat(a0,". Offline status: ").concat(!T0.isOnline(),". Will retry to send ").concat(C0.length," items."))}}else Ws(dr),a0===206?($i||($i=iE(Br)),$i&&!Ho?V0[YC](C0,$i):V0[$2](C0,wr)):(w=0,V0[Pp](C0,pr))}o(un,"_checkResponsStatus");function Ws(a0){return Ie>=10?!1:!de(a0)&&a0!==""&&a0!==g0?(g0=a0,++Ie,!0):!1}o(Ws,"_checkAndUpdateEndPointUrl");function Ss(a0,C0,dr,pr){try{a0(C0,dr,pr)}catch{}}o(Ss,"_doOnComplete");function Ma(a0,C0){if(v0)v0(a0,!1);else{var dr=xr(a0);V0._buffer[Vh](a0),kf(dr)}}o(Ma,"_doUnloadSend");function Qa(a0,C0){var dr=D1(),pr=g0,wr=V0[L5],Br=wr[jC](a0),$i=new Blob([Br],{type:"text/plain;charset=UTF-8"}),Hi=dr.sendBeacon(pr,$i);return Hi&&V0._onSuccess(a0,a0[Ji]),Hi}o(Qa,"_doBeaconSend");function kf(a0,C0,dr){var pr=a0,wr=pr&&pr[wm];if(Se(wr)&&wr[Ji]>0&&!Qa(wr))if(zh)Ac&&Ac(wr,!0),jr(V0[fl](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Br=[],$i=0;$i<wr[Ji];$i++){var Hi=wr[$i];Qa([Hi])||Br[Hh](Hi)}Br[Ji]>0&&(Ac&&Ac(Br,!0),jr(V0[fl](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(kf,"_beaconSender");function M5(a0,C0,dr){var pr=a0,wr,Br,$i,Hi=new XMLHttpRequest,Ql=g0;try{Hi[Ra]=!0}catch{}return Hi.open("POST",Ql,!dr),Hi[XC]("Content-type","application/json"),_p(Ql)&&Hi[XC](P5[6],P5[7]),gn(Xa(He),function(Wr){Hi[XC](Wr,He[Wr])}),Hi.onreadystatechange=function(){var Wr=pr[wm];V0._xhrReadyStateChange(Hi,Wr,Wr[Ji]),Hi.readyState===4&&Br&&Br(!0)},Hi.onerror=function(Wr){Ss(C0,400,{},lE(Hi)),$i&&$i(Wr)},!dr&&hr&&(wr=o5(function(Wr,p1){Br=Wr,$i=p1})),Hi.send(a0[ll]),wr}o(M5,"_xhrSender");function Op(a0,C0){var dr=o(function($i,Hi,Ql){return sd(a0,$i,Hi,Ql)},"onComplete");if(Se(a0)){for(var pr=a0[Ji],wr=0;wr<a0[Ji];wr++)pr+=a0[wr][Ji];var Br=xr(a0);V0._buffer[Vh](a0),Qt+pr<=_W?MD(Br,dr,!0):Tc()?kf(Br):(Ac&&Ac(a0,!0),jr(V0[fl](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}o(Op,"_fetchKeepAliveSender");function MD(a0,C0,dr){var pr,wr=g0,Br=a0,$i=Br[ll],Hi=new Blob([$i],{type:"application/json"}),Ql,Wr,p1,su=new Headers,Gh=$i[Ji],Fp=!1,ou=!1;_p(wr)&&su.append(P5[6],P5[7]),gn(Xa(He),function(ef){su.append(ef,He[ef])});var W2=(pr={method:"POST",headers:su,body:Hi},pr[Ra]=!0,pr);dr&&(W2.keepalive=!0,Fp=!0,Qt+=Gh);var U5=new Request(wr,W2);try{U5[Ra]=!0}catch{}!dr&&hr&&(Ql=o5(function(ef,Pc){Wr=ef,p1=Pc}));try{hh(fetch(U5),function(ef){if(dr&&(Qt-=Gh,Gh=0),!ou)if(ou=!0,ef.rejected)Ss(C0,400,{},ef.reason&&ef.reason.message),p1&&p1(ef.reason);else{var Pc=ef.value;Pc.ok?hh(Pc.text(),function(Rm){var Ua=Br[wm];un(Pc.status,Ua,Pc.url,Ua[Ji],Pc.statusText,Rm.value||""),Wr&&Wr(!0)}):(Ss(C0,400,{},Pc.statusText),Wr&&Wr(!1))}})}catch(ef){ou||(Ss(C0,400,{},Dr(ef)),p1&&p1(ef))}return Fp&&!ou&&(ou=!0,Ss(C0,200,{}),Wr&&Wr(!0)),Ql}o(MD,"_doFetchSender");function iE(a0){try{if(a0&&a0!==""){var C0=Ec().parse(a0);if(C0&&C0.itemsReceived&&C0.itemsReceived>=C0[Rp]&&C0.itemsReceived-C0.itemsAccepted===C0.errors[Ji])return C0}}catch(dr){jr(V0[fl](),1,43,"Cannot parse the response. "+Pl(dr),{response:a0})}return null}o(iE,"_parseResponse");function sE(a0,C0){if(C0===void 0&&(C0=1),!(!a0||a0[Ji]===0)){var dr=V0[L5];dr[bm](a0),w++;for(var pr=0,wr=a0;pr<wr.length;pr++){var Br=wr[pr];dr[U2](Br)}IW(C0),oE()}}o(sE,"_resendPayload");function IW(a0){var C0=10,dr;if(w<=1)dr=C0;else{var pr=(Math.pow(2,w)-1)/2,wr=Math.floor(Math.random()*pr*C0)+1;wr=a0*wr,dr=Math.max(Math.min(wr,3600),C0)}var Br=B1()+dr*1e3;k=Br}o(IW,"_setRetryTime");function oE(){if(!X&&!K){var a0=k?Math.max(0,k-B1()):0,C0=Math.max(ul,a0);X=xc(function(){X=null,V0[Tm](!0,null,1)},C0)}}o(oE,"_setupTimer");function aE(){X&&X.cancel(),X=null,k=null}o(aE,"_clearScheduledTimer");function UD(a0){return a0===401||a0===403||a0===408||a0===429||a0===500||a0===502||a0===503||a0===504}o(UD,"_isRetriable");function lE(a0,C0){return a0?"XMLHttpRequest,Status:"+a0.status+",Response:"+kp(a0)||a0.response||"":C0}o(lE,"_formatErrorMessageXhr");function AW(a0,C0,dr){var pr=a0,wr=e1(),Br=new XDomainRequest,$i=pr[ll];Br.onload=function(){var Wr=pr[wm];V0._xdrOnLoad(Br,Wr)},Br.onerror=function(){Ss(C0,400,{},qD(Br))};var Hi=wr&&wr.location&&wr.location.protocol||"";if(g0.lastIndexOf(Hi,0)!==0){jr(V0[fl](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),V0._buffer[j2]();return}var Ql=g0.replace(/^(https?:)/,"");Br.open("POST",Ql),Br.send($i)}o(AW,"_xdrSender");function qD(a0,C0){return a0?"XDomainRequest,Response:"+kp(a0)||"":C0}o(qD,"_formatErrorMessageXdr");function PW(){var a0="getNotifyMgr";return V0.core[a0]?V0.core[a0]():V0.core._notificationManager}o(PW,"_getNotifyMgr");function RW(a0,C0){var dr=PW();if(dr&&dr[AD])try{dr[AD](a0,C0)}catch(pr){jr(V0[fl](),1,74,"send request notification failed: "+Pl(pr),{exception:Dr(pr)})}}o(RW,"_notifySendRequest");function NW(a0,C0){var dr=C0.disableInstrumentationKeyValidation,pr=de(dr)?!1:dr;if(pr)return!0;var wr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Br=new RegExp(wr);return Br.test(a0)}o(NW,"_validateInstrumentationKey");function jD(){V0[Sm]=null,V0[L5]=null,V0._appId=null,V0._sample=null,He={},T0=null,w=0,k=null,K=!1,X=null,ce=null,Ie=0,Qt=0,v0=null,x0=null,g0=null,q0=null,w0=0,G0=!1,X0=null,bn=!1,Ms=null,da=nd,Ho=!1,Fa=null,O5=nd,G2=!1,F5=!1,zh=!1,id=null,Ac=null,js(V0,"_senderConfig",{g:function(){return u2({},OD)}})}o(jD,"_initDefaults")}),b}return o(y,"Sender"),y.constructEnvelope=function(b,w,k,K){var X;w!==b.iKey&&!de(w)?X=U1(U1({},b),{iKey:w}):X=b;var ce=EW[X.baseType]||ND;return ce(k,X,K)},y}(am),eE="instrumentationKey",tE="connectionString",TW={diagnosticLogInterval:x2(SW,1e4)};function SW(g){return g&&g>0}o(SW,"_chkDiagLevel");var wW=function(){function g(y){var b=new Ai,w;(de(y)||de(y[eE])&&de(y[tE]))&&Bs("Invalid input configuration"),Yl(g,this,function(K){js(K,"config",{g:function(){return w}}),X(),K.initialize=X,K.track=k,Pg(K,b,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function X(){var ce=al(y||{},TW);w=ce.cfg,b.addUnloadHook(x5(ce,function(){if(w[tE]){var Ie=GK(w[tE]),He=Ie.ingestionendpoint;w.endpointUrl=He?He+h1:w.endpointUrl,w[eE]=Ie.instrumentationkey||w[eE]}})),b.initialize(w,[new FD])}o(X,"_initialize")});function k(K){K&&(K.baseData=K.baseData||{},K.baseType=K.baseType||"EventData"),b.track(K)}o(k,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Ai,e.ApplicationInsights=wW,e.Sender=FD,e.SeverityLevel=tW,e.arrForEach=gn,e.isNullOrUndefined=de,e.proxyFunctions=Pg,e.throwError=Bs})});var PA=t0((p3e,Zq)=>{"use strict";var Xq=require("fs"),AA;function vte(){try{return Xq.statSync("/.dockerenv"),!0}catch{return!1}}o(vte,"hasDockerEnv");function xte(){try{return Xq.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(xte,"hasDockerCGroup");Zq.exports=()=>(AA===void 0&&(AA=vte()||xte()),AA)});var tj=t0((v3e,RA)=>{"use strict";var _te=require("os"),bte=require("fs"),Qq=PA(),ej=o(()=>{if(process.platform!=="linux")return!1;if(_te.release().toLowerCase().includes("microsoft"))return!Qq();try{return bte.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Qq():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?RA.exports=ej:RA.exports=ej()});var nj=t0((_3e,rj)=>{"use strict";rj.exports=(e,t,r)=>{let n=o(s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let s=r();return n(s),s},set(s){n(s)}}),e}});var cj=t0((C3e,fj)=>{var Cte=require("path"),Ete=require("child_process"),{promises:Ux,constants:lj}=require("fs"),Mx=tj(),Tte=PA(),kA=nj(),ij=Cte.join(__dirname,"xdg-open"),{platform:f6,arch:sj}=process,Ste=o(()=>{try{return Ux.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),NA;function wte(){return NA===void 0&&(NA=Ste()||Tte()),NA}o(wte,"isInsideContainer");var Ite=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await Ux.access(r,lj.F_OK),n=!0}catch{}if(!n)return e;let s=await Ux.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return a?(t=a.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),oj=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(s){r=s}throw r},"pTryEach"),qx=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return oj(e.app,f=>qx({...e,app:f}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return oj(t,f=>qx({...e,app:{name:f,arguments:r}}));let n,s=[],a={};if(f6==="darwin")n="open",e.wait&&s.push("--wait-apps"),e.background&&s.push("--background"),e.newInstance&&s.push("--new"),t&&s.push("-a",t);else if(f6==="win32"||Mx&&!wte()&&!t){let f=await Ite();n=Mx?`${f}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Mx||(a.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let f=!__dirname||__dirname==="/",c=!1;try{await Ux.access(ij,lj.X_OK),c=!0}catch{}n=process.versions.electron||f6==="android"||f||!c?"xdg-open":ij}r.length>0&&s.push(...r),e.wait||(a.stdio="ignore",a.detached=!0)}e.target&&s.push(e.target),f6==="darwin"&&r.length>0&&s.push("--args",...r);let l=Ete.spawn(n,s,a);return e.wait?new Promise((f,c)=>{l.once("error",c),l.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}f(l)})}):(l.unref(),l)},"baseOpen"),DA=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return qx({...t,target:e})},"open"),Ate=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return qx({...t,app:{name:e,arguments:r}})},"openApp");function aj(e){if(typeof e=="string"||Array.isArray(e))return e;let{[sj]:t}=e;if(!t)throw new Error(`${sj} is not supported`);return t}o(aj,"detectArchBinary");function LA({[f6]:e},{wsl:t}){if(t&&Mx)return aj(t);if(!e)throw new Error(`${f6} is not supported`);return aj(e)}o(LA,"detectPlatformBinary");var jx={};kA(jx,"chrome",()=>LA({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));kA(jx,"firefox",()=>LA({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));kA(jx,"edge",()=>LA({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));DA.apps=jx;DA.openApp=Ate;fj.exports=DA});var s3=t0((E9,qA)=>{(function(e,t){if(typeof E9=="object"&&typeof qA=="object")qA.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof E9=="object"?E9:e)[n]=r[n]}})(E9,()=>(()=>{"use strict";var e={470:s=>{function a(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}o(a,"e");function l(c,u){for(var d,h="",p=0,m=-1,v=0,x=0;x<=c.length;++x){if(x<c.length)d=c.charCodeAt(x);else{if(d===47)break;d=47}if(d===47){if(!(m===x-1||v===1))if(m!==x-1&&v===2){if(h.length<2||p!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var S=h.lastIndexOf("/");if(S!==h.length-1){S===-1?(h="",p=0):p=(h=h.slice(0,S)).length-1-h.lastIndexOf("/"),m=x,v=0;continue}}else if(h.length===2||h.length===1){h="",p=0,m=x,v=0;continue}}u&&(h.length>0?h+="/..":h="..",p=2)}else h.length>0?h+="/"+c.slice(m+1,x):h=c.slice(m+1,x),p=x-m-1;m=x,v=0}else d===46&&v!==-1?++v:v=-1}return h}o(l,"r");var f={resolve:function(){for(var c,u="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var p;h>=0?p=arguments[h]:(c===void 0&&(c=process.cwd()),p=c),a(p),p.length!==0&&(u=p+"/"+u,d=p.charCodeAt(0)===47)}return u=l(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(a(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=l(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return a(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];a(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":f.normalize(c)},relative:function(c,u){if(a(c),a(u),c===u||(c=f.resolve(c))===(u=f.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,p=h-d,m=1;m<u.length&&u.charCodeAt(m)===47;++m);for(var v=u.length-m,x=p<v?p:v,S=-1,E=0;E<=x;++E){if(E===x){if(v>x){if(u.charCodeAt(m+E)===47)return u.slice(m+E+1);if(E===0)return u.slice(m+E)}else p>x&&(c.charCodeAt(d+E)===47?S=E:E===0&&(S=0));break}var R=c.charCodeAt(d+E);if(R!==u.charCodeAt(m+E))break;R===47&&(S=E)}var B="";for(E=d+S+1;E<=h;++E)E!==h&&c.charCodeAt(E)!==47||(B.length===0?B+="..":B+="/..");return B.length>0?B+u.slice(m+S):(m+=S,u.charCodeAt(m)===47&&++m,u.slice(m))},_makeLong:function(c){return c},dirname:function(c){if(a(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,h=-1,p=!0,m=c.length-1;m>=1;--m)if((u=c.charCodeAt(m))===47){if(!p){h=m;break}}else p=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');a(c);var d,h=0,p=-1,m=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var v=u.length-1,x=-1;for(d=c.length-1;d>=0;--d){var S=c.charCodeAt(d);if(S===47){if(!m){h=d+1;break}}else x===-1&&(m=!1,x=d+1),v>=0&&(S===u.charCodeAt(v)?--v==-1&&(p=d):(v=-1,p=x))}return h===p?p=x:p===-1&&(p=c.length),c.slice(h,p)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!m){h=d+1;break}}else p===-1&&(m=!1,p=d+1);return p===-1?"":c.slice(h,p)},extname:function(c){a(c);for(var u=-1,d=0,h=-1,p=!0,m=0,v=c.length-1;v>=0;--v){var x=c.charCodeAt(v);if(x!==47)h===-1&&(p=!1,h=v+1),x===46?u===-1?u=v:m!==1&&(m=1):u!==-1&&(m=-1);else if(!p){d=v+1;break}}return u===-1||h===-1||m===0||m===1&&u===h-1&&u===d+1?"":c.slice(u,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var h=d.dir||d.root,p=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+p:h+"/"+p:p}(0,c)},parse:function(c){a(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,h=c.charCodeAt(0),p=h===47;p?(u.root="/",d=1):d=0;for(var m=-1,v=0,x=-1,S=!0,E=c.length-1,R=0;E>=d;--E)if((h=c.charCodeAt(E))!==47)x===-1&&(S=!1,x=E+1),h===46?m===-1?m=E:R!==1&&(R=1):m!==-1&&(R=-1);else if(!S){v=E+1;break}return m===-1||x===-1||R===0||R===1&&m===x-1&&m===v+1?x!==-1&&(u.base=u.name=v===0&&p?c.slice(1,x):c.slice(v,x)):(v===0&&p?(u.name=c.slice(1,m),u.base=c.slice(1,x)):(u.name=c.slice(v,m),u.base=c.slice(v,x)),u.ext=c.slice(m,x)),v>0?u.dir=c.slice(0,v-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,s.exports=f},674:(s,a)=>{if(Object.defineProperty(a,"__esModule",{value:!0}),a.isWindows=void 0,typeof process=="object")a.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var l=navigator.userAgent;a.isWindows=l.indexOf("Windows")>=0}},796:function(s,a,l){var f,c,u=this&&this.__extends||(f=o(function(yt,je){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i0,u0){i0.__proto__=u0}||function(i0,u0){for(var l0 in u0)Object.prototype.hasOwnProperty.call(u0,l0)&&(i0[l0]=u0[l0])},f(yt,je)},"n"),function(yt,je){if(typeof je!="function"&&je!==null)throw new TypeError("Class extends value "+String(je)+" is not a constructor or null");function i0(){this.constructor=yt}o(i0,"r"),f(yt,je),yt.prototype=je===null?Object.create(je):(i0.prototype=je.prototype,new i0)});Object.defineProperty(a,"__esModule",{value:!0}),a.uriToFsPath=a.URI=void 0;var d=l(674),h=/^\w[\w\d+.-]*$/,p=/^\//,m=/^\/\//;function v(yt,je){if(!yt.scheme&&je)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(yt.authority,'", path: "').concat(yt.path,'", query: "').concat(yt.query,'", fragment: "').concat(yt.fragment,'"}'));if(yt.scheme&&!h.test(yt.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(yt.path){if(yt.authority){if(!p.test(yt.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(m.test(yt.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(v,"f");var x="",S="/",E=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,R=function(){function yt(je,i0,u0,l0,N0,kt){kt===void 0&&(kt=!1),typeof je=="object"?(this.scheme=je.scheme||x,this.authority=je.authority||x,this.path=je.path||x,this.query=je.query||x,this.fragment=je.fragment||x):(this.scheme=function(o0,de){return o0||de?o0:"file"}(je,kt),this.authority=i0||x,this.path=function(o0,de){switch(o0){case"https":case"http":case"file":de?de[0]!==S&&(de=S+de):de=S}return de}(this.scheme,u0||x),this.query=l0||x,this.fragment=N0||x,v(this,kt))}return o(yt,"t"),yt.isUri=function(je){return je instanceof yt||!!je&&typeof je.authority=="string"&&typeof je.fragment=="string"&&typeof je.path=="string"&&typeof je.query=="string"&&typeof je.scheme=="string"&&typeof je.fsPath=="string"&&typeof je.with=="function"&&typeof je.toString=="function"},Object.defineProperty(yt.prototype,"fsPath",{get:function(){return we(this,!1)},enumerable:!1,configurable:!0}),yt.prototype.with=function(je){if(!je)return this;var i0=je.scheme,u0=je.authority,l0=je.path,N0=je.query,kt=je.fragment;return i0===void 0?i0=this.scheme:i0===null&&(i0=x),u0===void 0?u0=this.authority:u0===null&&(u0=x),l0===void 0?l0=this.path:l0===null&&(l0=x),N0===void 0?N0=this.query:N0===null&&(N0=x),kt===void 0?kt=this.fragment:kt===null&&(kt=x),i0===this.scheme&&u0===this.authority&&l0===this.path&&N0===this.query&&kt===this.fragment?this:new O(i0,u0,l0,N0,kt)},yt.parse=function(je,i0){i0===void 0&&(i0=!1);var u0=E.exec(je);return u0?new O(u0[2]||x,c0(u0[4]||x),c0(u0[5]||x),c0(u0[7]||x),c0(u0[9]||x),i0):new O(x,x,x,x,x)},yt.file=function(je){var i0=x;if(d.isWindows&&(je=je.replace(/\\/g,S)),je[0]===S&&je[1]===S){var u0=je.indexOf(S,2);u0===-1?(i0=je.substring(2),je=S):(i0=je.substring(2,u0),je=je.substring(u0)||S)}return new O("file",i0,je,x,x)},yt.from=function(je){var i0=new O(je.scheme,je.authority,je.path,je.query,je.fragment);return v(i0,!0),i0},yt.prototype.toString=function(je){return je===void 0&&(je=!1),Xt(this,je)},yt.prototype.toJSON=function(){return this},yt.revive=function(je){if(je){if(je instanceof yt)return je;var i0=new O(je);return i0._formatted=je.external,i0._fsPath=je._sep===B?je.fsPath:null,i0}return je},yt}();a.URI=R;var B=d.isWindows?1:void 0,O=function(yt){function je(){var i0=yt!==null&&yt.apply(this,arguments)||this;return i0._formatted=null,i0._fsPath=null,i0}return o(je,"e"),u(je,yt),Object.defineProperty(je.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=we(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),je.prototype.toString=function(i0){return i0===void 0&&(i0=!1),i0?Xt(this,!0):(this._formatted||(this._formatted=Xt(this,!1)),this._formatted)},je.prototype.toJSON=function(){var i0={$mid:1};return this._fsPath&&(i0.fsPath=this._fsPath,i0._sep=B),this._formatted&&(i0.external=this._formatted),this.path&&(i0.path=this.path),this.scheme&&(i0.scheme=this.scheme),this.authority&&(i0.authority=this.authority),this.query&&(i0.query=this.query),this.fragment&&(i0.fragment=this.fragment),i0},je}(R),L=((c={})[58]="%3A",c[47]="%2F",c[63]="%3F",c[35]="%23",c[91]="%5B",c[93]="%5D",c[64]="%40",c[33]="%21",c[36]="%24",c[38]="%26",c[39]="%27",c[40]="%28",c[41]="%29",c[42]="%2A",c[43]="%2B",c[44]="%2C",c[59]="%3B",c[61]="%3D",c[32]="%20",c);function F(yt,je,i0){for(var u0=void 0,l0=-1,N0=0;N0<yt.length;N0++){var kt=yt.charCodeAt(N0);if(kt>=97&&kt<=122||kt>=65&&kt<=90||kt>=48&&kt<=57||kt===45||kt===46||kt===95||kt===126||je&&kt===47||i0&&kt===91||i0&&kt===93||i0&&kt===58)l0!==-1&&(u0+=encodeURIComponent(yt.substring(l0,N0)),l0=-1),u0!==void 0&&(u0+=yt.charAt(N0));else{u0===void 0&&(u0=yt.substr(0,N0));var o0=L[kt];o0!==void 0?(l0!==-1&&(u0+=encodeURIComponent(yt.substring(l0,N0)),l0=-1),u0+=o0):l0===-1&&(l0=N0)}}return l0!==-1&&(u0+=encodeURIComponent(yt.substring(l0))),u0!==void 0?u0:yt}o(F,"m");function ve(yt){for(var je=void 0,i0=0;i0<yt.length;i0++){var u0=yt.charCodeAt(i0);u0===35||u0===63?(je===void 0&&(je=yt.substr(0,i0)),je+=L[u0]):je!==void 0&&(je+=yt[i0])}return je!==void 0?je:yt}o(ve,"b");function we(yt,je){var i0;return i0=yt.authority&&yt.path.length>1&&yt.scheme==="file"?"//".concat(yt.authority).concat(yt.path):yt.path.charCodeAt(0)===47&&(yt.path.charCodeAt(1)>=65&&yt.path.charCodeAt(1)<=90||yt.path.charCodeAt(1)>=97&&yt.path.charCodeAt(1)<=122)&&yt.path.charCodeAt(2)===58?je?yt.path.substr(1):yt.path[1].toLowerCase()+yt.path.substr(2):yt.path,d.isWindows&&(i0=i0.replace(/\//g,"\\")),i0}o(we,"C");function Xt(yt,je){var i0=je?ve:F,u0="",l0=yt.scheme,N0=yt.authority,kt=yt.path,o0=yt.query,de=yt.fragment;if(l0&&(u0+=l0,u0+=":"),(N0||l0==="file")&&(u0+=S,u0+=S),N0){var Me=N0.indexOf("@");if(Me!==-1){var b0=N0.substr(0,Me);N0=N0.substr(Me+1),(Me=b0.lastIndexOf(":"))===-1?u0+=i0(b0,!1,!1):(u0+=i0(b0.substr(0,Me),!1,!1),u0+=":",u0+=i0(b0.substr(Me+1),!1,!0)),u0+="@"}(Me=(N0=N0.toLowerCase()).lastIndexOf(":"))===-1?u0+=i0(N0,!1,!0):(u0+=i0(N0.substr(0,Me),!1,!0),u0+=N0.substr(Me))}if(kt){if(kt.length>=3&&kt.charCodeAt(0)===47&&kt.charCodeAt(2)===58)(H0=kt.charCodeAt(1))>=65&&H0<=90&&(kt="/".concat(String.fromCharCode(H0+32),":").concat(kt.substr(3)));else if(kt.length>=2&&kt.charCodeAt(1)===58){var H0;(H0=kt.charCodeAt(0))>=65&&H0<=90&&(kt="".concat(String.fromCharCode(H0+32),":").concat(kt.substr(2)))}u0+=i0(kt,!0,!1)}return o0&&(u0+="?",u0+=i0(o0,!1,!1)),de&&(u0+="#",u0+=je?de:F(de,!1,!1)),u0}o(Xt,"A");function f0(yt){try{return decodeURIComponent(yt)}catch{return yt.length>3?yt.substr(0,3)+f0(yt.substr(3)):yt}}o(f0,"w"),a.uriToFsPath=we;var Jt=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function c0(yt){return yt.match(Jt)?yt.replace(Jt,function(je){return f0(je)}):yt}o(c0,"x")},679:function(s,a,l){var f=this&&this.__spreadArray||function(p,m,v){if(v||arguments.length===2)for(var x,S=0,E=m.length;S<E;S++)!x&&S in m||(x||(x=Array.prototype.slice.call(m,0,S)),x[S]=m[S]);return p.concat(x||Array.prototype.slice.call(m))};Object.defineProperty(a,"__esModule",{value:!0}),a.Utils=void 0;var c,u=l(470),d=u.posix||u,h="/";(c=a.Utils||(a.Utils={})).joinPath=function(p){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];return p.with({path:d.join.apply(d,f([p.path],m,!1))})},c.resolvePath=function(p){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];var x=p.path,S=!1;x[0]!==h&&(x=h+x,S=!0);var E=d.resolve.apply(d,f([x],m,!1));return S&&E[0]===h&&!p.authority&&(E=E.substring(1)),p.with({path:E})},c.dirname=function(p){if(p.path.length===0||p.path===h)return p;var m=d.dirname(p.path);return m.length===1&&m.charCodeAt(0)===46&&(m=""),p.with({path:m})},c.basename=function(p){return d.basename(p.path)},c.extname=function(p){return d.extname(p.path)}}},t={};function r(s){var a=t[s];if(a!==void 0)return a.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,r),l.exports}o(r,"r");var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=s.URI=void 0;var a=r(796);Object.defineProperty(s,"URI",{enumerable:!0,get:function(){return a.URI}});var l=r(679);Object.defineProperty(s,"Utils",{enumerable:!0,get:function(){return l.Utils}})})(),n})())});var KA=t0((j2e,pj)=>{"use strict";pj.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var s=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?s[r]:s},"protocols")});var vj=t0((H2e,yj)=>{"use strict";var kte=KA();function Dte(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=kte(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Dte,"parsePath");yj.exports=Dte});var bj=t0((z2e,_j)=>{"use strict";var Lte=vj();function Bte(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Bte,"_interopDefaultLegacy");var Ote=Bte(Lte),Fte="text/plain",Mte="us-ascii",xj=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Ute=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:a}=r.groups,l=n.split(";");a=t?"":a;let f=!1;l[l.length-1]==="base64"&&(l.pop(),f=!0);let c=(l.shift()||"").toLowerCase(),d=[...l.map(h=>{let[p,m=""]=h.split("=").map(v=>v.trim());return p==="charset"&&(m=m.toLowerCase(),m===Mte)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return f&&d.push("base64"),(d.length>0||c&&c!==Fte)&&d.unshift(c),`data:${d.join(";")},${f?s.trim():s}${a?`#${a}`:""}`},"normalizeDataURL");function qte(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Ute(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let l=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,f=0,c="";for(;;){let d=l.exec(s.pathname);if(!d)break;let h=d[0],p=d.index,m=s.pathname.slice(f,p);c+=m.replace(/\/{2,}/g,"/"),c+=h,f=p+h.length}let u=s.pathname.slice(f,s.pathname.length);c+=u.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let l=s.pathname.split("/"),f=l[l.length-1];xj(f,t.removeDirectoryIndex)&&(l=l.slice(0,-1),s.pathname=l.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let l of[...s.searchParams.keys()])xj(l,t.removeQueryParameters)&&s.searchParams.delete(l);if(t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let a=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!a.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(qte,"normalizeUrl");var WA=o((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=o(a=>{let l=new Error(a);throw l.subject_url=e,l},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>WA.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=qte(e,t));let s=Ote.default(e);if(s.parse_failed){let a=s.href.match(r);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname=`/${a[3]}`,s.parse_failed=!1):n("URL parsing failed.")}return s},"parseUrl");WA.MAX_INPUT_LENGTH=2048;_j.exports=WA});var Tj=t0((K2e,Ej)=>{"use strict";var jte=KA();function Cj(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=jte(e);if(e=e.substring(e.indexOf("://")+3),Cj(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(Cj,"isSsh");Ej.exports=Cj});var Ij=t0((Y2e,wj)=>{"use strict";var $te=bj(),Sj=Tj();function Hte(e){var t=$te(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),Sj(t.protocols)||t.protocols.length===0&&Sj(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(Hte,"gitUp");wj.exports=Hte});var Pj=t0((X2e,Aj)=>{"use strict";var Vte=Ij();function YA(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=Vte(e),n=r.resource.split("."),s=null;switch(r.toString=function(S){return YA.stringify(this,S)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3],r.full_name=s[2]+"/"+s[3]);break}else{s=r.name.split("/"),s.length===2?(r.owner=s[1],r.name=s[1],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3]);break}else{s=r.name.split("/"),s.length===5?(r.organization=s[0],r.owner=s[1],r.name=s[4],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:s=r.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),f=s.indexOf("blob",2),c=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("src",2),h=s.indexOf("raw",2),p=s.indexOf("edit",2);a=l>0?l-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:h>0?h-1:p>0?p-1:a,r.owner=s.slice(0,a).join("/"),r.name=s[a],u&&(r.commit=s[a+2])}r.ref="",r.filepathtype="",r.filepath="";var m=s.length>a&&s[a+1]==="-"?a+1:a;s.length>m+2&&["raw","src","blob","tree","edit"].indexOf(s[m+1])>=0&&(r.filepathtype=s[m+1],r.ref=s[m+2],s.length>m+3&&(r.filepath=s.slice(m+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=v.exec(r.pathname);return x!=null&&(r.source="bitbucket-server",x[1]==="users"?r.owner="~"+x[2]:r.owner=x[2],r.organization=r.owner,r.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(r.filepathtype=s[1],s.length>2&&(r.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(r.commit=s[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}o(YA,"gitUrlParse");YA.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",s=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+s:n+"@"+e.resource+":"+e.full_name+s;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+s;case"http":case"https":var a=e.token?zte(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+a+e.resource+r+"/"+Gte(e)+s;default:return e.href}};function zte(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(zte,"buildToken");function Gte(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}o(Gte,"buildPath");Aj.exports=YA});var Y$=t0((Mhe,W$)=>{"use strict";W$.exports=G$;function G$(e,t,r){e instanceof RegExp&&(e=z$(e,r)),t instanceof RegExp&&(t=z$(t,r));var n=K$(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(G$,"balanced");function z$(e,t){var r=t.match(e);return r?r[0]:null}o(z$,"maybeMatch");G$.range=K$;function K$(e,t,r){var n,s,a,l,f,c=r.indexOf(e),u=r.indexOf(t,c+1),d=c;if(c>=0&&u>0){for(n=[],a=r.length;d>=0&&!f;)d==c?(n.push(d),c=r.indexOf(e,d+1)):n.length==1?f=[n.pop(),u]:(s=n.pop(),s<a&&(a=s,l=u),u=r.indexOf(t,d+1)),d=c<u&&c>=0?c:u;n.length&&(f=[a,l])}return f}o(K$,"range")});var nH=t0((qhe,rH)=>{var J$=Y$();rH.exports=C0e;var X$="\0SLASH"+Math.random()+"\0",Z$="\0OPEN"+Math.random()+"\0",MP="\0CLOSE"+Math.random()+"\0",Q$="\0COMMA"+Math.random()+"\0",eH="\0PERIOD"+Math.random()+"\0";function FP(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(FP,"numeric");function _0e(e){return e.split("\\\\").join(X$).split("\\{").join(Z$).split("\\}").join(MP).split("\\,").join(Q$).split("\\.").join(eH)}o(_0e,"escapeBraces");function b0e(e){return e.split(X$).join("\\").split(Z$).join("{").split(MP).join("}").split(Q$).join(",").split(eH).join(".")}o(b0e,"unescapeBraces");function tH(e){if(!e)return[""];var t=[],r=J$("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,a=r.post,l=n.split(",");l[l.length-1]+="{"+s+"}";var f=tH(a);return a.length&&(l[l.length-1]+=f.shift(),l.push.apply(l,f)),t.push.apply(t,l),t}o(tH,"parseCommaParts");function C0e(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),L9(_0e(e),!0).map(b0e)):[]}o(C0e,"expandTop");function E0e(e){return"{"+e+"}"}o(E0e,"embrace");function T0e(e){return/^-?0\d/.test(e)}o(T0e,"isPadded");function S0e(e,t){return e<=t}o(S0e,"lte");function w0e(e,t){return e>=t}o(w0e,"gte");function L9(e,t){var r=[],n=J$("{","}",e);if(!n)return[e];var s=n.pre,a=n.post.length?L9(n.post,!1):[""];if(/\$$/.test(n.pre))for(var l=0;l<a.length;l++){var f=s+"{"+n.body+"}"+a[l];r.push(f)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=c||u,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+MP+n.post,L9(e)):[e];var p;if(d)p=n.body.split(/\.\./);else if(p=tH(n.body),p.length===1&&(p=L9(p[0],!1).map(E0e),p.length===1))return a.map(function(f0){return n.pre+p[0]+f0});var m;if(d){var v=FP(p[0]),x=FP(p[1]),S=Math.max(p[0].length,p[1].length),E=p.length==3?Math.abs(FP(p[2])):1,R=S0e,B=x<v;B&&(E*=-1,R=w0e);var O=p.some(T0e);m=[];for(var L=v;R(L,x);L+=E){var F;if(u)F=String.fromCharCode(L),F==="\\"&&(F="");else if(F=String(L),O){var ve=S-F.length;if(ve>0){var we=new Array(ve+1).join("0");L<0?F="-"+we+F.slice(1):F=we+F}}m.push(F)}}else{m=[];for(var Xt=0;Xt<p.length;Xt++)m.push.apply(m,L9(p[Xt],!1))}for(var Xt=0;Xt<m.length;Xt++)for(var l=0;l<a.length;l++){var f=s+m[Xt]+a[l];(!t||d||f)&&r.push(f)}}return r}o(L9,"expand")});var v_=t0(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.ValuePointer=f3.ValuePointerRootDeleteError=f3.ValuePointerRootSetError=void 0;var XP=class XP extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};o(XP,"ValuePointerRootSetError");var p_=XP;f3.ValuePointerRootSetError=p_;var ZP=class ZP extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};o(ZP,"ValuePointerRootDeleteError");var y_=ZP;f3.ValuePointerRootDeleteError=y_;var _H;(function(e){function t(f){return f.indexOf("~")===-1?f:f.replace(/~1/g,"/").replace(/~0/g,"~")}o(t,"Escape");function*r(f){if(f==="")return;let[c,u]=[0,0];for(let d=0;d<f.length;d++)f.charAt(d)==="/"?(d===0||(u=d,yield t(f.slice(c,u))),c=d+1):u=d;yield t(f.slice(c))}o(r,"Format"),e.Format=r;function n(f,c,u){if(c==="")throw new p_(f,c,u);let[d,h,p]=[null,f,""];for(let m of r(c))h[m]===void 0&&(h[m]={}),d=h,h=h[m],p=m;d[p]=u}o(n,"Set"),e.Set=n;function s(f,c){if(c==="")throw new y_(f,c);let[u,d,h]=[null,f,""];for(let p of r(c)){if(d[p]===void 0||d[p]===null)return;u=d,d=d[p],h=p}if(Array.isArray(u)){let p=parseInt(h);u.splice(p,1)}else delete u[h]}o(s,"Delete"),e.Delete=s;function a(f,c){if(c==="")return!0;let[u,d,h]=[null,f,""];for(let p of r(c)){if(d[p]===void 0)return!1;u=d,d=d[p],h=p}return Object.getOwnPropertyNames(u).includes(h)}o(a,"Has"),e.Has=a;function l(f,c){if(c==="")return f;let u=f;for(let d of r(c)){if(u[d]===void 0)return;u=u[d]}return u}o(l,"Get"),e.Get=l})(_H||(f3.ValuePointer=_H={}))});var b6=t0(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.Clone=void 0;var U9=Lf();function ure(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:QP(e[n])}),{})}o(ure,"ObjectType");function dre(e){return e.map(t=>QP(t))}o(dre,"ArrayType");function hre(e){return e.slice()}o(hre,"TypedArrayType");function gre(e){return new Date(e.toISOString())}o(gre,"DateType");function QP(e){if((0,U9.IsArray)(e))return dre(e);if((0,U9.IsDate)(e))return gre(e);if((0,U9.IsPlainObject)(e))return ure(e);if((0,U9.IsTypedArray)(e))return hre(e);if((0,U9.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}o(QP,"Clone");x_.Clone=QP});var iR=t0(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.Patch=ka.Diff=ka.ValueDeltaUnableToDiffUnknownValue=ka.ValueDeltaObjectWithSymbolKeyError=ka.Edit=ka.Delete=ka.Update=ka.Insert=void 0;var lf=Lf(),Hc=Df(),eR=v_(),tR=b6();ka.Insert=Hc.Type.Object({type:Hc.Type.Literal("insert"),path:Hc.Type.String(),value:Hc.Type.Unknown()});ka.Update=Hc.Type.Object({type:Hc.Type.Literal("update"),path:Hc.Type.String(),value:Hc.Type.Unknown()});ka.Delete=Hc.Type.Object({type:Hc.Type.Literal("delete"),path:Hc.Type.String()});ka.Edit=Hc.Type.Union([ka.Insert,ka.Update,ka.Delete]);var rR=class rR extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};o(rR,"ValueDeltaObjectWithSymbolKeyError");var I4=rR;ka.ValueDeltaObjectWithSymbolKeyError=I4;var nR=class nR extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};o(nR,"ValueDeltaUnableToDiffUnknownValue");var __=nR;ka.ValueDeltaUnableToDiffUnknownValue=__;function q9(e,t){return{type:"update",path:e,value:t}}o(q9,"CreateUpdate");function bH(e,t){return{type:"insert",path:e,value:t}}o(bH,"CreateInsert");function CH(e){return{type:"delete",path:e}}o(CH,"CreateDelete");function*mre(e,t,r){if(!(0,lf.IsPlainObject)(r))return yield q9(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],s=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let a of n){if((0,lf.IsSymbol)(a))throw new I4(a);(0,lf.IsUndefined)(r[a])&&s.includes(a)&&(yield q9(`${e}/${String(a)}`,void 0))}for(let a of s)if(!((0,lf.IsUndefined)(t[a])||(0,lf.IsUndefined)(r[a]))){if((0,lf.IsSymbol)(a))throw new I4(a);yield*b_(`${e}/${String(a)}`,t[a],r[a])}for(let a of s){if((0,lf.IsSymbol)(a))throw new I4(a);(0,lf.IsUndefined)(t[a])&&(yield bH(`${e}/${String(a)}`,r[a]))}for(let a of n.reverse()){if((0,lf.IsSymbol)(a))throw new I4(a);(0,lf.IsUndefined)(r[a])&&!s.includes(a)&&(yield CH(`${e}/${String(a)}`))}}o(mre,"ObjectType");function*pre(e,t,r){if(!(0,lf.IsArray)(r))return yield q9(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*b_(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield bH(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield CH(`${e}/${n}`))}o(pre,"ArrayType");function*yre(e,t,r){if(!(0,lf.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield q9(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*b_(`${e}/${n}`,t[n],r[n])}o(yre,"TypedArrayType");function*vre(e,t,r){t!==r&&(yield q9(e,r))}o(vre,"ValueType");function*b_(e,t,r){if((0,lf.IsPlainObject)(t))return yield*mre(e,t,r);if((0,lf.IsArray)(t))return yield*pre(e,t,r);if((0,lf.IsTypedArray)(t))return yield*yre(e,t,r);if((0,lf.IsValueType)(t))return yield*vre(e,t,r);throw new __(t)}o(b_,"Visit");function xre(e,t){return[...b_("",e,t)]}o(xre,"Diff");ka.Diff=xre;function _re(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(_re,"IsRootUpdate");function bre(e){return e.length===0}o(bre,"IsIdentity");function Cre(e,t){if(_re(t))return(0,tR.Clone)(t[0].value);if(bre(t))return(0,tR.Clone)(e);let r=(0,tR.Clone)(e);for(let n of t)switch(n.type){case"insert":{eR.ValuePointer.Set(r,n.path,n.value);break}case"update":{eR.ValuePointer.Set(r,n.path,n.value);break}case"delete":{eR.ValuePointer.Delete(r,n.path);break}}return r}o(Cre,"Patch");ka.Patch=Cre});var TH=t0(c3=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.Mutate=c3.ValueMutateInvalidRootMutationError=c3.ValueMutateTypeMismatchError=void 0;var dc=Lf(),T_=v_(),sR=b6(),aR=class aR extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};o(aR,"ValueMutateTypeMismatchError");var C_=aR;c3.ValueMutateTypeMismatchError=C_;var lR=class lR extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};o(lR,"ValueMutateInvalidRootMutationError");var E_=lR;c3.ValueMutateInvalidRootMutationError=E_;function Ere(e,t,r,n){if(!(0,dc.IsPlainObject)(r))T_.ValuePointer.Set(e,t,(0,sR.Clone)(n));else{let s=Object.keys(r),a=Object.keys(n);for(let l of s)a.includes(l)||delete r[l];for(let l of a)s.includes(l)||(r[l]=null);for(let l of a)oR(e,`${t}/${l}`,r[l],n[l])}}o(Ere,"ObjectType");function Tre(e,t,r,n){if(!(0,dc.IsArray)(r))T_.ValuePointer.Set(e,t,(0,sR.Clone)(n));else{for(let s=0;s<n.length;s++)oR(e,`${t}/${s}`,r[s],n[s]);r.splice(n.length)}}o(Tre,"ArrayType");function Sre(e,t,r,n){if((0,dc.IsTypedArray)(r)&&r.length===n.length)for(let s=0;s<r.length;s++)r[s]=n[s];else T_.ValuePointer.Set(e,t,(0,sR.Clone)(n))}o(Sre,"TypedArrayType");function wre(e,t,r,n){r!==n&&T_.ValuePointer.Set(e,t,n)}o(wre,"ValueType");function oR(e,t,r,n){if((0,dc.IsArray)(n))return Tre(e,t,r,n);if((0,dc.IsTypedArray)(n))return Sre(e,t,r,n);if((0,dc.IsPlainObject)(n))return Ere(e,t,r,n);if((0,dc.IsValueType)(n))return wre(e,t,r,n)}o(oR,"Visit");function EH(e){return(0,dc.IsTypedArray)(e)||(0,dc.IsValueType)(e)}o(EH,"IsNonMutableValue");function Ire(e,t){return(0,dc.IsPlainObject)(e)&&(0,dc.IsArray)(t)||(0,dc.IsArray)(e)&&(0,dc.IsPlainObject)(t)}o(Ire,"IsMismatchedValue");function Are(e,t){if(EH(e)||EH(t))throw new E_;if(Ire(e,t))throw new C_;oR(e,"",e,t)}o(Are,"Mutate");c3.Mutate=Are});var SH=t0(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.Equal=void 0;var Rd=Lf();function Pre(e,t){if(!(0,Rd.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(s=>S_(e[s],t[s]))}o(Pre,"ObjectType");function Rre(e,t){return(0,Rd.IsDate)(t)&&e.getTime()===t.getTime()}o(Rre,"DateType");function Nre(e,t){return!(0,Rd.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>S_(r,t[n]))}o(Nre,"ArrayType");function kre(e,t){return!(0,Rd.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>S_(r,t[n]))}o(kre,"TypedArrayType");function Dre(e,t){return e===t}o(Dre,"ValueType");function S_(e,t){if((0,Rd.IsPlainObject)(e))return Pre(e,t);if((0,Rd.IsDate)(e))return Rre(e,t);if((0,Rd.IsTypedArray)(e))return kre(e,t);if((0,Rd.IsArray)(e))return Nre(e,t);if((0,Rd.IsValueType)(e))return Dre(e,t);throw new Error("ValueEquals: Unable to compare value")}o(S_,"Equal");w_.Equal=S_});var mR=t0(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.Create=ff.ValueCreateRecursiveInstantiationError=ff.ValueCreateTempateLiteralTypeError=ff.ValueCreateIntersectTypeError=ff.ValueCreateNotTypeError=ff.ValueCreateNeverTypeError=ff.ValueCreateUnknownTypeError=void 0;var Ps=Lf(),Lre=n8(),IH=q5(),jf=Df(),fR=class fR extends jf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(fR,"ValueCreateUnknownTypeError");var I_=fR;ff.ValueCreateUnknownTypeError=I_;var cR=class cR extends jf.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};o(cR,"ValueCreateNeverTypeError");var A_=cR;ff.ValueCreateNeverTypeError=A_;var uR=class uR extends jf.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};o(uR,"ValueCreateNotTypeError");var P_=uR;ff.ValueCreateNotTypeError=P_;var dR=class dR extends jf.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};o(dR,"ValueCreateIntersectTypeError");var R_=dR;ff.ValueCreateIntersectTypeError=R_;var hR=class hR extends jf.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};o(hR,"ValueCreateTempateLiteralTypeError");var N_=hR;ff.ValueCreateTempateLiteralTypeError=N_;var gR=class gR extends jf.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};o(gR,"ValueCreateRecursiveInstantiationError");var k_=gR;ff.ValueCreateRecursiveInstantiationError=k_;function Bre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:{}}o(Bre,"TAny");function Ore(e,t){if(e.uniqueItems===!0&&!(0,Ps.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,Ps.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>hc(e.items,t)):[]}o(Ore,"TArray");function Fre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:async function*(){}()}o(Fre,"TAsyncIterator");function Mre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:BigInt(0)}o(Mre,"TBigInt");function Ure(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:!1}o(Ure,"TBoolean");function qre(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;{let r=hc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,s]of Object.entries(r)){let a=this;a[n]=s}}}:class{}}}o(qre,"TConstructor");function jre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(jre,"TDate");function $re(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:()=>hc(e.returns,t)}o($re,"TFunction");function Hre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(Hre,"TInteger");function Vre(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,s)=>{let a=hc(s,t);return typeof a=="object"?{...n,...a}:a},{});if(!(0,Lre.Check)(e,t,r))throw new R_(e);return r}}o(Vre,"TIntersect");function zre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:function*(){}()}o(zre,"TIterator");function Gre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.const}o(Gre,"TLiteral");function Kre(e,t){throw new A_(e)}o(Kre,"TNever");function Wre(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;throw new P_(e)}o(Wre,"TNot");function Yre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:null}o(Yre,"TNull");function Jre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(Jre,"TNumber");function Xre(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[s,a])=>r.has(s)?{...n,[s]:hc(a,t)}:{...n},{})}}o(Xre,"TObject");function Zre(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:Promise.resolve(hc(e.item,t))}o(Zre,"TPromise");function Qre(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,Ps.HasPropertyKey)(e,"default")?e.default:r===jf.PatternStringExact||r===jf.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((a,l)=>({...a,[l]:hc(n,t)}),{})}o(Qre,"TRecord");function ene(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:hc((0,IH.Deref)(e,t),t)}o(ene,"TRef");function tne(e,t){if(e.pattern!==void 0){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}o(tne,"TString");function rne(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}o(rne,"TSymbol");function nne(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;let r=jf.TemplateLiteralParser.ParseExact(e.pattern);if(!jf.TemplateLiteralFinite.Check(r))throw new N_(e);return jf.TemplateLiteralGenerator.Generate(r).next().value}o(nne,"TTemplateLiteral");function ine(e,t){if(AH++>wH)throw new k_(e,wH);return(0,Ps.HasPropertyKey)(e,"default")?e.default:hc((0,IH.Deref)(e,t),t)}o(ine,"TThis");function sne(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>hc(e.items[n],t))}o(sne,"TTuple");function one(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default}o(one,"TUndefined");function ane(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return hc(e.anyOf[0],t)}o(ane,"TUnion");function lne(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(lne,"TUint8Array");function fne(e,t){return(0,Ps.HasPropertyKey)(e,"default")?e.default:{}}o(fne,"TUnknown");function cne(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default}o(cne,"TVoid");function une(e,t){if((0,Ps.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}o(une,"TKind");function hc(e,t){let r=(0,Ps.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[jf.Kind]){case"Any":return Bre(n,r);case"Array":return Ore(n,r);case"AsyncIterator":return Fre(n,r);case"BigInt":return Mre(n,r);case"Boolean":return Ure(n,r);case"Constructor":return qre(n,r);case"Date":return jre(n,r);case"Function":return $re(n,r);case"Integer":return Hre(n,r);case"Intersect":return Vre(n,r);case"Iterator":return zre(n,r);case"Literal":return Gre(n,r);case"Never":return Kre(n,r);case"Not":return Wre(n,r);case"Null":return Yre(n,r);case"Number":return Jre(n,r);case"Object":return Xre(n,r);case"Promise":return Zre(n,r);case"Record":return Qre(n,r);case"Ref":return ene(n,r);case"String":return tne(n,r);case"Symbol":return rne(n,r);case"TemplateLiteral":return nne(n,r);case"This":return ine(n,r);case"Tuple":return sne(n,r);case"Undefined":return one(n,r);case"Union":return ane(n,r);case"Uint8Array":return lne(n,r);case"Unknown":return fne(n,r);case"Void":return cne(n,r);default:if(!jf.TypeRegistry.Has(n[jf.Kind]))throw new I_(n);return une(n,r)}}o(hc,"Visit");var wH=512,AH=0;function dne(...e){return AH=0,e.length===2?hc(e[0],e[1]):hc(e[0],[])}o(dne,"Create");ff.Create=dne});var kH=t0(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.Cast=cf.Default=cf.DefaultClone=cf.ValueCastUnknownTypeError=cf.ValueCastRecursiveTypeError=cf.ValueCastNeverTypeError=cf.ValueCastArrayUniqueItemsTypeError=void 0;var u3=Lf(),kd=mR(),Vc=n8(),C6=b6(),PH=q5(),Nd=Df(),xR=class xR extends Nd.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};o(xR,"ValueCastArrayUniqueItemsTypeError");var D_=xR;cf.ValueCastArrayUniqueItemsTypeError=D_;var _R=class _R extends Nd.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};o(_R,"ValueCastNeverTypeError");var L_=_R;cf.ValueCastNeverTypeError=L_;var bR=class bR extends Nd.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};o(bR,"ValueCastRecursiveTypeError");var pR=bR;cf.ValueCastRecursiveTypeError=pR;var CR=class CR extends Nd.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(CR,"ValueCastUnknownTypeError");var B_=CR;cf.ValueCastUnknownTypeError=B_;var yR;(function(e){function t(s,a,l){if(s[Nd.Kind]==="Object"&&typeof l=="object"&&!(0,u3.IsNull)(l)){let f=s,c=Object.getOwnPropertyNames(l),u=Object.entries(f.properties),[d,h]=[1/u.length,u.length];return u.reduce((p,[m,v])=>{let x=v[Nd.Kind]==="Literal"&&v.const===l[m]?h:0,S=(0,Vc.Check)(v,a,l[m])?d:0,E=c.includes(m)?d:0;return p+(x+S+E)},0)}else return(0,Vc.Check)(s,a,l)?1:0}o(t,"Score");function r(s,a,l){let[f,c]=[s.anyOf[0],0];for(let u of s.anyOf){let d=t(u,a,l);d>c&&(f=u,c=d)}return f}o(r,"Select");function n(s,a,l){if("default"in s)return s.default;{let f=r(s,a,l);return NH(f,a,l)}}o(n,"Create"),e.Create=n})(yR||(yR={}));function RH(e,t,r){return(0,Vc.Check)(e,t,r)?(0,C6.Clone)(r):(0,kd.Create)(e,t)}o(RH,"DefaultClone");cf.DefaultClone=RH;function vR(e,t,r){return(0,Vc.Check)(e,t,r)?r:(0,kd.Create)(e,t)}o(vR,"Default");cf.Default=vR;function hne(e,t,r){if((0,Vc.Check)(e,t,r))return(0,C6.Clone)(r);let n=(0,u3.IsArray)(r)?(0,C6.Clone)(r):(0,kd.Create)(e,t),s=(0,u3.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,l=((0,u3.IsNumber)(e.maxItems)&&s.length>e.maxItems?s.slice(0,e.maxItems):s).map(c=>mu(e.items,t,c));if(e.uniqueItems!==!0)return l;let f=[...new Set(l)];if(!(0,Vc.Check)(e,t,f))throw new D_(e,f);return f}o(hne,"TArray");function gne(e,t,r){if((0,Vc.Check)(e,t,r))return(0,kd.Create)(e,t);let n=new Set(e.returns.required||[]),s=o(function(){},"result");for(let[a,l]of Object.entries(e.returns.properties))!n.has(a)&&r.prototype[a]===void 0||(s.prototype[a]=mu(l,t,r.prototype[a]));return s}o(gne,"TConstructor");function mne(e,t,r){let n=(0,kd.Create)(e,t),s=(0,u3.IsPlainObject)(n)&&(0,u3.IsPlainObject)(r)?{...n,...r}:r;return(0,Vc.Check)(e,t,s)?s:(0,kd.Create)(e,t)}o(mne,"TIntersect");function pne(e,t,r){throw new L_(e)}o(pne,"TNever");function yne(e,t,r){if((0,Vc.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,kd.Create)(e,t);let n=new Set(e.required||[]),s={};for(let[a,l]of Object.entries(e.properties))!n.has(a)&&r[a]===void 0||(s[a]=mu(l,t,r[a]));if(typeof e.additionalProperties=="object"){let a=Object.getOwnPropertyNames(e.properties);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||(s[l]=mu(e.additionalProperties,t,r[l]))}return s}o(yne,"TObject");function vne(e,t,r){if((0,Vc.Check)(e,t,r))return(0,C6.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,kd.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],a={};for(let[l,f]of Object.entries(r))a[l]=mu(s,t,f);return a}o(vne,"TRecord");function xne(e,t,r){return mu((0,PH.Deref)(e,t),t,r)}o(xne,"TRef");function _ne(e,t,r){return mu((0,PH.Deref)(e,t),t,r)}o(_ne,"TThis");function bne(e,t,r){return(0,Vc.Check)(e,t,r)?(0,C6.Clone)(r):(0,u3.IsArray)(r)?e.items===void 0?[]:e.items.map((n,s)=>mu(n,t,r[s])):(0,kd.Create)(e,t)}o(bne,"TTuple");function Cne(e,t,r){return(0,Vc.Check)(e,t,r)?(0,C6.Clone)(r):yR.Create(e,t,r)}o(Cne,"TUnion");function mu(e,t,r){let n=(0,u3.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[Nd.Kind]){case"Array":return hne(s,n,r);case"Constructor":return gne(s,n,r);case"Intersect":return mne(s,n,r);case"Never":return pne(s,n,r);case"Object":return yne(s,n,r);case"Record":return vne(s,n,r);case"Ref":return xne(s,n,r);case"This":return _ne(s,n,r);case"Tuple":return bne(s,n,r);case"Union":return Cne(s,n,r);case"Date":case"Symbol":case"Uint8Array":return RH(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return vR(s,n,r);default:if(!Nd.TypeRegistry.Has(s[Nd.Kind]))throw new B_(s);return vR(s,n,r)}}o(mu,"Visit");function NH(...e){return e.length===3?mu(e[0],e[1],e[2]):mu(e[0],[],e[1])}o(NH,"Cast");cf.Cast=NH});var FH=t0(d3=>{"use strict";Object.defineProperty(d3,"__esModule",{value:!0});d3.Convert=d3.Default=d3.ValueConvertUnknownTypeError=void 0;var Js=Lf(),Ene=b6(),Tne=n8(),DH=q5(),E6=Df(),ER=class ER extends E6.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(ER,"ValueConvertUnknownTypeError");var O_=ER;d3.ValueConvertUnknownTypeError=O_;function F_(e){return(0,Js.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(F_,"IsStringNumeric");function Sne(e){return(0,Js.IsBigInt)(e)||(0,Js.IsBoolean)(e)||(0,Js.IsNumber)(e)}o(Sne,"IsValueToString");function j9(e){return e===!0||(0,Js.IsNumber)(e)&&e===1||(0,Js.IsBigInt)(e)&&e===BigInt("1")||(0,Js.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}o(j9,"IsValueTrue");function $9(e){return e===!1||(0,Js.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,Js.IsBigInt)(e)&&e===BigInt("0")||(0,Js.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o($9,"IsValueFalse");function wne(e){return(0,Js.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(wne,"IsTimeStringWithTimeZone");function Ine(e){return(0,Js.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Ine,"IsTimeStringWithoutTimeZone");function Ane(e){return(0,Js.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Ane,"IsDateTimeStringWithTimeZone");function Pne(e){return(0,Js.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Pne,"IsDateTimeStringWithoutTimeZone");function Rne(e){return(0,Js.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Rne,"IsDateString");function Nne(e,t){let r=BH(e);return r===t?r:e}o(Nne,"TryConvertLiteralString");function kne(e,t){let r=OH(e);return r===t?r:e}o(kne,"TryConvertLiteralNumber");function Dne(e,t){let r=LH(e);return r===t?r:e}o(Dne,"TryConvertLiteralBoolean");function Lne(e,t){return typeof e.const=="string"?Nne(t,e.const):typeof e.const=="number"?kne(t,e.const):typeof e.const=="boolean"?Dne(t,e.const):(0,Ene.Clone)(t)}o(Lne,"TryConvertLiteral");function LH(e){return j9(e)?!0:$9(e)?!1:e}o(LH,"TryConvertBoolean");function Bne(e){return F_(e)?BigInt(parseInt(e)):(0,Js.IsNumber)(e)?BigInt(e|0):$9(e)?BigInt(0):j9(e)?BigInt(1):e}o(Bne,"TryConvertBigInt");function BH(e){return Sne(e)?e.toString():(0,Js.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}o(BH,"TryConvertString");function OH(e){return F_(e)?parseFloat(e):j9(e)?1:$9(e)?0:e}o(OH,"TryConvertNumber");function One(e){return F_(e)?parseInt(e):(0,Js.IsNumber)(e)?e|0:j9(e)?1:$9(e)?0:e}o(One,"TryConvertInteger");function Fne(e){return(0,Js.IsString)(e)&&e.toLowerCase()==="null"?null:e}o(Fne,"TryConvertNull");function Mne(e){return(0,Js.IsString)(e)&&e==="undefined"?void 0:e}o(Mne,"TryConvertUndefined");function Une(e){return(0,Js.IsDate)(e)?e:(0,Js.IsNumber)(e)?new Date(e):j9(e)?new Date(1):$9(e)?new Date(0):F_(e)?new Date(parseInt(e)):Ine(e)?new Date(`1970-01-01T${e}.000Z`):wne(e)?new Date(`1970-01-01T${e}`):Pne(e)?new Date(`${e}.000Z`):Ane(e)?new Date(e):Rne(e)?new Date(`${e}T00:00:00.000Z`):e}o(Une,"TryConvertDate");function qne(e){return e}o(qne,"Default");d3.Default=qne;function jne(e,t,r){return(0,Js.IsArray)(r)?r.map(n=>w1(e.items,t,n)):r}o(jne,"TArray");function $ne(e,t,r){return Bne(r)}o($ne,"TBigInt");function Hne(e,t,r){return LH(r)}o(Hne,"TBoolean");function Vne(e,t,r){return Une(r)}o(Vne,"TDate");function zne(e,t,r){return One(r)}o(zne,"TInteger");function Gne(e,t,r){return e.allOf.every(n=>E6.TypeGuard.TObject(n))?w1(E6.Type.Composite(e.allOf),t,r):w1(e.allOf[0],t,r)}o(Gne,"TIntersect");function Kne(e,t,r){return Lne(e,r)}o(Kne,"TLiteral");function Wne(e,t,r){return Fne(r)}o(Wne,"TNull");function Yne(e,t,r){return OH(r)}o(Yne,"TNumber");function Jne(e,t,r){return(0,Js.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,s)=>r[s]!==void 0?{...n,[s]:w1(e.properties[s],t,r[s])}:{...n},r):r}o(Jne,"TObject");function Xne(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],a={};for(let[l,f]of Object.entries(r))a[l]=w1(s,t,f);return a}o(Xne,"TRecord");function Zne(e,t,r){return w1((0,DH.Deref)(e,t),t,r)}o(Zne,"TRef");function Qne(e,t,r){return BH(r)}o(Qne,"TString");function eie(e,t,r){return(0,Js.IsString)(r)||(0,Js.IsNumber)(r)?Symbol(r):r}o(eie,"TSymbol");function tie(e,t,r){return w1((0,DH.Deref)(e,t),t,r)}o(tie,"TThis");function rie(e,t,r){return(0,Js.IsArray)(r)&&!(0,Js.IsUndefined)(e.items)?r.map((n,s)=>s<e.items.length?w1(e.items[s],t,n):n):r}o(rie,"TTuple");function nie(e,t,r){return Mne(r)}o(nie,"TUndefined");function iie(e,t,r){for(let n of e.anyOf){let s=w1(n,t,r);if((0,Tne.Check)(n,t,s))return s}return r}o(iie,"TUnion");function w1(e,t,r){let n=(0,Js.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[E6.Kind]){case"Array":return jne(s,n,r);case"BigInt":return $ne(s,n,r);case"Boolean":return Hne(s,n,r);case"Date":return Vne(s,n,r);case"Integer":return zne(s,n,r);case"Intersect":return Gne(s,n,r);case"Literal":return Kne(s,n,r);case"Null":return Wne(s,n,r);case"Number":return Yne(s,n,r);case"Object":return Jne(s,n,r);case"Record":return Xne(s,n,r);case"Ref":return Zne(s,n,r);case"String":return Qne(s,n,r);case"Symbol":return eie(s,n,r);case"This":return tie(s,n,r);case"Tuple":return rie(s,n,r);case"Undefined":return nie(s,n,r);case"Union":return iie(s,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!E6.TypeRegistry.Has(s[E6.Kind]))throw new O_(s);return r}}o(w1,"Visit");function sie(...e){return e.length===3?w1(e[0],e[1],e[2]):w1(e[0],[],e[1])}o(sie,"Convert");d3.Convert=sie});var zH=t0(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.Value=void 0;var MH=sy(),oie=TH(),aie=Bm(),lie=SH(),UH=kH(),fie=b6(),qH=FH(),jH=mR(),$H=n8(),HH=iR(),M_=KE(),VH;(function(e){function t(...v){return UH.Cast.apply(UH,v)}o(t,"Cast"),e.Cast=t;function r(...v){return jH.Create.apply(jH,v)}o(r,"Create"),e.Create=r;function n(...v){return $H.Check.apply($H,v)}o(n,"Check"),e.Check=n;function s(...v){return qH.Convert.apply(qH,v)}o(s,"Convert"),e.Convert=s;function a(v){return fie.Clone(v)}o(a,"Clone"),e.Clone=a;function l(...v){let[x,S,E]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]];if(!n(x,S,E))throw new M_.TransformDecodeCheckError(x,E,c(x,S,E).First());return M_.DecodeTransform.Decode(x,S,E)}o(l,"Decode"),e.Decode=l;function f(...v){let[x,S,E]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]],R=M_.EncodeTransform.Encode(x,S,E);if(!n(x,S,R))throw new M_.TransformEncodeCheckError(x,E,c(x,S,E).First());return R}o(f,"Encode"),e.Encode=f;function c(...v){return MH.Errors.apply(MH,v)}o(c,"Errors"),e.Errors=c;function u(v,x){return lie.Equal(v,x)}o(u,"Equal"),e.Equal=u;function d(v,x){return HH.Diff(v,x)}o(d,"Diff"),e.Diff=d;function h(v){return aie.Hash(v)}o(h,"Hash"),e.Hash=h;function p(v,x){return HH.Patch(v,x)}o(p,"Patch"),e.Patch=p;function m(v,x){oie.Mutate(v,x)}o(m,"Mutate"),e.Mutate=m})(VH||(U_.Value=VH={}))});var KH=t0(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.Value=yl.ValuePointer=yl.Delete=yl.Update=yl.Insert=yl.Edit=yl.ValueErrorIterator=yl.ValueErrorType=void 0;var GH=sy();Object.defineProperty(yl,"ValueErrorType",{enumerable:!0,get:function(){return GH.ValueErrorType}});Object.defineProperty(yl,"ValueErrorIterator",{enumerable:!0,get:function(){return GH.ValueErrorIterator}});var q_=iR();Object.defineProperty(yl,"Edit",{enumerable:!0,get:function(){return q_.Edit}});Object.defineProperty(yl,"Insert",{enumerable:!0,get:function(){return q_.Insert}});Object.defineProperty(yl,"Update",{enumerable:!0,get:function(){return q_.Update}});Object.defineProperty(yl,"Delete",{enumerable:!0,get:function(){return q_.Delete}});var cie=v_();Object.defineProperty(yl,"ValuePointer",{enumerable:!0,get:function(){return cie.ValuePointer}});var uie=zH();Object.defineProperty(yl,"Value",{enumerable:!0,get:function(){return uie.Value}})});var sV=t0((pge,iV)=>{"use strict";iV.exports=o(function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var l=a[s];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},"equal")});var Ki=t0((W7e,vV)=>{vV.exports={options:{usePureJavaScript:!1}}});var bV=t0((Y7e,_V)=>{var sN={};_V.exports=sN;var xV={};sN.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Die(e,t);else{var s=0,a=t.length,l=t.charAt(0),f=[0];for(s=0;s<e.length;++s){for(var c=0,u=e[s];c<f.length;++c)u+=f[c]<<8,f[c]=u%a,u=u/a|0;for(;u>0;)f.push(u%a),u=u/a|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=l;for(s=f.length-1;s>=0;--s)n+=t[f[s]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};sN.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=xV[t];if(!r){r=xV[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,a=t.charAt(0),l=[0],n=0;n<e.length;n++){var f=r[e.charCodeAt(n)];if(f===void 0)return;for(var c=0,u=f;c<l.length;++c)u+=l[c]*s,l[c]=u&255,u>>=8;for(;u>0;)l.push(u&255),u>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)l.push(0);return typeof Buffer<"u"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function Die(e,t){var r=0,n=t.length,s=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var l=0,f=e.at(r);l<a.length;++l)f+=a[l]<<8,a[l]=f%n,f=f/n|0;for(;f>0;)a.push(f%n),f=f/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=s;for(r=a.length-1;r>=0;--r)c+=t[a[r]];return c}o(Die,"_encodeWithByteBuffer")});var Ds=t0((X7e,SV)=>{var CV=Ki(),EV=bV(),n0=SV.exports=CV.util=CV.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){n0.nextTick=process.nextTick,typeof setImmediate=="function"?n0.setImmediate=setImmediate:n0.setImmediate=n0.nextTick;return}if(typeof setImmediate=="function"){n0.setImmediate=function(){return setImmediate.apply(void 0,arguments)},n0.nextTick=function(f){return setImmediate(f)};return}if(n0.setImmediate=function(f){setTimeout(f,0)},typeof window<"u"&&typeof window.postMessage=="function"){let f=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(d){d()})}};var l=f;o(f,"handler");var e="forge.setImmediate",t=[];n0.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(s,{attributes:!0});var a=n0.setImmediate;n0.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),a(c)):(t.push(c),t.length===1&&s.setAttribute("a",n=!n))}}n0.nextTick=n0.setImmediate})();n0.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;n0.globalScope=function(){return n0.isNodejs?global:typeof self>"u"?window:self}();n0.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};n0.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};n0.isArrayBufferView=function(e){return e&&n0.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function X9(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(X9,"_checkBitsParam");n0.ByteBuffer=oN;function oN(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(n0.isArrayBuffer(e)||n0.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof oN||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(oN,"ByteStringBuffer");n0.ByteStringBuffer=oN;var Lie=4096;n0.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Lie&&(this.data.substr(0,1),this._constructedStringLength=0)};n0.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};n0.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};n0.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};n0.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};n0.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};n0.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(n0.encodeUtf8(e))};n0.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};n0.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};n0.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};n0.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};n0.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};n0.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};n0.ByteStringBuffer.prototype.putInt=function(e,t){X9(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};n0.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};n0.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};n0.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};n0.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};n0.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};n0.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};n0.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};n0.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};n0.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};n0.ByteStringBuffer.prototype.getInt=function(e){X9(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};n0.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};n0.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};n0.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};n0.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};n0.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};n0.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};n0.ByteStringBuffer.prototype.copy=function(){var e=n0.createBuffer(this.data);return e.read=this.read,e};n0.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};n0.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};n0.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};n0.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};n0.ByteStringBuffer.prototype.toString=function(){return n0.decodeUtf8(this.bytes())};function Bie(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=n0.isArrayBuffer(e),n=n0.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(Bie,"DataBuffer");n0.DataBuffer=Bie;n0.DataBuffer.prototype.length=function(){return this.write-this.read};n0.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};n0.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};n0.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};n0.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};n0.DataBuffer.prototype.putBytes=function(e,t){if(n0.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(n0.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof n0.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&n0.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof n0.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=n0.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=n0.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=n0.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=n0.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=n0.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};n0.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};n0.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};n0.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};n0.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};n0.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};n0.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};n0.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};n0.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};n0.DataBuffer.prototype.putInt=function(e,t){X9(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};n0.DataBuffer.prototype.putSignedInt=function(e,t){return X9(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};n0.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};n0.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};n0.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};n0.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};n0.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};n0.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};n0.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};n0.DataBuffer.prototype.getInt=function(e){X9(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};n0.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};n0.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};n0.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};n0.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};n0.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};n0.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};n0.DataBuffer.prototype.copy=function(){return new n0.DataBuffer(this)};n0.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};n0.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};n0.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};n0.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};n0.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return n0.binary.raw.encode(t);if(e==="hex")return n0.binary.hex.encode(t);if(e==="base64")return n0.binary.base64.encode(t);if(e==="utf8")return n0.text.utf8.decode(t);if(e==="utf16")return n0.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};n0.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=n0.encodeUtf8(e)),new n0.ByteBuffer(e)};n0.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};n0.xorBytes=function(e,t,r){for(var n="",s="",a="",l=0,f=0;r>0;--r,++l)s=e.charCodeAt(l)^t.charCodeAt(l),f>=10&&(n+=a,a="",f=0),a+=String.fromCharCode(s),++f;return n+=a,n};n0.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};n0.bytesToHex=function(e){return n0.createBuffer(e).toHex()};n0.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var g3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m3=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],TV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";n0.encode64=function(e,t){for(var r="",n="",s,a,l,f=0;f<e.length;)s=e.charCodeAt(f++),a=e.charCodeAt(f++),l=e.charCodeAt(f++),r+=g3.charAt(s>>2),r+=g3.charAt((s&3)<<4|a>>4),isNaN(a)?r+="==":(r+=g3.charAt((a&15)<<2|l>>6),r+=isNaN(l)?"=":g3.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};n0.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,a,l=0;l<e.length;)r=m3[e.charCodeAt(l++)-43],n=m3[e.charCodeAt(l++)-43],s=m3[e.charCodeAt(l++)-43],a=m3[e.charCodeAt(l++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),a!==64&&(t+=String.fromCharCode((s&3)<<6|a)));return t};n0.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};n0.decodeUtf8=function(e){return decodeURIComponent(escape(e))};n0.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:EV.encode,decode:EV.decode}};n0.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};n0.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,a=0;a<e.length;++a)n[s++]=e.charCodeAt(a);return t?s-r:n};n0.binary.hex.encode=n0.bytesToHex;n0.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,a=r;for(e.length&1&&(s=1,n[a++]=parseInt(e[0],16));s<e.length;s+=2)n[a++]=parseInt(e.substr(s,2),16);return t?a-r:n};n0.binary.base64.encode=function(e,t){for(var r="",n="",s,a,l,f=0;f<e.byteLength;)s=e[f++],a=e[f++],l=e[f++],r+=g3.charAt(s>>2),r+=g3.charAt((s&3)<<4|a>>4),isNaN(a)?r+="==":(r+=g3.charAt((a&15)<<2|l>>6),r+=isNaN(l)?"=":g3.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};n0.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,a,l,f,c=0,u=r;c<e.length;)s=m3[e.charCodeAt(c++)-43],a=m3[e.charCodeAt(c++)-43],l=m3[e.charCodeAt(c++)-43],f=m3[e.charCodeAt(c++)-43],n[u++]=s<<2|a>>4,l!==64&&(n[u++]=(a&15)<<4|l>>2,f!==64&&(n[u++]=(l&3)<<6|f));return t?u-r:n.subarray(0,u)};n0.binary.base58.encode=function(e,t){return n0.binary.baseN.encode(e,TV,t)};n0.binary.base58.decode=function(e,t){return n0.binary.baseN.decode(e,TV,t)};n0.text={utf8:{},utf16:{}};n0.text.utf8.encode=function(e,t,r){e=n0.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,a=0;a<e.length;++a)n[s++]=e.charCodeAt(a);return t?s-r:n};n0.text.utf8.decode=function(e){return n0.decodeUtf8(String.fromCharCode.apply(null,e))};n0.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var a=r,l=r,f=0;f<e.length;++f)s[l++]=e.charCodeAt(f),a+=2;return t?a-r:n};n0.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};n0.deflate=function(e,t,r){if(t=n0.decode64(e.deflate(n0.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};n0.inflate=function(e,t,r){var n=e.inflate(n0.encode64(t)).rval;return n===null?null:n0.decode64(n)};var aN=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=n0.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},"_setStorageObject"),lN=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(n0.decode64(r))),r},"_getStorageObject"),Oie=o(function(e,t,r,n){var s=lN(e,t);s===null&&(s={}),s[r]=n,aN(e,t,s)},"_setItem"),Fie=o(function(e,t,r){var n=lN(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Mie=o(function(e,t,r){var n=lN(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var a in n){s=!1;break}s&&(n=null),aN(e,t,n)}},"_removeItem"),Uie=o(function(e,t){aN(e,t,null)},"_clearItems"),J_=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,a=!1,l=null;for(var f in r){s=r[f];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(c){l=c}if(a)break}if(!a)throw l;return n},"_callStorageFunction");n0.setItem=function(e,t,r,n,s){J_(Oie,arguments,s)};n0.getItem=function(e,t,r,n){return J_(Fie,arguments,n)};n0.removeItem=function(e,t,r,n){J_(Mie,arguments,n)};n0.clearItems=function(e,t,r){J_(Uie,arguments,r)};n0.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};n0.format=function(e){for(var t=/%./g,r,n,s=0,a=[],l=0;r=t.exec(e);){n=e.substring(l,t.lastIndex-2),n.length>0&&a.push(n),l=t.lastIndex;var f=r[0][1];switch(f){case"s":case"o":s<arguments.length?a.push(arguments[s+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+f+"?>")}}return a.push(e.substring(l)),a.join("")};n0.formatNumber=function(e,t,r,n){var s=e,a=isNaN(t=Math.abs(t))?2:t,l=r===void 0?",":r,f=n===void 0?".":n,c=s<0?"-":"",u=parseInt(s=Math.abs(+s||0).toFixed(a),10)+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+f:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+f)+(a?l+Math.abs(s-u).toFixed(a).slice(2):"")};n0.formatSize=function(e){return e>=1073741824?e=n0.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=n0.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=n0.formatNumber(e/1024,0)+" KiB":e=n0.formatNumber(e,0)+" bytes",e};n0.bytesFromIP=function(e){return e.indexOf(".")!==-1?n0.bytesFromIPv4(e):e.indexOf(":")!==-1?n0.bytesFromIPv6(e):null};n0.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=n0.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};n0.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(l){return l.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=n0.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var a=n0.hexToBytes(e[s]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};n0.bytesToIP=function(e){return e.length===4?n0.bytesToIPv4(e):e.length===16?n0.bytesToIPv6(e):null};n0.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};n0.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var a=n0.bytesToHex(e[s]+e[s+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var l=r[r.length-1],f=t.length;!l||f!==l.end+1?r.push({start:f,end:f}):(l.end=f,l.end-l.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};n0.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in n0&&!e.update)return t(null,n0.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return n0.cores=navigator.hardwareConcurrency,t(null,n0.cores);if(typeof Worker>"u")return n0.cores=1,t(null,n0.cores);if(typeof Blob>"u")return n0.cores=2,t(null,n0.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(l){for(var f=Date.now(),c=f+4;Date.now()<c;);self.postMessage({st:f,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(l,f,c){if(f===0){var u=Math.floor(l.reduce(function(d,h){return d+h},0)/l.length);return n0.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,n0.cores)}s(c,function(d,h){l.push(a(c,h)),n(l,f-1,c)})}o(n,"sample");function s(l,f){for(var c=[],u=[],d=0;d<l;++d){var h=new Worker(r);h.addEventListener("message",function(p){if(u.push(p.data),u.length===l){for(var m=0;m<l;++m)c[m].terminate();f(null,u)}}),c.push(h)}for(var d=0;d<l;++d)c[d].postMessage(d)}o(s,"map");function a(l,f){for(var c=[],u=0;u<l;++u)for(var d=f[u],h=c[u]=[],p=0;p<l;++p)if(u!==p){var m=f[p];(d.st>m.st&&d.st<m.et||m.st>d.st&&m.st<d.et)&&h.push(p)}return c.reduce(function(v,x){return Math.max(v,x.length)},0)}o(a,"reduce")}});var X_=t0((Q7e,wV)=>{var vl=Ki();Ds();wV.exports=vl.cipher=vl.cipher||{};vl.cipher.algorithms=vl.cipher.algorithms||{};vl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=vl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new vl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};vl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=vl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new vl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};vl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),vl.cipher.algorithms[e]=t};vl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in vl.cipher.algorithms?vl.cipher.algorithms[e]:null};var fN=vl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};fN.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=vl.util.createBuffer(),this.output=e.output||vl.util.createBuffer(),this.mode.start(t)};fN.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};fN.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var uN=t0((epe,IV)=>{var xl=Ki();Ds();xl.cipher=xl.cipher||{};var ps=IV.exports=xl.cipher.modes=xl.cipher.modes||{};ps.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ps.ecb.prototype.start=function(e){};ps.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ps.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ps.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ps.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ps.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ps.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Z_(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ps.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};ps.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};ps.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ps.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ps.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};ps.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Z_(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ps.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(a>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ps.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(a>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ps.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};ps.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Z_(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ps.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(a>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ps.ofb.prototype.decrypt=ps.ofb.prototype.encrypt;ps.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};ps.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Z_(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ps.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Q_(this._inBlock)};ps.ctr.prototype.decrypt=ps.ctr.prototype.encrypt;ps.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ps.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=xl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=xl.util.createBuffer(e.additionalData):r=xl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=xl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(cN(n*8)))}this._inBlock=this._j0.slice(0),Q_(this._inBlock),this._partialBytes=0,r=xl.util.createBuffer(r),this._aDataLength=cN(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ps.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(a<=0||r){if(r){var l=n%this.blockSize;this._cipherLength+=l,this._partialOutput.truncate(this.blockSize-l)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Q_(this._inBlock)};ps.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Q_(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};ps.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=xl.util.createBuffer();var n=this._aDataLength.concat(cN(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^s[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ps.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var a=e[s/32|0]&1<<31-s%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};ps.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};ps.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,a=this._m[r][s];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};ps.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};ps.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,a=new Array(s),l=0;l<s;++l){var f=[0,0,0,0],c=l/n|0,u=(n-1-l%n)*t;f[c]=1<<t-1<<u,a[l]=this.generateSubHashTable(this.multiply(f,e),t)}return a};ps.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(s[2*a],s[a]=[]),a>>=1;for(a=2;a<n;){for(var l=1;l<a;++l){var f=s[a],c=s[l];s[a+l]=[f[0]^c[0],f[1]^c[1],f[2]^c[2],f[3]^c[3]]}a*=2}for(s[0]=[0,0,0,0],a=n+1;a<r;++a){var u=s[a^n];s[a]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return s};function Z_(e,t){if(typeof e=="string"&&(e=xl.util.createBuffer(e)),xl.util.isArray(e)&&e.length>4){var r=e;e=xl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!xl.util.isArray(e)){for(var s=[],a=t/4,n=0;n<a;++n)s.push(e.getInt32());e=s}return e}o(Z_,"transformIV");function Q_(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(Q_,"inc32");function cN(e){return[e/4294967296|0,e&4294967295]}o(cN,"from64To32")});var p3=t0((rpe,NV)=>{var ia=Ki();X_();uN();Ds();NV.exports=ia.aes=ia.aes||{};ia.aes.startEncrypting=function(e,t,r,n){var s=eb({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};ia.aes.createEncryptionCipher=function(e,t){return eb({key:e,output:null,decrypt:!1,mode:t})};ia.aes.startDecrypting=function(e,t,r,n){var s=eb({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};ia.aes.createDecryptionCipher=function(e,t){return eb({key:e,output:null,decrypt:!0,mode:t})};ia.aes.Algorithm=function(e,t){gN||PV();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return hN(r._w,n,s,!1)},decrypt:function(n,s){return hN(r._w,n,s,!0)}}}),r._init=!1};ia.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ia.util.createBuffer(t);else if(ia.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=ia.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!ia.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!ia.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,l=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=RV(t,e.decrypt&&!l),this._init=!0}};ia.aes._expandKey=function(e,t){return gN||PV(),RV(e,t)};ia.aes._updateBlock=hN;k6("AES-ECB",ia.cipher.modes.ecb);k6("AES-CBC",ia.cipher.modes.cbc);k6("AES-CFB",ia.cipher.modes.cfb);k6("AES-OFB",ia.cipher.modes.ofb);k6("AES-CTR",ia.cipher.modes.ctr);k6("AES-GCM",ia.cipher.modes.gcm);function k6(e,t){var r=o(function(){return new ia.aes.Algorithm(e,t)},"factory");ia.cipher.registerAlgorithm(e,r)}o(k6,"registerAlgorithm");var gN=!1,N6=4,xf,dN,AV,R4,A1;function PV(){gN=!0,AV=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;xf=new Array(256),dN=new Array(256),R4=new Array(4),A1=new Array(4);for(var t=0;t<4;++t)R4[t]=new Array(256),A1[t]=new Array(256);for(var r=0,n=0,s,a,l,f,c,u,d,t=0;t<256;++t){f=n^n<<1^n<<2^n<<3^n<<4,f=f>>8^f&255^99,xf[r]=f,dN[f]=r,c=e[f],s=e[r],a=e[s],l=e[a],u=c<<24^f<<16^f<<8^(f^c),d=(s^a^l)<<24^(r^l)<<16^(r^a^l)<<8^(r^s^l);for(var h=0;h<4;++h)R4[h][r]=u,A1[h][f]=d,u=u<<24|u>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=s^e[e[e[s^l]]],n^=e[e[n]])}}o(PV,"initialize");function RV(e,t){for(var r=e.slice(0),n,s=1,a=r.length,l=a+6+1,f=N6*l,c=a;c<f;++c)n=r[c-1],c%a===0?(n=xf[n>>>16&255]<<24^xf[n>>>8&255]<<16^xf[n&255]<<8^xf[n>>>24]^AV[s]<<24,s++):a>6&&c%a===4&&(n=xf[n>>>24]<<24^xf[n>>>16&255]<<16^xf[n>>>8&255]<<8^xf[n&255]),r[c]=r[c-a]^n;if(t){var u,d=A1[0],h=A1[1],p=A1[2],m=A1[3],v=r.slice(0);f=r.length;for(var c=0,x=f-N6;c<f;c+=N6,x-=N6)if(c===0||c===f-N6)v[c]=r[x],v[c+1]=r[x+3],v[c+2]=r[x+2],v[c+3]=r[x+1];else for(var S=0;S<N6;++S)u=r[x+S],v[c+(3&-S)]=d[xf[u>>>24]]^h[xf[u>>>16&255]]^p[xf[u>>>8&255]]^m[xf[u&255]];r=v}return r}o(RV,"_expandKey");function hN(e,t,r,n){var s=e.length/4-1,a,l,f,c,u;n?(a=A1[0],l=A1[1],f=A1[2],c=A1[3],u=dN):(a=R4[0],l=R4[1],f=R4[2],c=R4[3],u=xf);var d,h,p,m,v,x,S;d=t[0]^e[0],h=t[n?3:1]^e[1],p=t[2]^e[2],m=t[n?1:3]^e[3];for(var E=3,R=1;R<s;++R)v=a[d>>>24]^l[h>>>16&255]^f[p>>>8&255]^c[m&255]^e[++E],x=a[h>>>24]^l[p>>>16&255]^f[m>>>8&255]^c[d&255]^e[++E],S=a[p>>>24]^l[m>>>16&255]^f[d>>>8&255]^c[h&255]^e[++E],m=a[m>>>24]^l[d>>>16&255]^f[h>>>8&255]^c[p&255]^e[++E],d=v,h=x,p=S;r[0]=u[d>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[m&255]^e[++E],r[n?3:1]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[m>>>8&255]<<8^u[d&255]^e[++E],r[2]=u[p>>>24]<<24^u[m>>>16&255]<<16^u[d>>>8&255]<<8^u[h&255]^e[++E],r[n?1:3]=u[m>>>24]<<24^u[d>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++E]}o(hN,"_updateBlock");function eb(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=ia.cipher.createDecipher(r,e.key):n=ia.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(a,l){var f=null;l instanceof ia.util.ByteBuffer&&(f=l,l={}),l=l||{},l.output=f,l.iv=a,s.call(n,l)},n}o(eb,"_createCipher")});var y3=t0((ipe,kV)=>{var Z9=Ki();Z9.pki=Z9.pki||{};var mN=kV.exports=Z9.pki.oids=Z9.oids=Z9.oids||{};function W0(e,t){mN[e]=t,mN[t]=e}o(W0,"_IN");function Gs(e,t){mN[e]=t}o(Gs,"_I_");W0("1.2.840.113549.1.1.1","rsaEncryption");W0("1.2.840.113549.1.1.4","md5WithRSAEncryption");W0("1.2.840.113549.1.1.5","sha1WithRSAEncryption");W0("1.2.840.113549.1.1.7","RSAES-OAEP");W0("1.2.840.113549.1.1.8","mgf1");W0("1.2.840.113549.1.1.9","pSpecified");W0("1.2.840.113549.1.1.10","RSASSA-PSS");W0("1.2.840.113549.1.1.11","sha256WithRSAEncryption");W0("1.2.840.113549.1.1.12","sha384WithRSAEncryption");W0("1.2.840.113549.1.1.13","sha512WithRSAEncryption");W0("1.3.101.112","EdDSA25519");W0("1.2.840.10040.4.3","dsa-with-sha1");W0("1.3.14.3.2.7","desCBC");W0("1.3.14.3.2.26","sha1");W0("1.3.14.3.2.29","sha1WithRSASignature");W0("2.16.840.1.101.3.4.2.1","sha256");W0("2.16.840.1.101.3.4.2.2","sha384");W0("2.16.840.1.101.3.4.2.3","sha512");W0("2.16.840.1.101.3.4.2.4","sha224");W0("2.16.840.1.101.3.4.2.5","sha512-224");W0("2.16.840.1.101.3.4.2.6","sha512-256");W0("1.2.840.113549.2.2","md2");W0("1.2.840.113549.2.5","md5");W0("1.2.840.113549.1.7.1","data");W0("1.2.840.113549.1.7.2","signedData");W0("1.2.840.113549.1.7.3","envelopedData");W0("1.2.840.113549.1.7.4","signedAndEnvelopedData");W0("1.2.840.113549.1.7.5","digestedData");W0("1.2.840.113549.1.7.6","encryptedData");W0("1.2.840.113549.1.9.1","emailAddress");W0("1.2.840.113549.1.9.2","unstructuredName");W0("1.2.840.113549.1.9.3","contentType");W0("1.2.840.113549.1.9.4","messageDigest");W0("1.2.840.113549.1.9.5","signingTime");W0("1.2.840.113549.1.9.6","counterSignature");W0("1.2.840.113549.1.9.7","challengePassword");W0("1.2.840.113549.1.9.8","unstructuredAddress");W0("1.2.840.113549.1.9.14","extensionRequest");W0("1.2.840.113549.1.9.20","friendlyName");W0("1.2.840.113549.1.9.21","localKeyId");W0("1.2.840.113549.1.9.22.1","x509Certificate");W0("1.2.840.113549.1.12.10.1.1","keyBag");W0("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");W0("1.2.840.113549.1.12.10.1.3","certBag");W0("1.2.840.113549.1.12.10.1.4","crlBag");W0("1.2.840.113549.1.12.10.1.5","secretBag");W0("1.2.840.113549.1.12.10.1.6","safeContentsBag");W0("1.2.840.113549.1.5.13","pkcs5PBES2");W0("1.2.840.113549.1.5.12","pkcs5PBKDF2");W0("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");W0("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");W0("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");W0("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");W0("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");W0("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");W0("1.2.840.113549.2.7","hmacWithSHA1");W0("1.2.840.113549.2.8","hmacWithSHA224");W0("1.2.840.113549.2.9","hmacWithSHA256");W0("1.2.840.113549.2.10","hmacWithSHA384");W0("1.2.840.113549.2.11","hmacWithSHA512");W0("1.2.840.113549.3.7","des-EDE3-CBC");W0("2.16.840.1.101.3.4.1.2","aes128-CBC");W0("2.16.840.1.101.3.4.1.22","aes192-CBC");W0("2.16.840.1.101.3.4.1.42","aes256-CBC");W0("2.5.4.3","commonName");W0("2.5.4.4","surname");W0("2.5.4.5","serialNumber");W0("2.5.4.6","countryName");W0("2.5.4.7","localityName");W0("2.5.4.8","stateOrProvinceName");W0("2.5.4.9","streetAddress");W0("2.5.4.10","organizationName");W0("2.5.4.11","organizationalUnitName");W0("2.5.4.12","title");W0("2.5.4.13","description");W0("2.5.4.15","businessCategory");W0("2.5.4.17","postalCode");W0("2.5.4.42","givenName");W0("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");W0("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");W0("2.16.840.1.113730.1.1","nsCertType");W0("2.16.840.1.113730.1.13","nsComment");Gs("2.5.29.1","authorityKeyIdentifier");Gs("2.5.29.2","keyAttributes");Gs("2.5.29.3","certificatePolicies");Gs("2.5.29.4","keyUsageRestriction");Gs("2.5.29.5","policyMapping");Gs("2.5.29.6","subtreesConstraint");Gs("2.5.29.7","subjectAltName");Gs("2.5.29.8","issuerAltName");Gs("2.5.29.9","subjectDirectoryAttributes");Gs("2.5.29.10","basicConstraints");Gs("2.5.29.11","nameConstraints");Gs("2.5.29.12","policyConstraints");Gs("2.5.29.13","basicConstraints");W0("2.5.29.14","subjectKeyIdentifier");W0("2.5.29.15","keyUsage");Gs("2.5.29.16","privateKeyUsagePeriod");W0("2.5.29.17","subjectAltName");W0("2.5.29.18","issuerAltName");W0("2.5.29.19","basicConstraints");Gs("2.5.29.20","cRLNumber");Gs("2.5.29.21","cRLReason");Gs("2.5.29.22","expirationDate");Gs("2.5.29.23","instructionCode");Gs("2.5.29.24","invalidityDate");Gs("2.5.29.25","cRLDistributionPoints");Gs("2.5.29.26","issuingDistributionPoint");Gs("2.5.29.27","deltaCRLIndicator");Gs("2.5.29.28","issuingDistributionPoint");Gs("2.5.29.29","certificateIssuer");Gs("2.5.29.30","nameConstraints");W0("2.5.29.31","cRLDistributionPoints");W0("2.5.29.32","certificatePolicies");Gs("2.5.29.33","policyMappings");Gs("2.5.29.34","policyConstraints");W0("2.5.29.35","authorityKeyIdentifier");Gs("2.5.29.36","policyConstraints");W0("2.5.29.37","extKeyUsage");Gs("2.5.29.46","freshestCRL");Gs("2.5.29.54","inhibitAnyPolicy");W0("1.3.6.1.4.1.11129.2.4.2","timestampList");W0("1.3.6.1.5.5.7.1.1","authorityInfoAccess");W0("1.3.6.1.5.5.7.3.1","serverAuth");W0("1.3.6.1.5.5.7.3.2","clientAuth");W0("1.3.6.1.5.5.7.3.3","codeSigning");W0("1.3.6.1.5.5.7.3.4","emailProtection");W0("1.3.6.1.5.5.7.3.8","timeStamping")});var P1=t0((ope,LV)=>{var la=Ki();Ds();y3();var gr=LV.exports=la.asn1=la.asn1||{};gr.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};gr.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};gr.create=function(e,t,r,n,s){if(la.util.isArray(n)){for(var a=[],l=0;l<n.length;++l)n[l]!==void 0&&a.push(n[l]);n=a}var f={tagClass:e,type:t,constructed:r,composed:r||la.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(f.bitStringContents=s.bitStringContents,f.original=gr.copy(f)),f};gr.copy=function(e,t){var r;if(la.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(gr.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:gr.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};gr.equals=function(e,t,r){if(la.util.isArray(e)){if(!la.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!gr.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&gr.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};gr.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Q9(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(Q9,"_checkBufferLength");var qie=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var a=r&127;Q9(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");gr.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=la.util.createBuffer(e));var r=e.length(),n=tb(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function tb(e,t,r,n){var s;Q9(e,t,2);var a=e.getByte();t--;var l=a&192,f=a&31;s=e.length();var c=qie(e,t);if(t-=s-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var d,h,p=(a&32)===32;if(p)if(d=[],c===void 0)for(;;){if(Q9(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),d.push(tb(e,t,r+1,n)),t-=s-e.length()}else for(;c>0;)s=e.length(),d.push(tb(e,c,r+1,n)),t-=s-e.length(),c-=s-e.length();if(d===void 0&&l===gr.Class.UNIVERSAL&&f===gr.Type.BITSTRING&&(h=e.bytes(c)),d===void 0&&n.decodeBitStrings&&l===gr.Class.UNIVERSAL&&f===gr.Type.BITSTRING&&c>1){var m=e.read,v=t,x=0;if(f===gr.Type.BITSTRING&&(Q9(e,t,1),x=e.getByte(),t--),x===0)try{s=e.length();var S={strict:!0,decodeBitStrings:!0},E=tb(e,t,r+1,S),R=s-e.length();t-=R,f==gr.Type.BITSTRING&&R++;var B=E.tagClass;R===c&&(B===gr.Class.UNIVERSAL||B===gr.Class.CONTEXT_SPECIFIC)&&(d=[E])}catch{}d===void 0&&(e.read=m,t=v)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(f===gr.Type.BMPSTRING)for(d="";c>0;c-=2)Q9(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var O=h===void 0?null:{bitStringContents:h};return gr.create(l,f,p,d,O)}o(tb,"_fromDer");gr.toDer=function(e){var t=la.util.createBuffer(),r=e.tagClass|e.type,n=la.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=gr.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(gr.toDer(e.value[a]))}else if(e.type===gr.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===gr.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var l=n.length(),f="";do f+=String.fromCharCode(l&255),l=l>>>8;while(l>0);t.putByte(f.length|128);for(var a=f.length-1;a>=0;--a)t.putByte(f.charCodeAt(a))}return t.putBuffer(n),t};gr.oidToDer=function(e){var t=e.split("."),r=la.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,a,l,f=2;f<t.length;++f){n=!0,s=[],a=parseInt(t[f],10);do l=a&127,a=a>>>7,n||(l|=128),s.push(l),n=!1;while(a>0);for(var c=s.length-1;c>=0;--c)r.putByte(s[c])}return r};gr.derToOid=function(e){var t;typeof e=="string"&&(e=la.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};gr.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),f=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(f=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(a,l,f,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var d=parseInt(e.substr(u+1,2),10),h=parseInt(e.substr(u+4,2),10),p=d*60+h;p*=6e4,c==="+"?t.setTime(+t-p):t.setTime(+t+p)}return t};gr.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=parseInt(e.substr(10,2),10),f=parseInt(e.substr(12,2),10),c=0,u=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var h=e.length-5,p=e.charAt(h);if(p==="+"||p==="-"){var m=parseInt(e.substr(h+1,2),10),v=parseInt(e.substr(h+4,2),10);u=m*60+v,u*=6e4,p==="+"&&(u*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,s),t.setUTCHours(a,l,f,c),t.setTime(+t+u)):(t.setFullYear(r,n,s),t.setHours(a,l,f,c)),t};gr.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};gr.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};gr.integerToDer=function(e){var t=la.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};gr.derToInteger=function(e){typeof e=="string"&&(e=la.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};gr.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&la.util.isArray(t.value))for(var a=0,l=0;s&&l<t.value.length;++l)s=t.value[l].optional||!1,e.value[a]&&(s=gr.validate(e.value[a],t.value[l],r,n),s?++a:t.value[l].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var f;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var DV=/[^\\u0000-\\u00ff]/;gr.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",a=0;a<t*r;++a)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case gr.Class.UNIVERSAL:n+="Universal:";break;case gr.Class.APPLICATION:n+="Application:";break;case gr.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case gr.Class.PRIVATE:n+="Private:";break}if(e.tagClass===gr.Class.UNIVERSAL)switch(n+=e.type,e.type){case gr.Type.NONE:n+=" (None)";break;case gr.Type.BOOLEAN:n+=" (Boolean)";break;case gr.Type.INTEGER:n+=" (Integer)";break;case gr.Type.BITSTRING:n+=" (Bit string)";break;case gr.Type.OCTETSTRING:n+=" (Octet string)";break;case gr.Type.NULL:n+=" (Null)";break;case gr.Type.OID:n+=" (Object Identifier)";break;case gr.Type.ODESC:n+=" (Object Descriptor)";break;case gr.Type.EXTERNAL:n+=" (External or Instance of)";break;case gr.Type.REAL:n+=" (Real)";break;case gr.Type.ENUMERATED:n+=" (Enumerated)";break;case gr.Type.EMBEDDED:n+=" (Embedded PDV)";break;case gr.Type.UTF8:n+=" (UTF8)";break;case gr.Type.ROID:n+=" (Relative Object Identifier)";break;case gr.Type.SEQUENCE:n+=" (Sequence)";break;case gr.Type.SET:n+=" (Set)";break;case gr.Type.PRINTABLESTRING:n+=" (Printable String)";break;case gr.Type.IA5String:n+=" (IA5String (ASCII))";break;case gr.Type.UTCTIME:n+=" (UTC time)";break;case gr.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case gr.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var l=0,f="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(l+=1,f+=gr.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(f+=","));n+=s+"Sub values: "+l+f}else{if(n+=s+"Value: ",e.type===gr.Type.OID){var c=gr.derToOid(e.value);n+=c,la.pki&&la.pki.oids&&c in la.pki.oids&&(n+=" ("+la.pki.oids[c]+") ")}if(e.type===gr.Type.INTEGER)try{n+=gr.derToInteger(e.value)}catch{n+="0x"+la.util.bytesToHex(e.value)}else if(e.type===gr.Type.BITSTRING){if(e.value.length>1?n+="0x"+la.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===gr.Type.OCTETSTRING)DV.test(e.value)||(n+="("+e.value+") "),n+="0x"+la.util.bytesToHex(e.value);else if(e.type===gr.Type.UTF8)try{n+=la.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+la.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===gr.Type.PRINTABLESTRING||e.type===gr.Type.IA5String?n+=e.value:DV.test(e.value)?n+="0x"+la.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var yu=t0((lpe,BV)=>{var rb=Ki();BV.exports=rb.md=rb.md||{};rb.md.algorithms=rb.md.algorithms||{}});var D6=t0((fpe,OV)=>{var Od=Ki();yu();Ds();var jie=OV.exports=Od.hmac=Od.hmac||{};jie.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(a,l){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Od.md.algorithms)t=Od.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(l===null)l=e;else{if(typeof l=="string")l=Od.util.createBuffer(l);else if(Od.util.isArray(l)){var f=l;l=Od.util.createBuffer();for(var c=0;c<f.length;++c)l.putByte(f[c])}var u=l.length();u>t.blockLength&&(t.start(),t.update(l.bytes()),l=t.digest()),r=Od.util.createBuffer(),n=Od.util.createBuffer(),u=l.length();for(var c=0;c<u;++c){var f=l.at(c);r.putByte(54^f),n.putByte(92^f)}if(u<t.blockLength)for(var f=t.blockLength-u,c=0;c<f;++c)r.putByte(54),n.putByte(92);e=l,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(a){t.update(a)},s.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},s.digest=s.getMac,s}});var ib=t0((cpe,qV)=>{var vu=Ki();yu();Ds();var MV=qV.exports=vu.md5=vu.md5||{};vu.md.md5=vu.md.algorithms.md5=MV;MV.create=function(){UV||$ie();var e=null,t=vu.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,a=0;a<s;++a)n.fullMessageLength.push(0);return t=vu.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,a){a==="utf8"&&(s=vu.util.encodeUtf8(s));var l=s.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=l[1],l[1]=l[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),FV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=vu.util.createBuffer();s.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=a&n.blockLength-1;s.putBytes(pN.substr(0,n.blockLength-l));for(var f,c=0,u=n.fullMessageLength.length-1;u>=0;--u)f=n.fullMessageLength[u]*8+c,c=f/4294967296>>>0,s.putInt32Le(f>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};FV(d,r,s);var h=vu.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var pN=null,nb=null,e7=null,L6=null,UV=!1;function $ie(){pN="\x80",pN+=vu.util.fillString("\0",64),nb=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],e7=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],L6=new Array(64);for(var e=0;e<64;++e)L6[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);UV=!0}o($ie,"_init");function FV(e,t,r){for(var n,s,a,l,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,a=e.h1,l=e.h2,f=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=f^a&(l^f),n=s+c+L6[d]+t[d],u=e7[d],s=f,f=l,l=a,a+=n<<u|n>>>32-u;for(;d<32;++d)c=l^f&(a^l),n=s+c+L6[d]+t[nb[d]],u=e7[d],s=f,f=l,l=a,a+=n<<u|n>>>32-u;for(;d<48;++d)c=a^l^f,n=s+c+L6[d]+t[nb[d]],u=e7[d],s=f,f=l,l=a,a+=n<<u|n>>>32-u;for(;d<64;++d)c=l^(a|~f),n=s+c+L6[d]+t[nb[d]],u=e7[d],s=f,f=l,l=a,a+=n<<u|n>>>32-u;e.h0=e.h0+s|0,e.h1=e.h1+a|0,e.h2=e.h2+l|0,e.h3=e.h3+f|0,h-=64}}o(FV,"_update")});var N4=t0((dpe,$V)=>{var ob=Ki();Ds();var jV=$V.exports=ob.pem=ob.pem||{};jV.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=sb(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=sb(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=sb(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=sb(e.headers[s]);return e.procType&&(r+=`\r
`),r+=ob.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};jV.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,a;a=r.exec(e),!!a;){var l=a[1];l==="NEW CERTIFICATE REQUEST"&&(l="CERTIFICATE REQUEST");var f={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ob.util.decode64(a[3])};if(t.push(f),!!a[2]){for(var c=a[2].split(s),u=0;a&&u<c.length;){for(var d=c[u].replace(/\s+$/,""),h=u+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;d+=p,u=h}if(a=d.match(n),a){for(var m={name:a[1],values:[]},v=a[2].split(","),x=0;x<v.length;++x)m.values.push(Hie(v[x]));if(f.procType)if(!f.contentDomain&&m.name==="Content-Domain")f.contentDomain=v[0]||"";else if(!f.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');f.dekInfo={algorithm:v[0],parameters:v[1]||null}}else f.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');f.procType={version:v[0],type:v[1]}}}++u}if(f.procType==="ENCRYPTED"&&!f.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function sb(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,l=-1,s=0;s<t.length;++s,++a)if(a>65&&l!==-1){var f=t[l];f===","?(++l,t=t.substr(0,l)+`\r
 `+t.substr(l)):t=t.substr(0,l)+`\r
`+f+t.substr(l+1),a=s-l-1,l=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(l=s);return t}o(sb,"foldHeader");function Hie(e){return e.replace(/^\s+/,"")}o(Hie,"ltrim")});var t7=t0((gpe,VV)=>{var pa=Ki();X_();uN();Ds();VV.exports=pa.des=pa.des||{};pa.des.startEncrypting=function(e,t,r,n){var s=ab({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};pa.des.createEncryptionCipher=function(e,t){return ab({key:e,output:null,decrypt:!1,mode:t})};pa.des.startDecrypting=function(e,t,r,n){var s=ab({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};pa.des.createDecryptionCipher=function(e,t){return ab({key:e,output:null,decrypt:!0,mode:t})};pa.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return HV(r._keys,n,s,!1)},decrypt:function(n,s){return HV(r._keys,n,s,!0)}}}),r._init=!1};pa.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=pa.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=Zie(t),this._init=!0}};xu("DES-ECB",pa.cipher.modes.ecb);xu("DES-CBC",pa.cipher.modes.cbc);xu("DES-CFB",pa.cipher.modes.cfb);xu("DES-OFB",pa.cipher.modes.ofb);xu("DES-CTR",pa.cipher.modes.ctr);xu("3DES-ECB",pa.cipher.modes.ecb);xu("3DES-CBC",pa.cipher.modes.cbc);xu("3DES-CFB",pa.cipher.modes.cfb);xu("3DES-OFB",pa.cipher.modes.ofb);xu("3DES-CTR",pa.cipher.modes.ctr);function xu(e,t){var r=o(function(){return new pa.des.Algorithm(e,t)},"factory");pa.cipher.registerAlgorithm(e,r)}o(xu,"registerAlgorithm");var Vie=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],zie=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Gie=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Kie=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Wie=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Yie=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Jie=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Xie=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Zie(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],l=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],m=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,S=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],R=0,B,O=0;O<x;O++){var L=e.getInt32(),F=e.getInt32();B=(L>>>4^F)&252645135,F^=B,L^=B<<4,B=(F>>>-16^L)&65535,L^=B,F^=B<<-16,B=(L>>>2^F)&858993459,F^=B,L^=B<<2,B=(F>>>-16^L)&65535,L^=B,F^=B<<-16,B=(L>>>1^F)&1431655765,F^=B,L^=B<<1,B=(F>>>8^L)&16711935,L^=B,F^=B<<8,B=(L>>>1^F)&1431655765,F^=B,L^=B<<1,B=L<<8|F>>>20&240,L=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=B;for(var ve=0;ve<E.length;++ve){E[ve]?(L=L<<2|L>>>26,F=F<<2|F>>>26):(L=L<<1|L>>>27,F=F<<1|F>>>27),L&=-15,F&=-15;var we=t[L>>>28]|r[L>>>24&15]|n[L>>>20&15]|s[L>>>16&15]|a[L>>>12&15]|l[L>>>8&15]|f[L>>>4&15],Xt=c[F>>>28]|u[F>>>24&15]|d[F>>>20&15]|h[F>>>16&15]|p[F>>>12&15]|m[F>>>8&15]|v[F>>>4&15];B=(Xt>>>16^we)&65535,S[R++]=we^B,S[R++]=Xt^B<<16}}return S}o(Zie,"_createKeys");function HV(e,t,r,n){var s=e.length===32?3:9,a;s===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var l,f=t[0],c=t[1];l=(f>>>4^c)&252645135,c^=l,f^=l<<4,l=(f>>>16^c)&65535,c^=l,f^=l<<16,l=(c>>>2^f)&858993459,f^=l,c^=l<<2,l=(c>>>8^f)&16711935,f^=l,c^=l<<8,l=(f>>>1^c)&1431655765,c^=l,f^=l<<1,f=f<<1|f>>>31,c=c<<1|c>>>31;for(var u=0;u<s;u+=3){for(var d=a[u+1],h=a[u+2],p=a[u];p!=d;p+=h){var m=c^e[p],v=(c>>>4|c<<28)^e[p+1];l=f,f=c,c=l^(zie[m>>>24&63]|Kie[m>>>16&63]|Yie[m>>>8&63]|Xie[m&63]|Vie[v>>>24&63]|Gie[v>>>16&63]|Wie[v>>>8&63]|Jie[v&63])}l=f,f=c,c=l}f=f>>>1|f<<31,c=c>>>1|c<<31,l=(f>>>1^c)&1431655765,c^=l,f^=l<<1,l=(c>>>8^f)&16711935,f^=l,c^=l<<8,l=(c>>>2^f)&858993459,f^=l,c^=l<<2,l=(f>>>16^c)&65535,c^=l,f^=l<<16,l=(f>>>4^c)&252645135,c^=l,f^=l<<4,r[0]=f,r[1]=c}o(HV,"_updateBlock");function ab(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=pa.cipher.createDecipher(r,e.key):n=pa.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(a,l){var f=null;l instanceof pa.util.ByteBuffer&&(f=l,l={}),l=l||{},l.output=f,l.iv=a,s.call(n,l)},n}o(ab,"_createCipher")});var lb=t0((ppe,zV)=>{var _f=Ki();D6();yu();Ds();var Qie=_f.pkcs5=_f.pkcs5||{},Fd;_f.util.isNodejs&&!_f.options.usePureJavaScript&&(Fd=require("crypto"));zV.exports=_f.pbkdf2=Qie.pbkdf2=function(e,t,r,n,s,a){if(typeof s=="function"&&(a=s,s=null),_f.util.isNodejs&&!_f.options.usePureJavaScript&&Fd.pbkdf2&&(s===null||typeof s!="object")&&(Fd.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?Fd.pbkdf2Sync.length===4?Fd.pbkdf2(e,t,r,n,function(B,O){if(B)return a(B);a(null,O.toString("binary"))}):Fd.pbkdf2(e,t,r,n,s,function(B,O){if(B)return a(B);a(null,O.toString("binary"))}):Fd.pbkdf2Sync.length===4?Fd.pbkdf2Sync(e,t,r,n).toString("binary"):Fd.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in _f.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=_f.md[s].create()}var l=s.digestLength;if(n>4294967295*l){var f=new Error("Derived key is too long.");if(a)return a(f);throw f}var c=Math.ceil(n/l),u=n-(c-1)*l,d=_f.hmac.create();d.start(s,e);var h="",p,m,v;if(!a){for(var x=1;x<=c;++x){d.start(null,null),d.update(t),d.update(_f.util.int32ToBytes(x)),p=v=d.digest().getBytes();for(var S=2;S<=r;++S)d.start(null,null),d.update(v),m=d.digest().getBytes(),p=_f.util.xorBytes(p,m,l),v=m;h+=x<c?p:p.substr(0,u)}return h}var x=1,S;function E(){if(x>c)return a(null,h);d.start(null,null),d.update(t),d.update(_f.util.int32ToBytes(x)),p=v=d.digest().getBytes(),S=2,R()}o(E,"outer");function R(){if(S<=r)return d.start(null,null),d.update(v),m=d.digest().getBytes(),p=_f.util.xorBytes(p,m,l),v=m,++S,_f.util.setImmediate(R);h+=x<c?p:p.substr(0,u),++x,E()}o(R,"inner"),E()}});var vN=t0((vpe,JV)=>{var _u=Ki();yu();Ds();var KV=JV.exports=_u.sha256=_u.sha256||{};_u.md.sha256=_u.md.algorithms.sha256=KV;KV.create=function(){WV||ese();var e=null,t=_u.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,a=0;a<s;++a)n.fullMessageLength.push(0);return t=_u.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,a){a==="utf8"&&(s=_u.util.encodeUtf8(s));var l=s.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=l[1],l[1]=l[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),GV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=_u.util.createBuffer();s.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=a&n.blockLength-1;s.putBytes(yN.substr(0,n.blockLength-l));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};GV(h,r,s);var p=_u.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},n};var yN=null,WV=!1,YV=null;function ese(){yN="\x80",yN+=_u.util.fillString("\0",64),YV=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],WV=!0}o(ese,"_init");function GV(e,t,r){for(var n,s,a,l,f,c,u,d,h,p,m,v,x,S,E,R=r.length();R>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[u-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[u]=n+t[u-7]+s+t[u-16]|0;for(d=e.h0,h=e.h1,p=e.h2,m=e.h3,v=e.h4,x=e.h5,S=e.h6,E=e.h7,u=0;u<64;++u)l=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),f=S^v&(x^S),a=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&h|p&(d^h),n=E+l+f+YV[u]+t[u],s=a+c,E=S,S=x,x=v,v=m+n>>>0,m=p,p=h,h=d,d=n+s>>>0;e.h0=e.h0+d|0,e.h1=e.h1+h|0,e.h2=e.h2+p|0,e.h3=e.h3+m|0,e.h4=e.h4+v|0,e.h5=e.h5+x|0,e.h6=e.h6+S|0,e.h7=e.h7+E|0,R-=64}}o(GV,"_update")});var xN=t0((_pe,XV)=>{var bu=Ki();Ds();var fb=null;bu.util.isNodejs&&!bu.options.usePureJavaScript&&!process.versions["node-webkit"]&&(fb=require("crypto"));var tse=XV.exports=bu.prng=bu.prng||{};tse.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(u,d){if(!d)return t.generateSync(u);var h=t.plugin.cipher,p=t.plugin.increment,m=t.plugin.formatKey,v=t.plugin.formatSeed,x=bu.util.createBuffer();t.key=null,S();function S(E){if(E)return d(E);if(x.length()>=u)return d(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return bu.util.nextTick(function(){a(S)});var R=h(t.key,t.seed);t.generated+=R.length,x.putBytes(R),t.key=m(h(t.key,p(t.seed))),t.seed=v(h(t.key,t.seed)),bu.util.setImmediate(S)}o(S,"generate")},t.generateSync=function(u){var d=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,m=t.plugin.formatSeed;t.key=null;for(var v=bu.util.createBuffer();v.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&l();var x=d(t.key,t.seed);t.generated+=x.length,v.putBytes(x),t.key=p(d(t.key,h(t.seed))),t.seed=m(d(t.key,t.seed))}return v.getBytes(u)};function a(u){if(t.pools[0].messageLength>=32)return f(),u();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(h,p){if(h)return u(h);t.collect(p),f(),u()})}o(a,"_reseed");function l(){if(t.pools[0].messageLength>=32)return f();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),f()}o(l,"_reseedSync");function f(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var d=1,h=0;h<32;++h)t.reseeds%d===0&&(u.update(t.pools[h].digest().getBytes()),t.pools[h].start()),d=d<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var p=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(p),t.generated=0}o(f,"_seed");function c(u){var d=null,h=bu.util.globalScope,p=h.crypto||h.msCrypto;p&&p.getRandomValues&&(d=o(function(L){return p.getRandomValues(L)},"getRandomValues"));var m=bu.util.createBuffer();if(d)for(;m.length()<u;){var v=Math.max(1,Math.min(u-m.length(),65536)/4),x=new Uint32Array(Math.floor(v));try{d(x);for(var S=0;S<x.length;++S)m.putInt32(x[S])}catch(L){if(!(typeof QuotaExceededError<"u"&&L instanceof QuotaExceededError))throw L}}if(m.length()<u)for(var E,R,B,O=Math.floor(Math.random()*65536);m.length()<u;){R=16807*(O&65535),E=16807*(O>>16),R+=(E&32767)<<16,R+=E>>15,R=(R&2147483647)+(R>>31),O=R&4294967295;for(var S=0;S<3;++S)B=O>>>(S<<3),B^=Math.floor(Math.random()*256),m.putByte(B&255)}return m.getBytes(u)}return o(c,"defaultSeedFile"),fb?(t.seedFile=function(u,d){fb.randomBytes(u,function(h,p){if(h)return d(h);d(null,p.toString())})},t.seedFileSync=function(u){return fb.randomBytes(u).toString()}):(t.seedFile=function(u,d){try{d(null,c(u))}catch(h){d(h)}},t.seedFileSync=c),t.collect=function(u){for(var d=u.length,h=0;h<d;++h)t.pools[t.pool].update(u.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,d){for(var h="",p=0;p<d;p+=8)h+=String.fromCharCode(u>>p&255);t.collect(h)},t.registerWorker=function(u){if(u===self)t.seedFile=function(h,p){function m(v){var x=v.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",m),p(x.forge.prng.err,x.forge.prng.bytes))}o(m,"listener"),self.addEventListener("message",m),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var p=h.data;p.forge&&p.forge.prng&&t.seedFile(p.forge.prng.needed,function(m,v){u.postMessage({forge:{prng:{err:m,bytes:v}}})})},"listener");u.addEventListener("message",d)}},t}});var Gc=t0((Cpe,_N)=>{var _l=Ki();p3();vN();xN();Ds();(function(){if(_l.random&&_l.random.getBytes){_N.exports=_l.random;return}(function(e){var t={},r=new Array(4),n=_l.util.createBuffer();t.formatKey=function(h){var p=_l.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),_l.aes._expandKey(h,!1)},t.formatSeed=function(h){var p=_l.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),h},t.cipher=function(h,p){return _l.aes._updateBlock(h,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=_l.md.sha256;function s(){var h=_l.prng.create(t);return h.getBytes=function(p,m){return h.generate(p,m)},h.getBytesSync=function(p){return h.generate(p)},h}o(s,"spawnPrng");var a=s(),l=null,f=_l.util.globalScope,c=f.crypto||f.msCrypto;if(c&&c.getRandomValues&&(l=o(function(h){return c.getRandomValues(h)},"getRandomValues")),_l.options.usePureJavaScript||!_l.util.isNodejs&&!l){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var d in navigator)try{typeof navigator[d]=="string"&&(u+=navigator[d])}catch{}a.collect(u),u=null}e&&(e().mousemove(function(h){a.collectInt(h.clientX,16),a.collectInt(h.clientY,16)}),e().keypress(function(h){a.collectInt(h.charCode,8)}))}if(!_l.random)_l.random=a;else for(var d in a)_l.random[d]=a[d];_l.random.createInstance=s,_N.exports=_l.random})(typeof jQuery<"u"?jQuery:null)})()});var CN=t0((Tpe,ez)=>{var $f=Ki();Ds();var bN=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],ZV=[1,2,3,5],rse=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),nse=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");ez.exports=$f.rc2=$f.rc2||{};$f.rc2.expandKey=function(e,t){typeof e=="string"&&(e=$f.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,a=Math.ceil(s/8),l=255>>(s&7),f;for(f=n;f<128;f++)r.putByte(bN[r.at(f-1)+r.at(f-n)&255]);for(r.setAt(128-a,bN[r.at(128-a)&l]),f=127-a;f>=0;f--)r.setAt(f,bN[r.at(f+1)^r.at(f+a)]);return r};var QV=o(function(e,t,r){var n=!1,s=null,a=null,l=null,f,c,u,d,h=[];for(e=$f.rc2.expandKey(e,t),u=0;u<64;u++)h.push(e.getInt16Le());r?(f=o(function(v){for(u=0;u<4;u++)v[u]+=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=rse(v[u],ZV[u]),d++},"mixRound"),c=o(function(v){for(u=0;u<4;u++)v[u]+=h[v[(u+3)%4]&63]},"mashRound")):(f=o(function(v){for(u=3;u>=0;u--)v[u]=nse(v[u],ZV[u]),v[u]-=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),d--},"mixRound"),c=o(function(v){for(u=3;u>=0;u--)v[u]-=h[v[(u+3)%4]&63]},"mashRound"));var p=o(function(v){var x=[];for(u=0;u<4;u++){var S=s.getInt16Le();l!==null&&(r?S^=l.getInt16Le():l.putInt16Le(S)),x.push(S&65535)}d=r?0:63;for(var E=0;E<v.length;E++)for(var R=0;R<v[E][0];R++)v[E][1](x);for(u=0;u<4;u++)l!==null&&(r?l.putInt16Le(x[u]):x[u]^=l.getInt16Le()),a.putInt16Le(x[u])},"runPlan"),m=null;return m={start:function(v,x){v&&typeof v=="string"&&(v=$f.util.createBuffer(v)),n=!1,s=$f.util.createBuffer(),a=x||new $f.util.createBuffer,l=v,m.output=a},update:function(v){for(n||s.putBuffer(v);s.length()>=8;)p([[5,f],[1,c],[6,f],[1,c],[5,f]])},finish:function(v){var x=!0;if(r)if(v)x=v(8,s,!r);else{var S=s.length()===8?8:8-s.length();s.fillWithByte(S,S)}if(x&&(n=!0,m.update()),!r&&(x=s.length()===0,x))if(v)x=v(8,a,!r);else{var E=a.length(),R=a.at(E-1);R>E?x=!1:a.truncate(R)}return x}},m},"createCipher");$f.rc2.startEncrypting=function(e,t,r){var n=$f.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};$f.rc2.createEncryptionCipher=function(e,t){return QV(e,t,!0)};$f.rc2.startDecrypting=function(e,t,r){var n=$f.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};$f.rc2.createDecryptionCipher=function(e,t){return QV(e,t,!1)}});var n7=t0((wpe,lz)=>{var EN=Ki();lz.exports=EN.jsbn=EN.jsbn||{};var Md,ise=0xdeadbeefcafe,tz=(ise&16777215)==15715070;function j0(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(j0,"BigInteger");EN.jsbn.BigInteger=j0;function Ls(){return new j0(null)}o(Ls,"nbi");function sse(e,t,r,n,s,a){for(;--a>=0;){var l=t*this.data[e++]+r.data[n]+s;s=Math.floor(l/67108864),r.data[n++]=l&67108863}return s}o(sse,"am1");function ose(e,t,r,n,s,a){for(var l=t&32767,f=t>>15;--a>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,d=f*c+u*l;c=l*c+((d&32767)<<15)+r.data[n]+(s&1073741823),s=(c>>>30)+(d>>>15)+f*u+(s>>>30),r.data[n++]=c&1073741823}return s}o(ose,"am2");function rz(e,t,r,n,s,a){for(var l=t&16383,f=t>>14;--a>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,d=f*c+u*l;c=l*c+((d&16383)<<14)+r.data[n]+s,s=(c>>28)+(d>>14)+f*u,r.data[n++]=c&268435455}return s}o(rz,"am3");typeof navigator>"u"?(j0.prototype.am=rz,Md=28):tz&&navigator.appName=="Microsoft Internet Explorer"?(j0.prototype.am=ose,Md=30):tz&&navigator.appName!="Netscape"?(j0.prototype.am=sse,Md=26):(j0.prototype.am=rz,Md=28);j0.prototype.DB=Md;j0.prototype.DM=(1<<Md)-1;j0.prototype.DV=1<<Md;var TN=52;j0.prototype.FV=Math.pow(2,TN);j0.prototype.F1=TN-Md;j0.prototype.F2=2*Md-TN;var ase="0123456789abcdefghijklmnopqrstuvwxyz",cb=new Array,B6,Kc;B6=48;for(Kc=0;Kc<=9;++Kc)cb[B6++]=Kc;B6=97;for(Kc=10;Kc<36;++Kc)cb[B6++]=Kc;B6=65;for(Kc=10;Kc<36;++Kc)cb[B6++]=Kc;function nz(e){return ase.charAt(e)}o(nz,"int2char");function iz(e,t){var r=cb[e.charCodeAt(t)];return r==null?-1:r}o(iz,"intAt");function lse(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(lse,"bnpCopyTo");function fse(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(fse,"bnpFromInt");function v3(e){var t=Ls();return t.fromInt(e),t}o(v3,"nbv");function cse(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,a=0;--n>=0;){var l=r==8?e[n]&255:iz(e,n);if(l<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,a==0?this.data[this.t++]=l:a+r>this.DB?(this.data[this.t-1]|=(l&(1<<this.DB-a)-1)<<a,this.data[this.t++]=l>>this.DB-a):this.data[this.t-1]|=l<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&e[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&j0.ZERO.subTo(this,this)}o(cse,"bnpFromString");function use(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(use,"bnpClamp");function dse(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,a="",l=this.t,f=this.DB-l*this.DB%t;if(l-- >0)for(f<this.DB&&(n=this.data[l]>>f)>0&&(s=!0,a=nz(n));l>=0;)f<t?(n=(this.data[l]&(1<<f)-1)<<t-f,n|=this.data[--l]>>(f+=this.DB-t)):(n=this.data[l]>>(f-=t)&r,f<=0&&(f+=this.DB,--l)),n>0&&(s=!0),s&&(a+=nz(n));return s?a:"0"}o(dse,"bnToString");function hse(){var e=Ls();return j0.ZERO.subTo(this,e),e}o(hse,"bnNegate");function gse(){return this.s<0?this.negate():this}o(gse,"bnAbs");function mse(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(mse,"bnCompareTo");function ub(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(ub,"nbits");function pse(){return this.t<=0?0:this.DB*(this.t-1)+ub(this.data[this.t-1]^this.s&this.DM)}o(pse,"bnBitLength");function yse(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(yse,"bnpDLShiftTo");function vse(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(vse,"bnpDRShiftTo");function xse(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,a=Math.floor(e/this.DB),l=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)t.data[f+a+1]=this.data[f]>>n|l,l=(this.data[f]&s)<<r;for(f=a-1;f>=0;--f)t.data[f]=0;t.data[a]=l,t.t=this.t+a+1,t.s=this.s,t.clamp()}o(xse,"bnpLShiftTo");function _se(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var l=r+1;l<this.t;++l)t.data[l-r-1]|=(this.data[l]&a)<<s,t.data[l-r]=this.data[l]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<s),t.t=this.t-r,t.clamp()}o(_se,"bnpRShiftTo");function bse(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(bse,"bnpSubTo");function Cse(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&j0.ZERO.subTo(t,t)}o(Cse,"bnpMultiplyTo");function Ese(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(Ese,"bnpSquareTo");function Tse(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ls());var a=Ls(),l=this.s,f=e.s,c=this.DB-ub(n.data[n.t-1]);c>0?(n.lShiftTo(c,a),s.lShiftTo(c,r)):(n.copyTo(a),s.copyTo(r));var u=a.t,d=a.data[u-1];if(d!=0){var h=d*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),p=this.FV/h,m=(1<<this.F1)/h,v=1<<this.F2,x=r.t,S=x-u,E=t==null?Ls():t;for(a.dlShiftTo(S,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),j0.ONE.dlShiftTo(u,E),E.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--S>=0;){var R=r.data[--x]==d?this.DM:Math.floor(r.data[x]*p+(r.data[x-1]+v)*m);if((r.data[x]+=a.am(0,R,r,S,0,u))<R)for(a.dlShiftTo(S,E),r.subTo(E,r);r.data[x]<--R;)r.subTo(E,r)}t!=null&&(r.drShiftTo(u,t),l!=f&&j0.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),l<0&&j0.ZERO.subTo(r,r)}}}o(Tse,"bnpDivRemTo");function Sse(e){var t=Ls();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(j0.ZERO)>0&&e.subTo(t,t),t}o(Sse,"bnMod");function k4(e){this.m=e}o(k4,"Classic");function wse(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(wse,"cConvert");function Ise(e){return e}o(Ise,"cRevert");function Ase(e){e.divRemTo(this.m,null,e)}o(Ase,"cReduce");function Pse(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Pse,"cMulTo");function Rse(e,t){e.squareTo(t),this.reduce(t)}o(Rse,"cSqrTo");k4.prototype.convert=wse;k4.prototype.revert=Ise;k4.prototype.reduce=Ase;k4.prototype.mulTo=Pse;k4.prototype.sqrTo=Rse;function Nse(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(Nse,"bnpInvDigit");function D4(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(D4,"Montgomery");function kse(e){var t=Ls();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(j0.ZERO)>0&&this.m.subTo(t,t),t}o(kse,"montConvert");function Dse(e){var t=Ls();return e.copyTo(t),this.reduce(t),t}o(Dse,"montRevert");function Lse(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(Lse,"montReduce");function Bse(e,t){e.squareTo(t),this.reduce(t)}o(Bse,"montSqrTo");function Ose(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Ose,"montMulTo");D4.prototype.convert=kse;D4.prototype.revert=Dse;D4.prototype.reduce=Lse;D4.prototype.mulTo=Ose;D4.prototype.sqrTo=Bse;function Fse(){return(this.t>0?this.data[0]&1:this.s)==0}o(Fse,"bnpIsEven");function Mse(e,t){if(e>4294967295||e<1)return j0.ONE;var r=Ls(),n=Ls(),s=t.convert(this),a=ub(e)-1;for(s.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,s,r);else{var l=r;r=n,n=l}return t.revert(r)}o(Mse,"bnpExp");function Use(e,t){var r;return e<256||t.isEven()?r=new k4(t):r=new D4(t),this.exp(e,r)}o(Use,"bnModPowInt");j0.prototype.copyTo=lse;j0.prototype.fromInt=fse;j0.prototype.fromString=cse;j0.prototype.clamp=use;j0.prototype.dlShiftTo=yse;j0.prototype.drShiftTo=vse;j0.prototype.lShiftTo=xse;j0.prototype.rShiftTo=_se;j0.prototype.subTo=bse;j0.prototype.multiplyTo=Cse;j0.prototype.squareTo=Ese;j0.prototype.divRemTo=Tse;j0.prototype.invDigit=Nse;j0.prototype.isEven=Fse;j0.prototype.exp=Mse;j0.prototype.toString=dse;j0.prototype.negate=hse;j0.prototype.abs=gse;j0.prototype.compareTo=mse;j0.prototype.bitLength=pse;j0.prototype.mod=Sse;j0.prototype.modPowInt=Use;j0.ZERO=v3(0);j0.ONE=v3(1);function qse(){var e=Ls();return this.copyTo(e),e}o(qse,"bnClone");function jse(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(jse,"bnIntValue");function $se(){return this.t==0?this.s:this.data[0]<<24>>24}o($se,"bnByteValue");function Hse(){return this.t==0?this.s:this.data[0]<<16>>16}o(Hse,"bnShortValue");function Vse(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(Vse,"bnpChunkSize");function zse(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(zse,"bnSigNum");function Gse(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=v3(r),s=Ls(),a=Ls(),l="";for(this.divRemTo(n,s,a);s.signum()>0;)l=(r+a.intValue()).toString(e).substr(1)+l,s.divRemTo(n,s,a);return a.intValue().toString(e)+l}o(Gse,"bnpToRadix");function Kse(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,a=0,l=0,f=0;f<e.length;++f){var c=iz(e,f);if(c<0){e.charAt(f)=="-"&&this.signum()==0&&(s=!0);continue}l=t*l+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(l,0),a=0,l=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(l,0)),s&&j0.ZERO.subTo(this,this)}o(Kse,"bnpFromRadix");function Wse(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(j0.ONE.shiftLeft(e-1),SN,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(j0.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}o(Wse,"bnpFromNumber");function Yse(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}o(Yse,"bnToByteArray");function Jse(e){return this.compareTo(e)==0}o(Jse,"bnEquals");function Xse(e){return this.compareTo(e)<0?this:e}o(Xse,"bnMin");function Zse(e){return this.compareTo(e)>0?this:e}o(Zse,"bnMax");function Qse(e,t,r){var n,s,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(Qse,"bnpBitwiseTo");function eoe(e,t){return e&t}o(eoe,"op_and");function toe(e){var t=Ls();return this.bitwiseTo(e,eoe,t),t}o(toe,"bnAnd");function SN(e,t){return e|t}o(SN,"op_or");function roe(e){var t=Ls();return this.bitwiseTo(e,SN,t),t}o(roe,"bnOr");function sz(e,t){return e^t}o(sz,"op_xor");function noe(e){var t=Ls();return this.bitwiseTo(e,sz,t),t}o(noe,"bnXor");function oz(e,t){return e&~t}o(oz,"op_andnot");function ioe(e){var t=Ls();return this.bitwiseTo(e,oz,t),t}o(ioe,"bnAndNot");function soe(){for(var e=Ls(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(soe,"bnNot");function ooe(e){var t=Ls();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(ooe,"bnShiftLeft");function aoe(e){var t=Ls();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(aoe,"bnShiftRight");function loe(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}o(loe,"lbit");function foe(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+loe(this.data[e]);return this.s<0?this.t*this.DB:-1}o(foe,"bnGetLowestSetBit");function coe(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(coe,"cbit");function uoe(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=coe(this.data[r]^t);return e}o(uoe,"bnBitCount");function doe(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(doe,"bnTestBit");function hoe(e,t){var r=j0.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(hoe,"bnpChangeBit");function goe(e){return this.changeBit(e,SN)}o(goe,"bnSetBit");function moe(e){return this.changeBit(e,oz)}o(moe,"bnClearBit");function poe(e){return this.changeBit(e,sz)}o(poe,"bnFlipBit");function yoe(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(yoe,"bnpAddTo");function voe(e){var t=Ls();return this.addTo(e,t),t}o(voe,"bnAdd");function xoe(e){var t=Ls();return this.subTo(e,t),t}o(xoe,"bnSubtract");function _oe(e){var t=Ls();return this.multiplyTo(e,t),t}o(_oe,"bnMultiply");function boe(e){var t=Ls();return this.divRemTo(e,t,null),t}o(boe,"bnDivide");function Coe(e){var t=Ls();return this.divRemTo(e,null,t),t}o(Coe,"bnRemainder");function Eoe(e){var t=Ls(),r=Ls();return this.divRemTo(e,t,r),new Array(t,r)}o(Eoe,"bnDivideAndRemainder");function Toe(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(Toe,"bnpDMultiply");function Soe(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(Soe,"bnpDAddOffset");function r7(){}o(r7,"NullExp");function az(e){return e}o(az,"nNop");function woe(e,t,r){e.multiplyTo(t,r)}o(woe,"nMulTo");function Ioe(e,t){e.squareTo(t)}o(Ioe,"nSqrTo");r7.prototype.convert=az;r7.prototype.revert=az;r7.prototype.mulTo=woe;r7.prototype.sqrTo=Ioe;function Aoe(e){return this.exp(e,new r7)}o(Aoe,"bnPow");function Poe(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Poe,"bnpMultiplyLowerTo");function Roe(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(Roe,"bnpMultiplyUpperTo");function O6(e){this.r2=Ls(),this.q3=Ls(),j0.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(O6,"Barrett");function Noe(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ls();return e.copyTo(t),this.reduce(t),t}o(Noe,"barrettConvert");function koe(e){return e}o(koe,"barrettRevert");function Doe(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(Doe,"barrettReduce");function Loe(e,t){e.squareTo(t),this.reduce(t)}o(Loe,"barrettSqrTo");function Boe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Boe,"barrettMulTo");O6.prototype.convert=Noe;O6.prototype.revert=koe;O6.prototype.reduce=Doe;O6.prototype.mulTo=Boe;O6.prototype.sqrTo=Loe;function Ooe(e,t){var r=e.bitLength(),n,s=v3(1),a;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new k4(t):t.isEven()?a=new O6(t):a=new D4(t);var l=new Array,f=3,c=n-1,u=(1<<n)-1;if(l[1]=a.convert(this),n>1){var d=Ls();for(a.sqrTo(l[1],d);f<=u;)l[f]=Ls(),a.mulTo(d,l[f-2],l[f]),f+=2}var h=e.t-1,p,m=!0,v=Ls(),x;for(r=ub(e.data[h])-1;h>=0;){for(r>=c?p=e.data[h]>>r-c&u:(p=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(p|=e.data[h-1]>>this.DB+r-c)),f=n;!(p&1);)p>>=1,--f;if((r-=f)<0&&(r+=this.DB,--h),m)l[p].copyTo(s),m=!1;else{for(;f>1;)a.sqrTo(s,v),a.sqrTo(v,s),f-=2;f>0?a.sqrTo(s,v):(x=s,s=v,v=x),a.mulTo(v,l[p],s)}for(;h>=0&&!(e.data[h]&1<<r);)a.sqrTo(s,v),x=s,s=v,v=x,--r<0&&(r=this.DB-1,--h)}return a.revert(s)}o(Ooe,"bnModPow");function Foe(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(s<a&&(a=s),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}o(Foe,"bnGCD");function Moe(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(Moe,"bnpModInt");function Uoe(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return j0.ZERO;for(var r=e.clone(),n=this.clone(),s=v3(1),a=v3(0),l=v3(0),f=v3(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!l.isEven()||!f.isEven())&&(l.addTo(this,l),f.subTo(e,f)),l.rShiftTo(1,l)):f.isEven()||f.subTo(e,f),f.rShiftTo(1,f);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(l,s),a.subTo(f,a)):(n.subTo(r,n),t&&l.subTo(s,l),f.subTo(a,f))}if(n.compareTo(j0.ONE)!=0)return j0.ZERO;if(f.compareTo(e)>=0)return f.subtract(e);if(f.signum()<0)f.addTo(e,f);else return f;return f.signum()<0?f.add(e):f}o(Uoe,"bnModInverse");var R1=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],qoe=(1<<26)/R1[R1.length-1];function joe(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=R1[R1.length-1]){for(t=0;t<R1.length;++t)if(r.data[0]==R1[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<R1.length;){for(var n=R1[t],s=t+1;s<R1.length&&n<qoe;)n*=R1[s++];for(n=r.modInt(n);t<s;)if(n%R1[t++]==0)return!1}return r.millerRabin(e)}o(joe,"bnIsProbablePrime");function $oe(e){var t=this.subtract(j0.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=Hoe(),a,l=0;l<e;++l){do a=new j0(this.bitLength(),s);while(a.compareTo(j0.ONE)<=0||a.compareTo(t)>=0);var f=a.modPow(n,this);if(f.compareTo(j0.ONE)!=0&&f.compareTo(t)!=0){for(var c=1;c++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(j0.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0}o($oe,"bnpMillerRabin");function Hoe(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}o(Hoe,"bnGetPrng");j0.prototype.chunkSize=Vse;j0.prototype.toRadix=Gse;j0.prototype.fromRadix=Kse;j0.prototype.fromNumber=Wse;j0.prototype.bitwiseTo=Qse;j0.prototype.changeBit=hoe;j0.prototype.addTo=yoe;j0.prototype.dMultiply=Toe;j0.prototype.dAddOffset=Soe;j0.prototype.multiplyLowerTo=Poe;j0.prototype.multiplyUpperTo=Roe;j0.prototype.modInt=Moe;j0.prototype.millerRabin=$oe;j0.prototype.clone=qse;j0.prototype.intValue=jse;j0.prototype.byteValue=$se;j0.prototype.shortValue=Hse;j0.prototype.signum=zse;j0.prototype.toByteArray=Yse;j0.prototype.equals=Jse;j0.prototype.min=Xse;j0.prototype.max=Zse;j0.prototype.and=toe;j0.prototype.or=roe;j0.prototype.xor=noe;j0.prototype.andNot=ioe;j0.prototype.not=soe;j0.prototype.shiftLeft=ooe;j0.prototype.shiftRight=aoe;j0.prototype.getLowestSetBit=foe;j0.prototype.bitCount=uoe;j0.prototype.testBit=doe;j0.prototype.setBit=goe;j0.prototype.clearBit=moe;j0.prototype.flipBit=poe;j0.prototype.add=voe;j0.prototype.subtract=xoe;j0.prototype.multiply=_oe;j0.prototype.divide=boe;j0.prototype.remainder=Coe;j0.prototype.divideAndRemainder=Eoe;j0.prototype.modPow=Ooe;j0.prototype.modInverse=Uoe;j0.prototype.pow=Aoe;j0.prototype.gcd=Foe;j0.prototype.isProbablePrime=joe});var F6=t0((Ape,dz)=>{var Cu=Ki();yu();Ds();var cz=dz.exports=Cu.sha1=Cu.sha1||{};Cu.md.sha1=Cu.md.algorithms.sha1=cz;cz.create=function(){uz||Voe();var e=null,t=Cu.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,a=0;a<s;++a)n.fullMessageLength.push(0);return t=Cu.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,a){a==="utf8"&&(s=Cu.util.encodeUtf8(s));var l=s.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=l[1],l[1]=l[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),fz(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=Cu.util.createBuffer();s.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=a&n.blockLength-1;s.putBytes(wN.substr(0,n.blockLength-l));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};fz(h,r,s);var p=Cu.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},n};var wN=null,uz=!1;function Voe(){wN="\x80",wN+=Cu.util.fillString("\0",64),uz=!0}o(Voe,"_init");function fz(e,t,r){for(var n,s,a,l,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,a=e.h1,l=e.h2,f=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,u=f^a&(l^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=f^a&(l^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=a^l^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=a^l^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=a&l|f&(a^l),n=(s<<5|s>>>27)+u+c+2400959708+n,c=f,f=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=a^l^f,n=(s<<5|s>>>27)+u+c+3395469782+n,c=f,f=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+a|0,e.h2=e.h2+l|0,e.h3=e.h3+f|0,e.h4=e.h4+c|0,h-=64}}o(fz,"_update")});var IN=t0((Rpe,gz)=>{var Eu=Ki();Ds();Gc();F6();var hz=gz.exports=Eu.pkcs1=Eu.pkcs1||{};hz.encode_rsa_oaep=function(e,t,r){var n,s,a,l;typeof r=="string"?(n=r,s=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md)),a?a.start():a=Eu.md.sha1.create(),l||(l=a);var f=Math.ceil(e.n.bitLength()/8),c=f-2*a.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),a.update(n,"raw");for(var d=a.digest(),h="",p=c-t.length,m=0;m<p;m++)h+="\0";var v=d.getBytes()+h+""+t;if(!s)s=Eu.random.getBytes(a.digestLength);else if(s.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=s.length,u.digestLength=a.digestLength,u}var x=db(s,f-a.digestLength-1,l),S=Eu.util.xorBytes(v,x,v.length),E=db(S,a.digestLength,l),R=Eu.util.xorBytes(s,E,s.length);return"\0"+R+S};hz.decode_rsa_oaep=function(e,t,r){var n,s,a;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=t.length,S.expectedLength=l,S}if(s===void 0?s=Eu.md.sha1.create():s.start(),a||(a=s),l<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var f=s.digest().getBytes(),c=t.charAt(0),u=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),h=db(d,s.digestLength,a),p=Eu.util.xorBytes(u,h,u.length),m=db(p,l-s.digestLength-1,a),v=Eu.util.xorBytes(d,m,d.length),x=v.substring(0,s.digestLength),S=c!=="\0",E=0;E<s.digestLength;++E)S|=f.charAt(E)!==x.charAt(E);for(var R=1,B=s.digestLength,O=s.digestLength;O<v.length;O++){var L=v.charCodeAt(O),F=L&1^1,ve=R?65534:0;S|=L&ve,R=R&F,B+=R}if(S||v.charCodeAt(B)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(B+1)};function db(e,t,r){r||(r=Eu.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),a=0;a<s;++a){var l=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+l),n+=r.digest().getBytes()}return n.substring(0,t)}o(db,"rsa_mgf1")});var PN=t0((kpe,AN)=>{var x3=Ki();Ds();n7();Gc();(function(){if(x3.prime){AN.exports=x3.prime;return}var e=AN.exports=x3.prime=x3.prime||{},t=x3.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=o(function(h,p){return h|p},"op_or");e.generateProbablePrime=function(h,p,m){typeof p=="function"&&(m=p,p={}),p=p||{};var v=p.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var x=p.prng||x3.random,S={nextBytes:function(E){for(var R=x.getBytesSync(E.length),B=0;B<E.length;++B)E[B]=R.charCodeAt(B)}};if(v.name==="PRIMEINC")return a(h,S,v.options,m);throw new Error("Invalid prime generation algorithm: "+v.name)};function a(h,p,m,v){return"workers"in m?c(h,p,m,v):l(h,p,m,v)}o(a,"primeincFindPrime");function l(h,p,m,v){var x=u(h,p),S=0,E=d(x.bitLength());"millerRabinTests"in m&&(E=m.millerRabinTests);var R=10;"maxBlockTime"in m&&(R=m.maxBlockTime),f(x,h,p,S,E,R,v)}o(l,"primeincFindPrimeWithoutWorkers");function f(h,p,m,v,x,S,E){var R=+new Date;do{if(h.bitLength()>p&&(h=u(p,m)),h.isProbablePrime(x))return E(null,h);h.dAddOffset(r[v++%8],0)}while(S<0||+new Date-R<S);x3.util.setImmediate(function(){f(h,p,m,v,x,S,E)})}o(f,"_primeinc");function c(h,p,m,v){if(typeof Worker>"u")return l(h,p,m,v);var x=u(h,p),S=m.workers,E=m.workLoad||100,R=E*30/8,B=m.workerScript||"forge/prime.worker.js";if(S===-1)return x3.util.estimateCores(function(L,F){L&&(F=2),S=F-1,O()});O();function O(){S=Math.max(1,S);for(var L=[],F=0;F<S;++F)L[F]=new Worker(B);for(var ve=S,F=0;F<S;++F)L[F].addEventListener("message",Xt);var we=!1;function Xt(f0){if(!we){--ve;var Jt=f0.data;if(Jt.found){for(var c0=0;c0<L.length;++c0)L[c0].terminate();return we=!0,v(null,new t(Jt.prime,16))}x.bitLength()>h&&(x=u(h,p));var yt=x.toString(16);f0.target.postMessage({hex:yt,workLoad:E}),x.dAddOffset(R,0)}}o(Xt,"workerMessage")}o(O,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(h,p){var m=new t(h,p),v=h-1;return m.testBit(v)||m.bitwiseTo(t.ONE.shiftLeft(v),s,m),m.dAddOffset(31-m.mod(n).byteValue(),0),m}o(u,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var i7=t0((Lpe,bz)=>{var en=Ki();P1();n7();y3();IN();PN();Gc();Ds();typeof Rs>"u"&&(Rs=en.jsbn.BigInteger);var Rs,RN=en.util.isNodejs?require("crypto"):null,m0=en.asn1,Wc=en.util;en.pki=en.pki||{};bz.exports=en.pki.rsa=en.rsa=en.rsa||{};var Oi=en.pki,zoe=[6,4,2,4,2,4,6,2],Goe={name:"PrivateKeyInfo",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m0.Class.UNIVERSAL,type:m0.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m0.Class.UNIVERSAL,type:m0.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Koe={name:"RSAPrivateKey",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Woe={name:"RSAPublicKey",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m0.Class.UNIVERSAL,type:m0.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Yoe=en.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m0.Class.UNIVERSAL,type:m0.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m0.Class.UNIVERSAL,type:m0.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Joe={name:"DigestInfo",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m0.Class.UNIVERSAL,type:m0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m0.Class.UNIVERSAL,type:m0.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m0.Class.UNIVERSAL,type:m0.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m0.Class.UNIVERSAL,type:m0.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Xoe=o(function(e){var t;if(e.algorithm in Oi.oids)t=Oi.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=m0.oidToDer(t).getBytes(),s=m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[]),a=m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[]);a.value.push(m0.create(m0.Class.UNIVERSAL,m0.Type.OID,!1,n)),a.value.push(m0.create(m0.Class.UNIVERSAL,m0.Type.NULL,!1,""));var l=m0.create(m0.Class.UNIVERSAL,m0.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(a),s.value.push(l),m0.toDer(s).getBytes()},"emsaPkcs1v15encode"),xz=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Rs.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Rs.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Rs(en.util.bytesToHex(en.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Rs.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(a)<0;)s=s.add(t.p);var l=s.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return l=l.multiply(n.modInverse(t.n)).mod(t.n),l},"_modPow");Oi.rsa.encrypt=function(e,t,r){var n=r,s,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=_z(e,t,r)):(s=en.util.createBuffer(),s.putBytes(e));for(var l=new Rs(s.toHex(),16),f=xz(l,t,n),c=f.toString(16),u=en.util.createBuffer(),d=a-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(en.util.hexToBytes(c)),u.getBytes()};Oi.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=s,a}var l=new Rs(en.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=xz(l,t,r),c=f.toString(16),u=en.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(en.util.hexToBytes(c)),n!==!1?hb(u.getBytes(),t,r):u.getBytes()};Oi.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||en.random,s={nextBytes:function(f){for(var c=n.getBytesSync(f.length),u=0;u<f.length;++u)f[u]=c.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",l;if(a==="PRIMEINC")l={algorithm:a,state:0,bits:e,rng:s,eInt:t||65537,e:new Rs(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},l.e.fromInt(l.eInt);else throw new Error("Invalid key generation algorithm: "+a);return l};Oi.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Rs(null);r.fromInt(30);for(var n=0,s=o(function(h,p){return h|p},"op_or"),a=+new Date,l,f=0;e.keys===null&&(t<=0||f<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Rs(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Rs.ONE.shiftLeft(u),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(Qoe(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(zoe[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Rs.ONE).gcd(e.e).compareTo(Rs.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Rs.ONE),e.q1=e.q.subtract(Rs.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Rs.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:Oi.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:Oi.rsa.setPublicKey(e.n,e.e)}}l=+new Date,f+=l-a,a=l}return e.keys!==null};Oi.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!en.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(mz("generateKeyPair"))return RN.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,c,u){if(f)return n(f);n(null,{privateKey:Oi.privateKeyFromPem(u),publicKey:Oi.publicKeyFromPem(c)})});if(pz("generateKey")&&pz("exportKey"))return Wc.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:vz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return Wc.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){n(f)}).then(function(f){if(f){var c=Oi.privateKeyFromAsn1(m0.fromDer(en.util.createBuffer(f)));n(null,{privateKey:c,publicKey:Oi.setRsaPublicKey(c.n,c.e)})}});if(yz("generateKey")&&yz("exportKey")){var s=Wc.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:vz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(f){var c=f.target.result,u=Wc.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(d){var h=d.target.result,p=Oi.privateKeyFromAsn1(m0.fromDer(en.util.createBuffer(h)));n(null,{privateKey:p,publicKey:Oi.setRsaPublicKey(p.n,p.e)})},u.onerror=function(d){n(d)}},s.onerror=function(f){n(f)};return}}else if(mz("generateKeyPairSync")){var a=RN.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Oi.privateKeyFromPem(a.privateKey),publicKey:Oi.publicKeyFromPem(a.publicKey)}}}var l=Oi.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Oi.rsa.stepKeyPairGenerationState(l,0),l.keys;Zoe(l,r,n)};Oi.setRsaPublicKey=Oi.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,a){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(f,c,u){return _z(f,c,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(f,c){return en.pkcs1.encode_rsa_oaep(c,f,a)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(f){return f}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var l=s.encode(n,r,!0);return Oi.rsa.encrypt(l,r,!0)},r.verify=function(n,s,a,l){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),l===void 0&&(l={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in l||(l._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(c,u){u=hb(u,r,!0);var d=m0.fromDer(u,{parseAllBytes:l._parseAllDigestBytes}),h={},p=[];if(!m0.validate(d,Joe,h,p)){var m=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw m.errors=p,m}var v=m0.derToOid(h.algorithmIdentifier);if(!(v===en.oids.md2||v===en.oids.md5||v===en.oids.sha1||v===en.oids.sha224||v===en.oids.sha256||v===en.oids.sha384||v===en.oids.sha512||v===en.oids["sha512-224"]||v===en.oids["sha512-256"])){var m=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw m.oid=v,m}if((v===en.oids.md2||v===en.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(c,u){return u=hb(u,r,!0),c===u}});var f=Oi.rsa.decrypt(s,r,!0,!1);return a.verify(n,f,r.n.bitLength())},r};Oi.setRsaPrivateKey=Oi.rsa.setPrivateKey=function(e,t,r,n,s,a,l,f){var c={n:e,e:t,d:r,p:n,q:s,dP:a,dQ:l,qInv:f};return c.decrypt=function(u,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var p=Oi.rsa.decrypt(u,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:hb};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(m,v){return en.pkcs1.decode_rsa_oaep(v,m,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(m){return m}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(p,c,!1)},c.sign=function(u,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:Xoe},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return u}},h=1);var p=d.encode(u,c.n.bitLength());return Oi.rsa.encrypt(p,c,h)},c};Oi.wrapRsaPrivateKey=function(e){return m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,m0.integerToDer(0).getBytes()),m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[m0.create(m0.Class.UNIVERSAL,m0.Type.OID,!1,m0.oidToDer(Oi.oids.rsaEncryption).getBytes()),m0.create(m0.Class.UNIVERSAL,m0.Type.NULL,!1,"")]),m0.create(m0.Class.UNIVERSAL,m0.Type.OCTETSTRING,!1,m0.toDer(e).getBytes())])};Oi.privateKeyFromAsn1=function(e){var t={},r=[];if(m0.validate(e,Goe,t,r)&&(e=m0.fromDer(en.util.createBuffer(t.privateKey))),t={},r=[],!m0.validate(e,Koe,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,a,l,f,c,u,d,h;return s=en.util.createBuffer(t.privateKeyModulus).toHex(),a=en.util.createBuffer(t.privateKeyPublicExponent).toHex(),l=en.util.createBuffer(t.privateKeyPrivateExponent).toHex(),f=en.util.createBuffer(t.privateKeyPrime1).toHex(),c=en.util.createBuffer(t.privateKeyPrime2).toHex(),u=en.util.createBuffer(t.privateKeyExponent1).toHex(),d=en.util.createBuffer(t.privateKeyExponent2).toHex(),h=en.util.createBuffer(t.privateKeyCoefficient).toHex(),Oi.setRsaPrivateKey(new Rs(s,16),new Rs(a,16),new Rs(l,16),new Rs(f,16),new Rs(c,16),new Rs(u,16),new Rs(d,16),new Rs(h,16))};Oi.privateKeyToAsn1=Oi.privateKeyToRSAPrivateKey=function(e){return m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,m0.integerToDer(0).getBytes()),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.n)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.e)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.d)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.p)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.q)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.dP)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.dQ)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.qInv))])};Oi.publicKeyFromAsn1=function(e){var t={},r=[];if(m0.validate(e,Yoe,t,r)){var n=m0.derToOid(t.publicKeyOid);if(n!==Oi.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!m0.validate(e,Woe,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var a=en.util.createBuffer(t.publicKeyModulus).toHex(),l=en.util.createBuffer(t.publicKeyExponent).toHex();return Oi.setRsaPublicKey(new Rs(a,16),new Rs(l,16))};Oi.publicKeyToAsn1=Oi.publicKeyToSubjectPublicKeyInfo=function(e){return m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[m0.create(m0.Class.UNIVERSAL,m0.Type.OID,!1,m0.oidToDer(Oi.oids.rsaEncryption).getBytes()),m0.create(m0.Class.UNIVERSAL,m0.Type.NULL,!1,"")]),m0.create(m0.Class.UNIVERSAL,m0.Type.BITSTRING,!1,[Oi.publicKeyToRSAPublicKey(e)])])};Oi.publicKeyToRSAPublicKey=function(e){return m0.create(m0.Class.UNIVERSAL,m0.Type.SEQUENCE,!0,[m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.n)),m0.create(m0.Class.UNIVERSAL,m0.Type.INTEGER,!1,Tu(e.e))])};function _z(e,t,r){var n=en.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=s-11,a}n.putByte(0),n.putByte(r);var l=s-3-e.length,f;if(r===0||r===1){f=r===0?0:255;for(var c=0;c<l;++c)n.putByte(f)}else for(;l>0;){for(var u=0,d=en.random.getBytes(l),c=0;c<l;++c)f=d.charCodeAt(c),f===0?++u:n.putByte(f);l=u}return n.putByte(0),n.putBytes(e),n}o(_z,"_encodePkcs1_v1_5");function hb(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),a=en.util.createBuffer(e),l=a.getByte(),f=a.getByte();if(l!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(f===0){c=s-3-n;for(var u=0;u<c;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(c=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++c}else if(f===2)for(c=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++c}var d=a.getByte();if(d!==0||c!==s-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}o(hb,"_decodePkcs1_v1_5");function Zoe(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){a(e.pBits,function(f,c){if(f)return r(f);if(e.p=c,e.q!==null)return l(f,e.q);a(e.qBits,l)})}o(s,"generate");function a(f,c){en.prime.generateProbablePrime(f,n,c)}o(a,"getPrime");function l(f,c){if(f)return r(f);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Rs.ONE).gcd(e.e).compareTo(Rs.ONE)!==0){e.p=null,s();return}if(e.q.subtract(Rs.ONE).gcd(e.e).compareTo(Rs.ONE)!==0){e.q=null,a(e.qBits,l);return}if(e.p1=e.p.subtract(Rs.ONE),e.q1=e.q.subtract(Rs.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Rs.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,l);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:Oi.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:Oi.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(l,"finish")}o(Zoe,"_generateKeyPair");function Tu(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=en.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Tu,"_bnToBytes");function Qoe(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(Qoe,"_getMillerRabinTests");function mz(e){return en.util.isNodejs&&typeof RN[e]=="function"}o(mz,"_detectNodeCrypto");function pz(e){return typeof Wc.globalScope<"u"&&typeof Wc.globalScope.crypto=="object"&&typeof Wc.globalScope.crypto.subtle=="object"&&typeof Wc.globalScope.crypto.subtle[e]=="function"}o(pz,"_detectSubtleCrypto");function yz(e){return typeof Wc.globalScope<"u"&&typeof Wc.globalScope.msCrypto=="object"&&typeof Wc.globalScope.msCrypto.subtle=="object"&&typeof Wc.globalScope.msCrypto.subtle[e]=="function"}o(yz,"_detectSubtleMsCrypto");function vz(e){for(var t=en.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(vz,"_intToUint8Array")});var NN=t0((Ope,wz)=>{var Cr=Ki();p3();P1();t7();yu();y3();lb();N4();Gc();CN();i7();Ds();typeof Cz>"u"&&(Cz=Cr.jsbn.BigInteger);var Cz,S0=Cr.asn1,zi=Cr.pki=Cr.pki||{};wz.exports=zi.pbe=Cr.pbe=Cr.pbe||{};var L4=zi.oids,eae={name:"EncryptedPrivateKeyInfo",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},tae={name:"PBES2Algorithms",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:S0.Class.UNIVERSAL,type:S0.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:S0.Class.UNIVERSAL,type:S0.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},rae={name:"pkcs-12PbeParams",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:S0.Class.UNIVERSAL,type:S0.Type.INTEGER,constructed:!1,capture:"iterations"}]};zi.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Cr.random.getBytesSync(r.saltSize),s=r.count,a=S0.integerToDer(s),l,f,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,d,h;switch(r.algorithm){case"aes128":l=16,u=16,d=L4["aes128-CBC"],h=Cr.aes.createEncryptionCipher;break;case"aes192":l=24,u=16,d=L4["aes192-CBC"],h=Cr.aes.createEncryptionCipher;break;case"aes256":l=32,u=16,d=L4["aes256-CBC"],h=Cr.aes.createEncryptionCipher;break;case"des":l=8,u=8,d=L4.desCBC,h=Cr.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),v=Sz(m),x=Cr.pkcs5.pbkdf2(t,n,s,l,v),S=Cr.random.getBytesSync(u),E=h(x);E.start(S),E.update(S0.toDer(e)),E.finish(),c=E.output.getBytes();var R=nae(n,a,l,m);f=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(L4.pkcs5PBES2).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(L4.pkcs5PBKDF2).getBytes()),R]),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(d).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){l=24;var B=new Cr.util.ByteBuffer(n),x=zi.pbe.generatePkcs12Key(t,B,1,s,l),S=zi.pbe.generatePkcs12Key(t,B,2,s,l),E=Cr.des.createEncryptionCipher(x);E.start(S),E.update(S0.toDer(e)),E.finish(),c=E.output.getBytes(),f=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(L4["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,n),S0.create(S0.Class.UNIVERSAL,S0.Type.INTEGER,!1,a.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var O=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[f,S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,c)]);return O};zi.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!S0.validate(e,eae,n,s)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=s,a}var l=S0.derToOid(n.encryptionOid),f=zi.pbe.getCipher(l,n.encryptionParams,t),c=Cr.util.createBuffer(n.encryptedData);return f.update(c),f.finish()&&(r=S0.fromDer(f.output)),r};zi.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:S0.toDer(e).getBytes()};return Cr.pem.encode(r,{maxline:t})};zi.encryptedPrivateKeyFromPem=function(e){var t=Cr.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return S0.fromDer(t.body)};zi.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=zi.wrapRsaPrivateKey(zi.privateKeyToAsn1(e));return n=zi.encryptPrivateKeyInfo(n,t,r),zi.encryptedPrivateKeyToPem(n)}var s,a,l,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",l=16,a=Cr.random.getBytesSync(16),f=Cr.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",l=24,a=Cr.random.getBytesSync(16),f=Cr.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",l=32,a=Cr.random.getBytesSync(16),f=Cr.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",l=24,a=Cr.random.getBytesSync(8),f=Cr.des.createEncryptionCipher;break;case"des":s="DES-CBC",l=8,a=Cr.random.getBytesSync(8),f=Cr.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=Cr.pbe.opensslDeriveBytes(t,a.substr(0,8),l),d=f(u);d.start(a),d.update(S0.toDer(zi.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:Cr.util.bytesToHex(a).toUpperCase()},body:d.output.getBytes()};return Cr.pem.encode(h)};zi.decryptRsaPrivateKey=function(e,t){var r=null,n=Cr.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,l;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,l=Cr.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,l=Cr.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,l=Cr.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,l=Cr.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,l=Cr.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,l=o(function(h){return Cr.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":a=8,l=o(function(h){return Cr.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":a=16,l=o(function(h){return Cr.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var f=Cr.util.hexToBytes(n.dekInfo.parameters),c=Cr.pbe.opensslDeriveBytes(t,f.substr(0,8),a),u=l(c);if(u.start(f),u.update(Cr.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=zi.decryptPrivateKeyInfo(S0.fromDer(r),t):r=S0.fromDer(r),r!==null&&(r=zi.privateKeyFromAsn1(r)),r};zi.pbe.generatePkcs12Key=function(e,t,r,n,s,a){var l,f;if(typeof a>"u"||a===null){if(!("sha1"in Cr.md))throw new Error('"sha1" hash algorithm unavailable.');a=Cr.md.sha1.create()}var c=a.digestLength,u=a.blockLength,d=new Cr.util.ByteBuffer,h=new Cr.util.ByteBuffer;if(e!=null){for(f=0;f<e.length;f++)h.putInt16(e.charCodeAt(f));h.putInt16(0)}var p=h.length(),m=t.length(),v=new Cr.util.ByteBuffer;v.fillWithByte(r,u);var x=u*Math.ceil(m/u),S=new Cr.util.ByteBuffer;for(f=0;f<x;f++)S.putByte(t.at(f%m));var E=u*Math.ceil(p/u),R=new Cr.util.ByteBuffer;for(f=0;f<E;f++)R.putByte(h.at(f%p));var B=S;B.putBuffer(R);for(var O=Math.ceil(s/c),L=1;L<=O;L++){var F=new Cr.util.ByteBuffer;F.putBytes(v.bytes()),F.putBytes(B.bytes());for(var ve=0;ve<n;ve++)a.start(),a.update(F.getBytes()),F=a.digest();var we=new Cr.util.ByteBuffer;for(f=0;f<u;f++)we.putByte(F.at(f%c));var Xt=Math.ceil(m/u)+Math.ceil(p/u),f0=new Cr.util.ByteBuffer;for(l=0;l<Xt;l++){var Jt=new Cr.util.ByteBuffer(B.getBytes(u)),c0=511;for(f=we.length()-1;f>=0;f--)c0=c0>>8,c0+=we.at(f)+Jt.at(f),Jt.setAt(f,c0&255);f0.putBuffer(Jt)}B=f0,d.putBuffer(F)}return d.truncate(d.length()-s),d};zi.pbe.getCipher=function(e,t,r){switch(e){case zi.oids.pkcs5PBES2:return zi.pbe.getCipherForPBES2(e,t,r);case zi.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case zi.oids["pbewithSHAAnd40BitRC2-CBC"]:return zi.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};zi.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!S0.validate(t,tae,n,s)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=s,a}if(e=S0.derToOid(n.kdfOid),e!==zi.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=S0.derToOid(n.encOid),e!==zi.oids["aes128-CBC"]&&e!==zi.oids["aes192-CBC"]&&e!==zi.oids["aes256-CBC"]&&e!==zi.oids["des-EDE3-CBC"]&&e!==zi.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var l=n.kdfSalt,f=Cr.util.createBuffer(n.kdfIterationCount);f=f.getInt(f.length()<<3);var c,u;switch(zi.oids[e]){case"aes128-CBC":c=16,u=Cr.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=Cr.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=Cr.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=Cr.des.createDecryptionCipher;break;case"desCBC":c=8,u=Cr.des.createDecryptionCipher;break}var d=Tz(n.prfOid),h=Cr.pkcs5.pbkdf2(r,l,f,c,d),p=n.encIv,m=u(h);return m.start(p),m};zi.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!S0.validate(t,rae,n,s)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=s,a}var l=Cr.util.createBuffer(n.salt),f=Cr.util.createBuffer(n.iterations);f=f.getInt(f.length()<<3);var c,u,d;switch(e){case zi.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,d=Cr.des.startDecrypting;break;case zi.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,d=o(function(x,S){var E=Cr.rc2.createDecryptionCipher(x,40);return E.start(S,null),E},"cipherFn");break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var h=Tz(n.prfOid),p=zi.pbe.generatePkcs12Key(r,l,1,f,c,h);h.start();var m=zi.pbe.generatePkcs12Key(r,l,2,f,u,h);return d(p,m)};zi.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Cr.md))throw new Error('"md5" hash algorithm unavailable.');n=Cr.md.md5.create()}t===null&&(t="");for(var s=[Ez(n,e+t)],a=16,l=1;a<r;++l,a+=16)s.push(Ez(n,s[l-1]+e+t));return s.join("").substr(0,r)};function Ez(e,t){return e.start().update(t).digest().getBytes()}o(Ez,"hash");function Tz(e){var t;if(!e)t="hmacWithSHA1";else if(t=zi.oids[S0.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Sz(t)}o(Tz,"prfOidToMessageDigest");function Sz(e){var t=Cr.md;switch(e){case"hmacWithSHA224":t=Cr.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(Sz,"prfAlgorithmToMessageDigest");function nae(e,t,r,n){var s=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,e),S0.create(S0.Class.UNIVERSAL,S0.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(S0.create(S0.Class.UNIVERSAL,S0.Type.INTEGER,!1,Cr.util.hexToBytes(r.toString(16))),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(zi.oids[n]).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.NULL,!1,"")])),s}o(nae,"createPbkdf2Params")});var kN=t0((Mpe,Pz)=>{var M6=Ki();P1();Ds();var vr=M6.asn1,U6=Pz.exports=M6.pkcs7asn1=M6.pkcs7asn1||{};M6.pkcs7=M6.pkcs7||{};M6.pkcs7.asn1=U6;var Iz={name:"ContentInfo",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:vr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};U6.contentInfoValidator=Iz;var Az={name:"EncryptedContentInfo",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:vr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:vr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};U6.envelopedDataValidator={name:"EnvelopedData",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(Az)};U6.encryptedDataValidator={name:"EncryptedData",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1,capture:"version"}].concat(Az)};var iae={name:"SignerInfo",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:vr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:vr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:vr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};U6.signedDataValidator={name:"SignedData",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},Iz,{name:"SignedData.Certificates",tagClass:vr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:vr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SET,capture:"signerInfos",optional:!0,value:[iae]}]};U6.recipientInfoValidator={name:"RecipientInfo",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:vr.Class.UNIVERSAL,type:vr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:vr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:vr.Class.UNIVERSAL,type:vr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var DN=t0((Upe,Rz)=>{var B4=Ki();Ds();B4.mgf=B4.mgf||{};var sae=Rz.exports=B4.mgf.mgf1=B4.mgf1=B4.mgf1||{};sae.create=function(e){var t={generate:function(r,n){for(var s=new B4.util.ByteBuffer,a=Math.ceil(n/e.digestLength),l=0;l<a;l++){var f=new B4.util.ByteBuffer;f.putInt32(l),e.start(),e.update(r+f.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var kz=t0((qpe,Nz)=>{var gb=Ki();DN();Nz.exports=gb.mgf=gb.mgf||{};gb.mgf.mgf1=gb.mgf1});var mb=t0((jpe,Dz)=>{var O4=Ki();Gc();Ds();var oae=Dz.exports=O4.pss=O4.pss||{};oae.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=O4.util.createBuffer(s));var a;if("saltLength"in e)a=e.saltLength;else if(s!==null)a=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==a)throw new Error("Given salt length does not match length of given salt.");var l=e.prng||O4.random,f={};return f.encode=function(c,u){var d,h=u-1,p=Math.ceil(h/8),m=c.digest().getBytes();if(p<n+a+2)throw new Error("Message is too long to encrypt.");var v;s===null?v=l.getBytesSync(a):v=s.bytes();var x=new O4.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(m),x.putBytes(v),t.start(),t.update(x.getBytes());var S=t.digest().getBytes(),E=new O4.util.ByteBuffer;E.fillWithByte(0,p-a-n-2),E.putByte(1),E.putBytes(v);var R=E.getBytes(),B=p-n-1,O=r.generate(S,B),L="";for(d=0;d<B;d++)L+=String.fromCharCode(R.charCodeAt(d)^O.charCodeAt(d));var F=65280>>8*p-h&255;return L=String.fromCharCode(L.charCodeAt(0)&~F)+L.substr(1),L+S+"\xBC"},f.verify=function(c,u,d){var h,p=d-1,m=Math.ceil(p/8);if(u=u.substr(-m),m<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var v=m-n-1,x=u.substr(0,v),S=u.substr(v,n),E=65280>>8*m-p&255;if(x.charCodeAt(0)&E)throw new Error("Bits beyond keysize not zero as expected.");var R=r.generate(S,v),B="";for(h=0;h<v;h++)B+=String.fromCharCode(x.charCodeAt(h)^R.charCodeAt(h));B=String.fromCharCode(B.charCodeAt(0)&~E)+B.substr(1);var O=m-n-a-2;for(h=0;h<O;h++)if(B.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(B.charCodeAt(O)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=B.substr(-a),F=new O4.util.ByteBuffer;F.fillWithByte(0,8),F.putBytes(c),F.putBytes(L),t.start(),t.update(F.getBytes());var ve=t.digest().getBytes();return S===ve},f}});var vb=t0(($pe,Mz)=>{var tn=Ki();p3();P1();t7();yu();kz();y3();N4();mb();i7();Ds();var se=tn.asn1,J0=Mz.exports=tn.pki=tn.pki||{},Ns=J0.oids,Aa={};Aa.CN=Ns.commonName;Aa.commonName="CN";Aa.C=Ns.countryName;Aa.countryName="C";Aa.L=Ns.localityName;Aa.localityName="L";Aa.ST=Ns.stateOrProvinceName;Aa.stateOrProvinceName="ST";Aa.O=Ns.organizationName;Aa.organizationName="O";Aa.OU=Ns.organizationalUnitName;Aa.organizationalUnitName="OU";Aa.E=Ns.emailAddress;Aa.emailAddress="E";var Bz=tn.pki.rsa.publicKeyValidator,aae={name:"Certificate",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:se.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:se.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:se.Class.UNIVERSAL,type:se.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:se.Class.UNIVERSAL,type:se.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:se.Class.UNIVERSAL,type:se.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:se.Class.UNIVERSAL,type:se.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},Bz,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:se.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:se.Class.UNIVERSAL,type:se.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:se.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:se.Class.UNIVERSAL,type:se.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:se.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:se.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:se.Class.UNIVERSAL,type:se.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},lae={name:"rsapss",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:se.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:se.Class.UNIVERSAL,type:se.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:se.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:se.Class.UNIVERSAL,type:se.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:se.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:se.Class.UNIVERSAL,type:se.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:se.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:se.Class.UNIVERSAL,type:se.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},fae={name:"CertificationRequestInfo",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:se.Class.UNIVERSAL,type:se.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},Bz,{name:"CertificationRequestInfo.attributes",tagClass:se.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:se.Class.UNIVERSAL,type:se.Type.SET,constructed:!0}]}]}]},cae={name:"CertificationRequest",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[fae,{name:"CertificationRequest.signatureAlgorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:se.Class.UNIVERSAL,type:se.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:se.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:se.Class.UNIVERSAL,type:se.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};J0.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,a,l=0;l<e.value.length;++l){n=e.value[l];for(var f=0;f<n.value.length;++f)a={},s=n.value[f],a.type=se.derToOid(s.value[0].value),a.value=s.value[1].value,a.valueTagClass=s.value[1].type,a.type in Ns&&(a.name=Ns[a.type],a.name in Aa&&(a.shortName=Aa[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};J0.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=se.derToOid(n.value[0].value),a=n.value[1].value,l=0;l<a.length;++l){var f={};if(f.type=s,f.value=a[l].value,f.valueTagClass=a[l].type,f.type in Ns&&(f.name=Ns[f.type],f.name in Aa&&(f.shortName=Aa[f.name])),f.type===Ns.extensionRequest){f.extensions=[];for(var c=0;c<f.value.length;++c)f.extensions.push(J0.certificateExtensionFromAsn1(f.value[c]))}t.push(f)}return t};function _3(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(_3,"_getAttribute");var pb=o(function(e,t,r){var n={};if(e!==Ns["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Ns.sha1},mgf:{algorithmOid:Ns.mgf1,hash:{algorithmOid:Ns.sha1}},saltLength:20});var s={},a=[];if(!se.validate(t,lae,s,a)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=a,l}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=se.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=se.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=se.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),yb=o(function(e){switch(Ns[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return tn.md.sha1.create();case"md5WithRSAEncryption":return tn.md.md5.create();case"sha256WithRSAEncryption":return tn.md.sha256.create();case"sha384WithRSAEncryption":return tn.md.sha384.create();case"sha512WithRSAEncryption":return tn.md.sha512.create();case"RSASSA-PSS":return tn.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),Oz=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Ns.sha1WithRSAEncryption:case Ns.sha1WithRSASignature:break;case Ns["RSASSA-PSS"]:var n,s;if(n=Ns[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||tn.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(s=Ns[t.signatureParameters.mgf.algorithmOid],s===void 0||tn.mgf[s]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=s,a}if(s=tn.mgf[s].create(tn.md[n].create()),n=Ns[t.signatureParameters.hash.algorithmOid],n===void 0||tn.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=tn.pss.create(tn.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");J0.certificateFromPem=function(e,t,r){var n=tn.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=se.fromDer(n.body,r);return J0.certificateFromAsn1(a,t)};J0.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:se.toDer(J0.certificateToAsn1(e)).getBytes()};return tn.pem.encode(r,{maxline:t})};J0.publicKeyFromPem=function(e){var t=tn.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=se.fromDer(t.body);return J0.publicKeyFromAsn1(n)};J0.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:se.toDer(J0.publicKeyToAsn1(e)).getBytes()};return tn.pem.encode(r,{maxline:t})};J0.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:se.toDer(J0.publicKeyToRSAPublicKey(e)).getBytes()};return tn.pem.encode(r,{maxline:t})};J0.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||tn.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=se.toDer(J0.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=se.toDer(J0.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var a=r.digest();if(t.encoding==="hex"){var l=a.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};J0.certificationRequestFromPem=function(e,t,r){var n=tn.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=se.fromDer(n.body,r);return J0.certificationRequestFromAsn1(a,t)};J0.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:se.toDer(J0.certificationRequestToAsn1(e)).getBytes()};return tn.pem.encode(r,{maxline:t})};J0.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return _3(e.issuer,t)},e.issuer.addField=function(t){Yc([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return _3(e.subject,t)},e.subject.addField=function(t){Yc([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Yc(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Yc(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)Fz(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||tn.md.sha1.create();var n=Ns[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=J0.getTBSCertificate(e);var a=se.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=s.attributes,a.actualIssuer=n.attributes,a}var l=t.md;if(l===null){l=yb({signatureOid:t.signatureOid,type:"certificate"});var f=t.tbsCertificate||J0.getTBSCertificate(t),c=se.toDer(f);l.update(c.getBytes())}return l!==null&&(r=Oz({certificate:e,md:l,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var a,l,f=0;r&&f<n.attributes.length;++f)a=n.attributes[f],l=s.attributes[f],(a.type!==l.type||a.value!==l.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return J0.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Ns.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return tn.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};J0.certificateFromAsn1=function(e,t){var r={},n=[];if(!se.validate(e,aae,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var a=se.derToOid(r.publicKeyOid);if(a!==J0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=J0.createCertificate();l.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=tn.util.createBuffer(r.certSerialNumber);l.serialNumber=f.toHex(),l.signatureOid=tn.asn1.derToOid(r.certSignatureOid),l.signatureParameters=pb(l.signatureOid,r.certSignatureParams,!0),l.siginfo.algorithmOid=tn.asn1.derToOid(r.certinfoSignatureOid),l.siginfo.parameters=pb(l.siginfo.algorithmOid,r.certinfoSignatureParams,!1),l.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(se.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(se.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(se.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(se.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=c[0],l.validity.notAfter=c[1],l.tbsCertificate=r.tbsCertificate,t){l.md=yb({signatureOid:l.signatureOid,type:"certificate"});var u=se.toDer(l.tbsCertificate);l.md.update(u.getBytes())}var d=tn.md.sha1.create(),h=se.toDer(r.certIssuer);d.update(h.getBytes()),l.issuer.getField=function(v){return _3(l.issuer,v)},l.issuer.addField=function(v){Yc([v]),l.issuer.attributes.push(v)},l.issuer.attributes=J0.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(l.issuer.uniqueId=r.certIssuerUniqueId),l.issuer.hash=d.digest().toHex();var p=tn.md.sha1.create(),m=se.toDer(r.certSubject);return p.update(m.getBytes()),l.subject.getField=function(v){return _3(l.subject,v)},l.subject.addField=function(v){Yc([v]),l.subject.attributes.push(v)},l.subject.attributes=J0.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(l.subject.uniqueId=r.certSubjectUniqueId),l.subject.hash=p.digest().toHex(),r.certExtensions?l.extensions=J0.certificateExtensionsFromAsn1(r.certExtensions):l.extensions=[],l.publicKey=J0.publicKeyFromAsn1(r.subjectPublicKeyInfo),l};J0.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(J0.certificateExtensionFromAsn1(n.value[s]));return t};J0.certificateExtensionFromAsn1=function(e){var t={};if(t.id=se.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===se.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Ns){if(t.name=Ns[t.id],t.name==="keyUsage"){var r=se.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=se.fromDer(t.value);r.value.length>0&&r.value[0].type===se.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===se.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=se.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=se.fromDer(t.value),l=0;l<r.value.length;++l){var f=se.derToOid(r.value[l].value);f in Ns?t[Ns[f]]=!0:t[f]=!0}else if(t.name==="nsCertType"){var r=se.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=se.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=tn.util.bytesToIP(c.value);break;case 8:d.oid=se.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=se.fromDer(t.value);t.subjectKeyIdentifier=tn.util.bytesToHex(r.value)}}return t};J0.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!se.validate(e,cae,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var a=se.derToOid(r.publicKeyOid);if(a!==J0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=J0.createCertificationRequest();if(l.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,l.signatureOid=tn.asn1.derToOid(r.csrSignatureOid),l.signatureParameters=pb(l.signatureOid,r.csrSignatureParams,!0),l.siginfo.algorithmOid=tn.asn1.derToOid(r.csrSignatureOid),l.siginfo.parameters=pb(l.siginfo.algorithmOid,r.csrSignatureParams,!1),l.signature=r.csrSignature,l.certificationRequestInfo=r.certificationRequestInfo,t){l.md=yb({signatureOid:l.signatureOid,type:"certification request"});var f=se.toDer(l.certificationRequestInfo);l.md.update(f.getBytes())}var c=tn.md.sha1.create();return l.subject.getField=function(u){return _3(l.subject,u)},l.subject.addField=function(u){Yc([u]),l.subject.attributes.push(u)},l.subject.attributes=J0.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),l.subject.hash=c.digest().toHex(),l.publicKey=J0.publicKeyFromAsn1(r.subjectPublicKeyInfo),l.getAttribute=function(u){return _3(l,u)},l.addAttribute=function(u){Yc([u]),l.attributes.push(u)},l.attributes=J0.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),l};J0.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return _3(e.subject,t)},e.subject.addField=function(t){Yc([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return _3(e,t)},e.addAttribute=function(t){Yc([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Yc(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Yc(t),e.attributes=t},e.sign=function(t,r){e.md=r||tn.md.sha1.create();var n=Ns[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=J0.getCertificationRequestInfo(e);var a=se.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=yb({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||J0.getCertificationRequestInfo(e),s=se.toDer(n);r.update(s.getBytes())}return r!==null&&(t=Oz({certificate:e,md:r,signature:e.signature})),t},e};function q6(e){for(var t=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,a=0;a<s.length;++a){r=s[a];var l=r.value,f=se.Type.PRINTABLESTRING;"valueTagClass"in r&&(f=r.valueTagClass,f===se.Type.UTF8&&(l=tn.util.encodeUtf8(l))),n=se.create(se.Class.UNIVERSAL,se.Type.SET,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.type).getBytes()),se.create(se.Class.UNIVERSAL,f,!1,l)])]),t.value.push(n)}return t}o(q6,"_dnToAsn1");function Yc(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in J0.oids?t.name=J0.oids[t.type]:t.shortName&&t.shortName in Aa&&(t.name=J0.oids[Aa[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in J0.oids)t.type=J0.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Aa&&(t.shortName=Aa[t.name]),t.type===Ns.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=se.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(J0.certificateExtensionToAsn1(Fz(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(Yc,"_fillMissingFields");function Fz(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in J0.oids&&(e.name=J0.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in J0.oids)e.id=J0.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,a=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(a|=128,n=7);var l=String.fromCharCode(n);a!==0?l+=String.fromCharCode(s)+String.fromCharCode(a):s!==0&&(l+=String.fromCharCode(s)),e.value=se.create(se.Class.UNIVERSAL,se.Type.BITSTRING,!1,l)}else if(e.name==="basicConstraints")e.value=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(se.create(se.Class.UNIVERSAL,se.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var c in e)e[c]===!0&&(c in Ns?f.push(se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(Ns[c]).getBytes())):c.indexOf(".")!==-1&&f.push(se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var l=String.fromCharCode(n);s!==0&&(l+=String.fromCharCode(s)),e.value=se.create(se.Class.UNIVERSAL,se.Type.BITSTRING,!1,l)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]);for(var u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var l=u.value;if(u.type===7&&u.ip){if(l=tn.util.bytesFromIP(u.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?l=se.oidToDer(se.oidToDer(u.oid)):l=se.oidToDer(l));e.value.value.push(se.create(se.Class.CONTEXT_SPECIFIC,u.type,!1,l))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=se.create(se.Class.UNIVERSAL,se.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,h.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]);var f=e.value.value;if(e.keyIdentifier){var p=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(se.create(se.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var m=[se.create(se.Class.CONTEXT_SPECIFIC,4,!0,[q6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];f.push(se.create(se.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var v=tn.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);f.push(se.create(se.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if(e.name==="cRLDistributionPoints"){e.value=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]);for(var f=e.value.value,x=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]),S=se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[]),u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var l=u.value;if(u.type===7&&u.ip){if(l=tn.util.bytesFromIP(u.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?l=se.oidToDer(se.oidToDer(u.oid)):l=se.oidToDer(l));S.value.push(se.create(se.Class.CONTEXT_SPECIFIC,u.type,!1,l))}x.value.push(se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[S])),f.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(Fz,"_fillMissingExtensionFields");function LN(e,t){switch(e){case Ns["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(t.hash.algorithmOid).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(se.create(se.Class.CONTEXT_SPECIFIC,1,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(t.mgf.algorithmOid).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(t.mgf.hash.algorithmOid).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(se.create(se.Class.CONTEXT_SPECIFIC,2,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(t.saltLength).getBytes())])),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,r);default:return se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")}}o(LN,"_signatureParametersToAsn1");function uae(e){var t=se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],a=s.value,l=se.Type.UTF8;"valueTagClass"in s&&(l=s.valueTagClass),l===se.Type.UTF8&&(a=tn.util.encodeUtf8(a));var f=!1;"valueConstructed"in s&&(f=s.valueConstructed);var c=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(s.type).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SET,!0,[se.create(se.Class.UNIVERSAL,l,f,a)])]);t.value.push(c)}return t}o(uae,"_CRIAttributesToAsn1");var dae=new Date("1950-01-01T00:00:00Z"),hae=new Date("2050-01-01T00:00:00Z");function Lz(e){return e>=dae&&e<hae?se.create(se.Class.UNIVERSAL,se.Type.UTCTIME,!1,se.dateToUtcTime(e)):se.create(se.Class.UNIVERSAL,se.Type.GENERALIZEDTIME,!1,se.dateToGeneralizedTime(e))}o(Lz,"_dateToAsn1");J0.getTBSCertificate=function(e){var t=Lz(e.validity.notBefore),r=Lz(e.validity.notAfter),n=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(e.version).getBytes())]),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,tn.util.hexToBytes(e.serialNumber)),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(e.siginfo.algorithmOid).getBytes()),LN(e.siginfo.algorithmOid,e.siginfo.parameters)]),q6(e.issuer),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[t,r]),q6(e.subject),J0.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(se.create(se.Class.CONTEXT_SPECIFIC,1,!0,[se.create(se.Class.UNIVERSAL,se.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(se.create(se.Class.CONTEXT_SPECIFIC,2,!0,[se.create(se.Class.UNIVERSAL,se.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(J0.certificateExtensionsToAsn1(e.extensions)),n};J0.getCertificationRequestInfo=function(e){var t=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(e.version).getBytes()),q6(e.subject),J0.publicKeyToAsn1(e.publicKey),uae(e)]);return t};J0.distinguishedNameToAsn1=function(e){return q6(e)};J0.certificateToAsn1=function(e){var t=e.tbsCertificate||J0.getTBSCertificate(e);return se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[t,se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(e.signatureOid).getBytes()),LN(e.signatureOid,e.signatureParameters)]),se.create(se.Class.UNIVERSAL,se.Type.BITSTRING,!1,"\0"+e.signature)])};J0.certificateExtensionsToAsn1=function(e){var t=se.create(se.Class.CONTEXT_SPECIFIC,3,!0,[]),r=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(J0.certificateExtensionToAsn1(e[n]));return t};J0.certificateExtensionToAsn1=function(e){var t=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[]);t.value.push(se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(e.id).getBytes())),e.critical&&t.value.push(se.create(se.Class.UNIVERSAL,se.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=se.toDer(r).getBytes()),t.value.push(se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,r)),t};J0.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||J0.getCertificationRequestInfo(e);return se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[t,se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(e.signatureOid).getBytes()),LN(e.signatureOid,e.signatureParameters)]),se.create(se.Class.UNIVERSAL,se.Type.BITSTRING,!1,"\0"+e.signature)])};J0.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(l){var f=r(l.issuer);return f},t.addCertificate=function(l){if(typeof l=="string"&&(l=tn.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))if(l.subject.hash in t.certs){var f=t.certs[l.subject.hash];tn.util.isArray(f)||(f=[f]),f.push(l),t.certs[l.subject.hash]=f}else t.certs[l.subject.hash]=l},t.hasCertificate=function(l){typeof l=="string"&&(l=tn.pki.certificateFromPem(l));var f=r(l.subject);if(!f)return!1;tn.util.isArray(f)||(f=[f]);for(var c=se.toDer(J0.certificateToAsn1(l)).getBytes(),u=0;u<f.length;++u){var d=se.toDer(J0.certificateToAsn1(f[u])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var l=[];for(var f in t.certs)if(t.certs.hasOwnProperty(f)){var c=t.certs[f];if(!tn.util.isArray(c))l.push(c);else for(var u=0;u<c.length;++u)l.push(c[u])}return l},t.removeCertificate=function(l){var f;if(typeof l=="string"&&(l=tn.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))return null;var c=r(l.subject);if(!tn.util.isArray(c))return f=t.certs[l.subject.hash],delete t.certs[l.subject.hash],f;for(var u=se.toDer(J0.certificateToAsn1(l)).getBytes(),d=0;d<c.length;++d){var h=se.toDer(J0.certificateToAsn1(c[d])).getBytes();u===h&&(f=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[l.subject.hash],f};function r(l){return n(l),t.certs[l.hash]||null}o(r,"getBySubject");function n(l){if(!l.hash){var f=tn.md.sha1.create();l.attributes=J0.RDNAttributesAsArray(q6(l),f),l.hash=f.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var s=0;s<e.length;++s){var a=e[s];t.addCertificate(a)}return t};J0.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};J0.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var a=!0,l=null,f=0;do{var c=t.shift(),u=null,d=!1;if(s&&(s<c.validity.notBefore||s>c.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:J0.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:s}),l===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(d=!0,u=c),u){var h=u;tn.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){u=h.shift();try{p=u.verify(c)}catch{}}p||(l={message:"Certificate signature is invalid.",error:J0.certificateError.bad_certificate})}l===null&&(!u||d)&&!e.hasCertificate(c)&&(l={message:"Certificate is not trusted.",error:J0.certificateError.unknown_ca})}if(l===null&&u&&!c.isIssuer(u)&&(l={message:"Certificate issuer is invalid.",error:J0.certificateError.bad_certificate}),l===null)for(var m={keyUsage:!0,basicConstraints:!0},v=0;l===null&&v<c.extensions.length;++v){var x=c.extensions[v];x.critical&&!(x.name in m)&&(l={message:"Certificate has an unsupported critical extension.",error:J0.certificateError.unsupported_certificate})}if(l===null&&(!a||t.length===0&&(!u||d))){var S=c.getExtension("basicConstraints"),E=c.getExtension("keyUsage");if(E!==null&&(!E.keyCertSign||S===null)&&(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:J0.certificateError.bad_certificate}),l===null&&S!==null&&!S.cA&&(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:J0.certificateError.bad_certificate}),l===null&&E!==null&&"pathLenConstraint"in S){var R=f-1;R>S.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:J0.certificateError.bad_certificate})}}var B=l===null?!0:l.error,O=r.verify?r.verify(B,f,n):B;if(O===!0)l=null;else throw B===!0&&(l={message:"The application rejected the certificate.",error:J0.certificateError.bad_certificate}),(O||O===0)&&(typeof O=="object"&&!tn.util.isArray(O)?(O.message&&(l.message=O.message),O.error&&(l.error=O.error)):typeof O=="string"&&(l.error=O)),l;a=!1,++f}while(t.length>0);return!0}});var ON=t0((Vpe,qz)=>{var sa=Ki();P1();D6();y3();kN();NN();Gc();i7();F6();Ds();vb();var Et=sa.asn1,ys=sa.pki,o7=qz.exports=sa.pkcs12=sa.pkcs12||{},Uz={name:"ContentInfo",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Et.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},gae={name:"PFX",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,capture:"version"},Uz,{name:"PFX.macData",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:Et.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:Et.Class.UNIVERSAL,type:Et.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},mae={name:"SafeBag",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:Et.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},pae={name:"Attribute",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SET,constructed:!0,capture:"values"}]},yae={name:"CertBag",tagClass:Et.Class.UNIVERSAL,type:Et.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:Et.Class.UNIVERSAL,type:Et.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:Et.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:Et.Class.UNIVERSAL,type:Et.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function s7(e,t,r,n){for(var s=[],a=0;a<e.length;a++)for(var l=0;l<e[a].safeBags.length;l++){var f=e[a].safeBags[l];if(!(n!==void 0&&f.type!==n)){if(t===null){s.push(f);continue}f.attributes[t]!==void 0&&f.attributes[t].indexOf(r)>=0&&s.push(f)}}return s}o(s7,"_getBagsByAttribute");o7.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!Et.validate(e,gae,n,s)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var l={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var E={},R;return"localKeyId"in S?R=S.localKeyId:"localKeyIdHex"in S&&(R=sa.util.hexToBytes(S.localKeyIdHex)),R===void 0&&!("friendlyName"in S)&&"bagType"in S&&(E[S.bagType]=s7(l.safeContents,null,null,S.bagType)),R!==void 0&&(E.localKeyId=s7(l.safeContents,"localKeyId",R,S.bagType)),"friendlyName"in S&&(E.friendlyName=s7(l.safeContents,"friendlyName",S.friendlyName,S.bagType)),E},getBagsByFriendlyName:function(S,E){return s7(l.safeContents,"friendlyName",S,E)},getBagsByLocalKeyId:function(S,E){return s7(l.safeContents,"localKeyId",S,E)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(Et.derToOid(n.contentType)!==ys.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=Et.derToOid(n.contentType),a}var f=n.content.value[0];if(f.tagClass!==Et.Class.UNIVERSAL||f.type!==Et.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(f=BN(f),n.mac){var c=null,u=0,d=Et.derToOid(n.macAlgorithm);switch(d){case ys.oids.sha1:c=sa.md.sha1.create(),u=20;break;case ys.oids.sha256:c=sa.md.sha256.create(),u=32;break;case ys.oids.sha384:c=sa.md.sha384.create(),u=48;break;case ys.oids.sha512:c=sa.md.sha512.create(),u=64;break;case ys.oids.md5:c=sa.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new sa.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(sa.util.bytesToHex(n.macIterations),16):1,m=o7.generateKey(r,h,3,p,u,c),v=sa.hmac.create();v.start(c,m),v.update(f.value);var x=v.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return vae(l,f.value,t,r),l};function BN(e){if(e.composed||e.constructed){for(var t=sa.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(BN,"_decodePkcs7Data");function vae(e,t,r,n){if(t=Et.fromDer(t,r),t.tagClass!==Et.Class.UNIVERSAL||t.type!==Et.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var a=t.value[s],l={},f=[];if(!Et.validate(a,Uz,l,f)){var c=new Error("Cannot read ContentInfo.");throw c.errors=f,c}var u={encrypted:!1},d=null,h=l.content.value[0];switch(Et.derToOid(l.contentType)){case ys.oids.data:if(h.tagClass!==Et.Class.UNIVERSAL||h.type!==Et.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=BN(h).value;break;case ys.oids.encryptedData:d=xae(h,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=Et.derToOid(l.contentType),c}u.safeBags=_ae(d,r,n),e.safeContents.push(u)}}o(vae,"_decodeAuthenticatedSafe");function xae(e,t){var r={},n=[];if(!Et.validate(e,sa.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var a=Et.derToOid(r.contentType);if(a!==ys.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=a,s}a=Et.derToOid(r.encAlgorithm);var l=ys.pbe.getCipher(a,r.encParameter,t),f=BN(r.encryptedContentAsn1),c=sa.util.createBuffer(f.value);if(l.update(c),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}o(xae,"_decryptSafeContents");function _ae(e,t,r){if(!t&&e.length===0)return[];if(e=Et.fromDer(e,t),e.tagClass!==Et.Class.UNIVERSAL||e.type!==Et.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var a=e.value[s],l={},f=[];if(!Et.validate(a,mae,l,f)){var c=new Error("Cannot read SafeBag.");throw c.errors=f,c}var u={type:Et.derToOid(l.bagId),attributes:bae(l.bagAttributes)};n.push(u);var d,h,p=l.bagValue.value[0];switch(u.type){case ys.oids.pkcs8ShroudedKeyBag:if(p=ys.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case ys.oids.keyBag:try{u.key=ys.privateKeyFromAsn1(p)}catch{u.key=null,u.asn1=p}continue;case ys.oids.certBag:d=yae,h=o(function(){if(Et.derToOid(l.certId)!==ys.oids.x509Certificate){var v=new Error("Unsupported certificate type, only X.509 supported.");throw v.oid=Et.derToOid(l.certId),v}var x=Et.fromDer(l.cert,t);try{u.cert=ys.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(d!==void 0&&!Et.validate(p,d,l,f)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=f,c}h()}return n}o(_ae,"_decodeSafeContents");function bae(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!Et.validate(e[r],pae,n,s)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=s,a}var l=Et.derToOid(n.oid);if(ys.oids[l]!==void 0){t[ys.oids[l]]=[];for(var f=0;f<n.values.length;++f)t[ys.oids[l]].push(n.values[f].value)}}return t}o(bae,"_decodeBagAttributes");o7.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,a;if(s!==null)s=sa.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var l=sa.util.isArray(t)?t[0]:t;typeof l=="string"&&(l=ys.certificateFromPem(l));var f=sa.md.sha1.create();f.update(Et.toDer(ys.certificateToAsn1(l)).getBytes()),s=f.digest().getBytes()}else s=sa.random.getBytes(20);var c=[];s!==null&&c.push(Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.localKeyId).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.friendlyName).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(a=Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,c));var u=[],d=[];t!==null&&(sa.util.isArray(t)?d=t:d=[t]);for(var h=[],p=0;p<d.length;++p){t=d[p],typeof t=="string"&&(t=ys.certificateFromPem(t));var m=p===0?a:void 0,v=ys.certificateToAsn1(t),x=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.certBag).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.x509Certificate).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,Et.toDer(v).getBytes())])])]),m]);h.push(x)}if(h.length>0){var S=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,h),E=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.data).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,Et.toDer(S).getBytes())])]);u.push(E)}var R=null;if(e!==null){var B=ys.wrapRsaPrivateKey(ys.privateKeyToAsn1(e));r===null?R=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.keyBag).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[B]),a]):R=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.pkcs8ShroudedKeyBag).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[ys.encryptPrivateKeyInfo(B,r,n)]),a]);var O=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[R]),L=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.data).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,Et.toDer(O).getBytes())])]);u.push(L)}var F=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,u),ve;if(n.useMac){var f=sa.md.sha1.create(),we=new sa.util.ByteBuffer(sa.random.getBytes(n.saltSize)),Xt=n.count,e=o7.generateKey(r,we,3,Xt,20),f0=sa.hmac.create();f0.start(f,e),f0.update(Et.toDer(F).getBytes());var Jt=f0.getMac();ve=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.sha1).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.NULL,!1,"")]),Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,Jt.getBytes())]),Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,we.getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Et.integerToDer(Xt).getBytes())])}return Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Et.integerToDer(3).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(ys.oids.data).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,Et.toDer(F).getBytes())])]),ve])};o7.generateKey=sa.pbe.generatePkcs12Key});var MN=t0((Gpe,jz)=>{var b3=Ki();P1();y3();NN();N4();lb();ON();mb();i7();Ds();vb();var FN=b3.asn1,j6=jz.exports=b3.pki=b3.pki||{};j6.pemToDer=function(e){var t=b3.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return b3.util.createBuffer(t.body)};j6.privateKeyFromPem=function(e){var t=b3.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=FN.fromDer(t.body);return j6.privateKeyFromAsn1(n)};j6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:FN.toDer(j6.privateKeyToAsn1(e)).getBytes()};return b3.pem.encode(r,{maxline:t})};j6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:FN.toDer(e).getBytes()};return b3.pem.encode(r,{maxline:t})}});var VN=t0((Kpe,Yz)=>{var $0=Ki();P1();D6();ib();N4();MN();Gc();F6();Ds();var Cb=o(function(e,t,r,n){var s=$0.util.createBuffer(),a=e.length>>1,l=a+(e.length&1),f=e.substr(0,l),c=e.substr(a,l),u=$0.util.createBuffer(),d=$0.hmac.create();r=t+r;var h=Math.ceil(n/16),p=Math.ceil(n/20);d.start("MD5",f);var m=$0.util.createBuffer();u.putBytes(r);for(var v=0;v<h;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),m.putBuffer(d.digest());d.start("SHA1",c);var x=$0.util.createBuffer();u.clear(),u.putBytes(r);for(var v=0;v<p;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),x.putBuffer(d.digest());return s.putBytes($0.util.xorBytes(m.getBytes(),x.getBytes(),n)),s},"prf_TLS1"),Cae=o(function(e,t,r){var n=$0.hmac.create();n.start("SHA1",e);var s=$0.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},"hmac_sha1"),Eae=o(function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=$0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"deflate"),Tae=o(function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=$0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"inflate"),gc=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return $0.util.createBuffer(e.getBytes(r))},"readVector"),Jc=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),ae={};ae.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};ae.SupportedVersions=[ae.Versions.TLS_1_1,ae.Versions.TLS_1_0];ae.Version=ae.SupportedVersions[0];ae.MaxFragment=15360;ae.ConnectionEnd={server:0,client:1};ae.PRFAlgorithm={tls_prf_sha256:0};ae.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};ae.CipherType={stream:0,block:1,aead:2};ae.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};ae.CompressionMethod={none:0,deflate:1};ae.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};ae.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};ae.Alert={};ae.Alert.Level={warning:1,fatal:2};ae.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};ae.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};ae.CipherSuites={};ae.getCipherSuite=function(e){var t=null;for(var r in ae.CipherSuites){var n=ae.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};ae.handleUnexpected=function(e,t){var r=!e.open&&e.entity===ae.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.unexpected_message}})};ae.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(ae.queue(e,ae.createAlert(e,{level:ae.Alert.Level.warning,description:ae.Alert.Description.no_renegotiation})),ae.flush(e)),e.process()};ae.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===ae.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.illegal_parameter}});else{var a=t.fragment,l=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:$0.util.createBuffer(a.getBytes(32)),session_id:gc(a,1),extensions:[]},s?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=gc(a,2),n.compression_methods=gc(a,1)),l=r-(l-a.length()),l>0){for(var f=gc(a,2);f.length()>0;)n.extensions.push({type:[f.getByte(),f.getByte()],data:gc(f,2)});if(!s)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var d=gc(u.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;e.session.extensions.server_name.serverNameList.push(gc(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=ae.getCipherSuite(n.cipher_suite);else for(var p=$0.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=ae.getCipherSuite(p.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.handshake_failure},cipherSuite:$0.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=ae.CompressionMethod.none}return n};ae.createSecurityParameters=function(e,t){var r=e.entity===ae.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,a=r?n:ae.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:ae.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:a}};ae.handleServerHello=function(e,t,r){var n=ae.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=Vz,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=wae,e.session.resuming=!1,ae.createSecurityParameters(e,n)),e.session.id=s,e.process()}};ae.handleClientHello=function(e,t,r){var n=ae.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(s),a===null?s="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,s="")),s.length===0&&(s=$0.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var l,f=1;f<ae.SupportedVersions.length&&(l=ae.SupportedVersions[f],!(l.minor<=n.version.minor));++f);e.version={major:l.major,minor:l.minor},e.session.version=e.version}a!==null?(e.expect=$N,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?Dae:jN,e.session.resuming=!1,ae.createSecurityParameters(e,n)),e.open=!0,ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createServerHello(e)})),e.session.resuming?(ae.queue(e,ae.createRecord(e,{type:ae.ContentType.change_cipher_spec,data:ae.createChangeCipherSpec()})),e.state.pending=ae.createConnectionState(e),e.state.current.write=e.state.pending.write,ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createFinished(e)}))):(ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createCertificate(e)})),e.fail||(ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createServerKeyExchange(e)})),e.verifyClient!==!1&&ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createCertificateRequest(e)})),ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createServerHelloDone(e)})))),ae.flush(e),e.process()}};ae.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:gc(n,3)},a,l,f=[];try{for(;s.certificate_list.length()>0;)a=gc(s.certificate_list,3),l=$0.asn1.fromDer(a),a=$0.pki.certificateFromAsn1(l,!0),f.push(a)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.bad_certificate}})}var c=e.entity===ae.ConnectionEnd.client;(c||e.verifyClient===!0)&&f.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.illegal_parameter}}):f.length===0?e.expect=c?$z:jN:(c?e.session.serverCertificate=f[0]:e.session.clientCertificate=f[0],ae.verifyCertificateChain(e,f)&&(e.expect=c?$z:jN)),e.process()};ae.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.unsupported_certificate}});e.expect=Iae,e.process()};ae.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:gc(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=$0.pki.privateKeyFromPem(a)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=a.decrypt(s.enc_pre_master_secret);var f=e.session.clientHelloVersion;if(f.major!==l.pre_master_secret.charCodeAt(0)||f.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{l.pre_master_secret=$0.random.getBytes(48)}e.expect=$N,e.session.clientCertificate!==null&&(e.expect=Lae),e.process()};ae.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:gc(n,1),certificate_authorities:gc(n,2)};e.session.certificateRequest=s,e.expect=Aae,e.process()};ae.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var a={signature:gc(n,2).getBytes()},l=$0.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{var f=e.session.clientCertificate;if(!f.publicKey.verify(l,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.handshake_failure}})}e.expect=$N,e.process()};ae.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.insufficient_security}},s=0,a=e.verify(e,n.alert.description,s,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!$0.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createCertificate(e)}),ae.queue(e,t)),t=ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createClientKeyExchange(e)}),ae.queue(e,t),e.expect=Nae;var l=o(function(f,c){f.session.certificateRequest!==null&&f.session.clientCertificate!==null&&ae.queue(f,ae.createRecord(f,{type:ae.ContentType.handshake,data:ae.createCertificateVerify(f,c)})),ae.queue(f,ae.createRecord(f,{type:ae.ContentType.change_cipher_spec,data:ae.createChangeCipherSpec()})),f.state.pending=ae.createConnectionState(f),f.state.current.write=f.state.pending.write,ae.queue(f,ae.createRecord(f,{type:ae.ContentType.handshake,data:ae.createFinished(f)})),f.expect=Vz,ae.flush(f),f.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return l(e,null);ae.getClientSignature(e,l)};ae.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.illegal_parameter}});var r=e.entity===ae.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=ae.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?Pae:Bae,e.process()};ae.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=$0.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var l=e.entity===ae.ConnectionEnd.client,f=l?"server finished":"client finished",c=e.session.sp,u=12,d=Cb;if(n=d(c.master_secret,f,n.getBytes(),u),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&l||!e.session.resuming&&!l)&&(ae.queue(e,ae.createRecord(e,{type:ae.ContentType.change_cipher_spec,data:ae.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,ae.queue(e,ae.createRecord(e,{type:ae.ContentType.handshake,data:ae.createFinished(e)}))),e.expect=l?Rae:Oae,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,ae.flush(e),e.isConnected=!0,e.connected(e),e.process()};ae.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case ae.Alert.Description.close_notify:s="Connection closed.";break;case ae.Alert.Description.unexpected_message:s="Unexpected message.";break;case ae.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case ae.Alert.Description.decryption_failed:s="Decryption failed.";break;case ae.Alert.Description.record_overflow:s="Record overflow.";break;case ae.Alert.Description.decompression_failure:s="Decompression failed.";break;case ae.Alert.Description.handshake_failure:s="Handshake failure.";break;case ae.Alert.Description.bad_certificate:s="Bad certificate.";break;case ae.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case ae.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case ae.Alert.Description.certificate_expired:s="Certificate expired.";break;case ae.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case ae.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case ae.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case ae.Alert.Description.access_denied:s="Access denied.";break;case ae.Alert.Description.decode_error:s="Decode error.";break;case ae.Alert.Description.decrypt_error:s="Decrypt error.";break;case ae.Alert.Description.export_restriction:s="Export restriction.";break;case ae.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case ae.Alert.Description.insufficient_security:s="Insufficient security.";break;case ae.Alert.Description.internal_error:s="Internal error.";break;case ae.Alert.Description.user_canceled:s="User canceled.";break;case ae.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===ae.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===ae.ConnectionEnd.client?"server":"client",alert:n}),e.process()};ae.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=$0.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(s+4);r.read+=4,n in bb[e.entity][e.expect]?(e.entity===ae.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:$0.md.md5.create(),sha1:$0.md.sha1.create()}),n!==ae.HandshakeType.hello_request&&n!==ae.HandshakeType.certificate_verify&&n!==ae.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),bb[e.entity][e.expect][n](e,t,s)):ae.handleUnexpected(e,t)};ae.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};ae.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),a=r.getBytes(s);if(n===ae.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>a.length)return e.process();ae.queue(e,ae.createRecord(e,{type:ae.ContentType.heartbeat,data:ae.createHeartbeat(ae.HeartbeatMessageType.heartbeat_response,a)})),ae.flush(e)}else if(n===ae.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,$0.util.createBuffer(a))}e.process()};var Sae=0,wae=1,$z=2,Iae=3,Aae=4,Vz=5,Pae=6,Rae=7,Nae=8,kae=0,Dae=1,jN=2,Lae=3,$N=4,Bae=5,Oae=6,oe=ae.handleUnexpected,zz=ae.handleChangeCipherSpec,jl=ae.handleAlert,bf=ae.handleHandshake,Gz=ae.handleApplicationData,$l=ae.handleHeartbeat,HN=[];HN[ae.ConnectionEnd.client]=[[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[zz,jl,oe,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,Gz,$l],[oe,jl,bf,oe,$l]];HN[ae.ConnectionEnd.server]=[[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,oe,$l],[zz,jl,oe,oe,$l],[oe,jl,bf,oe,$l],[oe,jl,bf,Gz,$l],[oe,jl,bf,oe,$l]];var C3=ae.handleHelloRequest,Fae=ae.handleServerHello,Kz=ae.handleCertificate,Hz=ae.handleServerKeyExchange,UN=ae.handleCertificateRequest,xb=ae.handleServerHelloDone,Wz=ae.handleFinished,bb=[];bb[ae.ConnectionEnd.client]=[[oe,oe,Fae,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,Kz,Hz,UN,xb,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,Hz,UN,xb,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,UN,xb,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,xb,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,Wz],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe],[C3,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe]];var Mae=ae.handleClientHello,Uae=ae.handleClientKeyExchange,qae=ae.handleCertificateVerify;bb[ae.ConnectionEnd.server]=[[oe,Mae,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,Kz,oe,oe,oe,oe,oe,oe,oe,oe,oe],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,Uae,oe,oe,oe,oe],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,qae,oe,oe,oe,oe,oe],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,Wz],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe],[oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe,oe]];ae.generateKeys=function(e,t){var r=Cb,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===ae.Versions.TLS_1_0.major&&e.version.minor===ae.Versions.TLS_1_0.minor;a&&(s+=2*t.fixed_iv_length);var l=r(t.master_secret,"key expansion",n,s),f={client_write_MAC_key:l.getBytes(t.mac_key_length),server_write_MAC_key:l.getBytes(t.mac_key_length),client_write_key:l.getBytes(t.enc_key_length),server_write_key:l.getBytes(t.enc_key_length)};return a&&(f.client_write_IV=l.getBytes(t.fixed_iv_length),f.server_write_IV=l.getBytes(t.fixed_iv_length)),f};ae.createConnectionState=function(e){var t=e.entity===ae.ConnectionEnd.client,r=o(function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(l){return!0},compressionState:null,compressFunction:function(l){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},"createMode"),n={read:r(),write:r()};if(n.read.update=function(a,l){return n.read.cipherFunction(l,n.read)?n.read.compressFunction(a,l,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,l){return n.write.compressFunction(a,l,n.write)?n.write.cipherFunction(l,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.internal_error}}),!a.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=ae.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case ae.CompressionMethod.none:break;case ae.CompressionMethod.deflate:n.read.compressFunction=Tae,n.write.compressFunction=Eae;break;default:throw new Error("Unsupported compression algorithm.")}}return n};ae.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=$0.util.createBuffer();return r.putInt32(t),r.putBytes($0.random.getBytes(28)),r};ae.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};ae.createAlert=function(e,t){var r=$0.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),ae.createRecord(e,{type:ae.ContentType.alert,data:r})};ae.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=$0.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),a=$0.util.createBuffer();a.putByte(ae.CompressionMethod.none);var l=a.length(),f=$0.util.createBuffer();if(e.virtualHost){var c=$0.util.createBuffer();c.putByte(0),c.putByte(0);var u=$0.util.createBuffer();u.putByte(0),Jc(u,2,$0.util.createBuffer(e.virtualHost));var d=$0.util.createBuffer();Jc(d,2,u),Jc(c,2,d),f.putBuffer(c)}var h=f.length();h>0&&(h+=2);var p=e.session.id,m=p.length+1+2+4+28+2+s+1+l+h,v=$0.util.createBuffer();return v.putByte(ae.HandshakeType.client_hello),v.putInt24(m),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),Jc(v,1,$0.util.createBuffer(p)),Jc(v,2,t),Jc(v,1,a),h>0&&Jc(v,2,f),v};ae.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=$0.util.createBuffer();return n.putByte(ae.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Jc(n,1,$0.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};ae.createCertificate=function(e){var t=e.entity===ae.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=$0.util.createBuffer();if(r!==null)try{$0.util.isArray(r)||(r=[r]);for(var a=null,l=0;l<r.length;++l){var f=$0.pem.decode(r[l])[0];if(f.type!=="CERTIFICATE"&&f.type!=="X509 CERTIFICATE"&&f.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=f.type,c}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=$0.util.createBuffer(f.body);a===null&&(a=$0.asn1.fromDer(u.bytes(),!1));var d=$0.util.createBuffer();Jc(d,3,u),s.putBuffer(d)}r=$0.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(m){return e.error(e,{message:"Could not send certificate list.",cause:m,send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.bad_certificate}})}var h=3+s.length(),p=$0.util.createBuffer();return p.putByte(ae.HandshakeType.certificate),p.putInt24(h),Jc(p,3,s),p};ae.createClientKeyExchange=function(e){var t=$0.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes($0.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,a=$0.util.createBuffer();return a.putByte(ae.HandshakeType.client_key_exchange),a.putInt24(s),a.putInt16(t.length),a.putBytes(t),a};ae.createServerKeyExchange=function(e){var t=0,r=$0.util.createBuffer();return t>0&&(r.putByte(ae.HandshakeType.server_key_exchange),r.putInt24(t)),r};ae.getClientSignature=function(e,t){var r=$0.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,a){var l=null;if(n.getPrivateKey)try{l=n.getPrivateKey(n,n.session.clientCertificate),l=$0.pki.privateKeyFromPem(l)}catch(f){n.error(n,{message:"Could not get private key.",cause:f,send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.internal_error}})}l===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.internal_error}}):s=l.sign(s,null),a(n,s)},e.getSignature(e,r,t)};ae.createCertificateVerify=function(e,t){var r=t.length+2,n=$0.util.createBuffer();return n.putByte(ae.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};ae.createCertificateRequest=function(e){var t=$0.util.createBuffer();t.putByte(1);var r=$0.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],a=$0.pki.distinguishedNameToAsn1(s.subject),l=$0.asn1.toDer(a);r.putInt16(l.length()),r.putBuffer(l)}var f=1+t.length()+2+r.length(),c=$0.util.createBuffer();return c.putByte(ae.HandshakeType.certificate_request),c.putInt24(f),Jc(c,1,t),Jc(c,2,r),c};ae.createServerHelloDone=function(e){var t=$0.util.createBuffer();return t.putByte(ae.HandshakeType.server_hello_done),t.putInt24(0),t};ae.createChangeCipherSpec=function(){var e=$0.util.createBuffer();return e.putByte(1),e};ae.createFinished=function(e){var t=$0.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===ae.ConnectionEnd.client,n=e.session.sp,s=12,a=Cb,l=r?"client finished":"server finished";t=a(n.master_secret,l,t.getBytes(),s);var f=$0.util.createBuffer();return f.putByte(ae.HandshakeType.finished),f.putInt24(t.length()),f.putBuffer(t),f};ae.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=$0.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),a=Math.max(16,s-r-3);return n.putBytes($0.random.getBytes(a)),n};ae.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===ae.ContentType.handshake||t.type===ae.ContentType.alert||t.type===ae.ContentType.change_cipher_spec))){if(t.type===ae.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=ae.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>ae.MaxFragment;)n.push(ae.createRecord(e,{type:t.type,data:$0.util.createBuffer(s.slice(0,ae.MaxFragment))})),s=s.slice(ae.MaxFragment);s.length>0&&n.push(ae.createRecord(e,{type:t.type,data:$0.util.createBuffer(s)}))}for(var a=0;a<n.length&&!e.fail;++a){var l=n[a],f=e.state.current.write;f.update(e,l)&&e.records.push(l)}}};ae.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var qN=o(function(e){switch(e){case!0:return!0;case $0.pki.certificateError.bad_certificate:return ae.Alert.Description.bad_certificate;case $0.pki.certificateError.unsupported_certificate:return ae.Alert.Description.unsupported_certificate;case $0.pki.certificateError.certificate_revoked:return ae.Alert.Description.certificate_revoked;case $0.pki.certificateError.certificate_expired:return ae.Alert.Description.certificate_expired;case $0.pki.certificateError.certificate_unknown:return ae.Alert.Description.certificate_unknown;case $0.pki.certificateError.unknown_ca:return ae.Alert.Description.unknown_ca;default:return ae.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),jae=o(function(e){switch(e){case!0:return!0;case ae.Alert.Description.bad_certificate:return $0.pki.certificateError.bad_certificate;case ae.Alert.Description.unsupported_certificate:return $0.pki.certificateError.unsupported_certificate;case ae.Alert.Description.certificate_revoked:return $0.pki.certificateError.certificate_revoked;case ae.Alert.Description.certificate_expired:return $0.pki.certificateError.certificate_expired;case ae.Alert.Description.certificate_unknown:return $0.pki.certificateError.certificate_unknown;case ae.Alert.Description.unknown_ca:return $0.pki.certificateError.unknown_ca;default:return $0.pki.certificateError.bad_certificate}},"_alertDescToCertError");ae.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,l,f){var c=qN(a),u=e.verify(e,a,l,f);if(u!==!0){if(typeof u=="object"&&!$0.util.isArray(u)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:ae.Alert.Level.fatal,description:ae.Alert.Description.bad_certificate},u.message&&(d.message=u.message),u.alert&&(d.alert.description=u.alert),d}u!==a&&(u=jae(u))}return u},$0.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var s=a;(typeof s!="object"||$0.util.isArray(s))&&(s={send:!0,alert:{level:ae.Alert.Level.fatal,description:qN(a)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:ae.Alert.Level.fatal,description:qN(s.error)}),e.error(e,s)}return!e.fail};ae.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var a=null,l=null;if(s?l=$0.util.bytesToHex(s):r.order.length>0&&(l=r.order[0]),l!==null&&l in r.cache){a=r.cache[l],delete r.cache[l];for(var f in r.order)if(r.order[f]===l){r.order.splice(f,1);break}}return a},r.setSession=function(s,a){if(r.order.length===r.capacity){var l=r.order.shift();delete r.cache[l]}var l=$0.util.bytesToHex(s);r.order.push(l),r.cache[l]=a}}return r};ae.createConnection=function(e){var t=null;e.caStore?$0.util.isArray(e.caStore)?t=$0.pki.createCaStore(e.caStore):t=e.caStore:t=$0.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in ae.CipherSuites)r.push(ae.CipherSuites[n])}var s=e.server?ae.ConnectionEnd.server:ae.ConnectionEnd.client,a=e.sessionCache?ae.createSessionCache(e.sessionCache):null,l={version:{major:ae.Version.major,minor:ae.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,h,p,m){return h},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:$0.util.createBuffer(),tlsData:$0.util.createBuffer(),data:$0.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,h){h.origin=h.origin||(d.entity===ae.ConnectionEnd.client?"client":"server"),h.send&&(ae.queue(d,ae.createAlert(d,h.alert)),ae.flush(d));var p=h.fatal!==!1;p&&(d.fail=!0),e.error(d,h),p&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};l.reset=function(d){l.version={major:ae.Version.major,minor:ae.Version.minor},l.record=null,l.session=null,l.peerCertificate=null,l.state={pending:null,current:null},l.expect=l.entity===ae.ConnectionEnd.client?Sae:kae,l.fragmented=null,l.records=[],l.open=!1,l.handshakes=0,l.handshaking=!1,l.isConnected=!1,l.fail=!(d||typeof d>"u"),l.input.clear(),l.tlsData.clear(),l.data.clear(),l.state.current=ae.createConnectionState(l)},l.reset();var f=o(function(d,h){var p=h.type-ae.ContentType.change_cipher_spec,m=HN[d.entity][d.expect];p in m?m[p](d,h):ae.handleUnexpected(d,h)},"_update"),c=o(function(d){var h=0,p=d.input,m=p.length();if(m<5)h=5-m;else{d.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:$0.util.createBuffer(),ready:!1};var v=d.record.version.major===d.version.major;v&&d.session&&d.session.version&&(v=d.record.version.minor===d.version.minor),v||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),u=o(function(d){var h=0,p=d.input,m=p.length();if(m<d.record.length)h=d.record.length-m;else{d.record.fragment.putBytes(p.getBytes(d.record.length)),p.compact();var v=d.state.current.read;v.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:ae.Alert.Level.fatal,description:ae.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return l.handshake=function(d){if(l.entity!==ae.ConnectionEnd.client)l.error(l,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(l.handshaking)l.error(l,{message:"Handshake already in progress.",fatal:!1});else{l.fail&&!l.open&&l.handshakes===0&&(l.fail=!1),l.handshaking=!0,d=d||"";var h=null;d.length>0&&(l.sessionCache&&(h=l.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&l.sessionCache&&(h=l.sessionCache.getSession(),h!==null&&(d=h.id)),l.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:$0.md.md5.create(),sha1:$0.md.sha1.create()},h&&(l.version=h.version,l.session.sp=h.sp),l.session.sp.client_random=ae.createRandom().getBytes(),l.open=!0,ae.queue(l,ae.createRecord(l,{type:ae.ContentType.handshake,data:ae.createClientHello(l)})),ae.flush(l)}},l.process=function(d){var h=0;return d&&l.input.putBytes(d),l.fail||(l.record!==null&&l.record.ready&&l.record.fragment.isEmpty()&&(l.record=null),l.record===null&&(h=c(l)),!l.fail&&l.record!==null&&!l.record.ready&&(h=u(l)),!l.fail&&l.record!==null&&l.record.ready&&f(l,l.record)),h},l.prepare=function(d){return ae.queue(l,ae.createRecord(l,{type:ae.ContentType.application_data,data:$0.util.createBuffer(d)})),ae.flush(l)},l.prepareHeartbeatRequest=function(d,h){return d instanceof $0.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),l.expectedHeartbeatPayload=d,ae.queue(l,ae.createRecord(l,{type:ae.ContentType.heartbeat,data:ae.createHeartbeat(ae.HeartbeatMessageType.heartbeat_request,d,h)})),ae.flush(l)},l.close=function(d){if(!l.fail&&l.sessionCache&&l.session){var h={id:l.session.id,version:l.session.version,sp:l.session.sp};h.sp.keys=null,l.sessionCache.setSession(h.id,h)}l.open&&(l.open=!1,l.input.clear(),(l.isConnected||l.handshaking)&&(l.isConnected=l.handshaking=!1,ae.queue(l,ae.createAlert(l,{level:ae.Alert.Level.warning,description:ae.Alert.Description.close_notify})),ae.flush(l)),l.closed(l)),l.reset(d)},l};Yz.exports=$0.tls=$0.tls||{};for(_b in ae)typeof ae[_b]!="function"&&($0.tls[_b]=ae[_b]);var _b;$0.tls.prf_tls1=Cb;$0.tls.hmac_sha1=Cae;$0.tls.createSessionCache=ae.createSessionCache;$0.tls.createConnection=ae.createConnection});var Zz=t0((Ype,Xz)=>{var E3=Ki();p3();VN();var Xc=Xz.exports=E3.tls;Xc.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Xc.BulkCipherAlgorithm.aes,e.cipher_type=Xc.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Xc.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Jz};Xc.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Xc.BulkCipherAlgorithm.aes,e.cipher_type=Xc.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Xc.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Jz};function Jz(e,t,r){var n=t.entity===E3.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:E3.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:E3.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=zae,e.write.cipherFunction=$ae,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Xc.hmac_sha1}o(Jz,"initConnectionState");function $ae(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===Xc.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=E3.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:s}),e.version.minor>=Xc.Versions.TLS_1_1.minor&&a.output.putBytes(s),a.update(e.fragment),a.finish(Hae)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}o($ae,"encrypt_aes_cbc_sha1");function Hae(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(Hae,"encrypt_aes_cbc_sha1_padding");function Vae(e,t,r){var n=!0;if(r){for(var s=t.length(),a=t.last(),l=s-1-a;l<s-1;++l)n=n&&t.at(l)==a;n&&t.truncate(a+1)}return n}o(Vae,"decrypt_aes_cbc_sha1_padding");function zae(e,t){var r=!1,n;e.version.minor===Xc.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(Vae);var a=t.macLength,l=E3.random.getBytesSync(a),f=s.output.length();f>=a?(e.fragment=s.output.getBytes(f-a),l=s.output.getBytes(a)):e.fragment=s.output.getBytes(),e.fragment=E3.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=Gae(t.macKey,l,c)&&r,r}o(zae,"decrypt_aes_cbc_sha1");function Gae(e,t,r){var n=E3.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(Gae,"compareMacs")});var KN=t0((Xpe,rG)=>{var fa=Ki();yu();Ds();var a7=rG.exports=fa.sha512=fa.sha512||{};fa.md.sha512=fa.md.algorithms.sha512=a7;var eG=fa.sha384=fa.sha512.sha384=fa.sha512.sha384||{};eG.create=function(){return a7.create("SHA-384")};fa.md.sha384=fa.md.algorithms.sha384=eG;fa.sha512.sha256=fa.sha512.sha256||{create:function(){return a7.create("SHA-512/256")}};fa.md["sha512/256"]=fa.md.algorithms["sha512/256"]=fa.sha512.sha256;fa.sha512.sha224=fa.sha512.sha224||{create:function(){return a7.create("SHA-512/224")}};fa.md["sha512/224"]=fa.md.algorithms["sha512/224"]=fa.sha512.sha224;a7.create=function(e){if(tG||Kae(),typeof e>"u"&&(e="SHA-512"),!(e in F4))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=F4[e],r=null,n=fa.util.createBuffer(),s=new Array(80),a=0;a<80;++a)s[a]=new Array(2);var l=64;switch(e){case"SHA-384":l=48;break;case"SHA-512/256":l=32;break;case"SHA-512/224":l=28;break}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:l,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var c=f.messageLengthSize/4,u=0;u<c;++u)f.fullMessageLength.push(0);n=fa.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return f},f.start(),f.update=function(c,u){u==="utf8"&&(c=fa.util.encodeUtf8(c));var d=c.length;f.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=f.fullMessageLength.length-1;h>=0;--h)f.fullMessageLength[h]+=d[1],d[1]=d[0]+(f.fullMessageLength[h]/4294967296>>>0),f.fullMessageLength[h]=f.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),Qz(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),f},f.digest=function(){var c=fa.util.createBuffer();c.putBytes(n.bytes());var u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,d=u&f.blockLength-1;c.putBytes(zN.substr(0,f.blockLength-d));for(var h,p,m=f.fullMessageLength[0]*8,v=0;v<f.fullMessageLength.length-1;++v)h=f.fullMessageLength[v+1]*8,p=h/4294967296>>>0,m+=p,c.putInt32(m>>>0),m=h>>>0;c.putInt32(m);for(var x=new Array(r.length),v=0;v<r.length;++v)x[v]=r[v].slice(0);Qz(x,s,c);var S=fa.util.createBuffer(),E;e==="SHA-512"?E=x.length:e==="SHA-384"?E=x.length-2:E=x.length-4;for(var v=0;v<E;++v)S.putInt32(x[v][0]),(v!==E-1||e!=="SHA-512/224")&&S.putInt32(x[v][1]);return S},f};var zN=null,tG=!1,GN=null,F4=null;function Kae(){zN="\x80",zN+=fa.util.fillString("\0",128),GN=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],F4={},F4["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],F4["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],F4["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],F4["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],tG=!0}o(Kae,"_init");function Qz(e,t,r){for(var n,s,a,l,f,c,u,d,h,p,m,v,x,S,E,R,B,O,L,F,ve,we,Xt,f0,Jt,c0,yt,je,i0,u0,l0,N0,kt,o0,de,Me=r.length();Me>=128;){for(i0=0;i0<16;++i0)t[i0][0]=r.getInt32()>>>0,t[i0][1]=r.getInt32()>>>0;for(;i0<80;++i0)N0=t[i0-2],u0=N0[0],l0=N0[1],n=((u0>>>19|l0<<13)^(l0>>>29|u0<<3)^u0>>>6)>>>0,s=((u0<<13|l0>>>19)^(l0<<3|u0>>>29)^(u0<<26|l0>>>6))>>>0,o0=t[i0-15],u0=o0[0],l0=o0[1],a=((u0>>>1|l0<<31)^(u0>>>8|l0<<24)^u0>>>7)>>>0,l=((u0<<31|l0>>>1)^(u0<<24|l0>>>8)^(u0<<25|l0>>>7))>>>0,kt=t[i0-7],de=t[i0-16],l0=s+kt[1]+l+de[1],t[i0][0]=n+kt[0]+a+de[0]+(l0/4294967296>>>0)>>>0,t[i0][1]=l0>>>0;for(x=e[0][0],S=e[0][1],E=e[1][0],R=e[1][1],B=e[2][0],O=e[2][1],L=e[3][0],F=e[3][1],ve=e[4][0],we=e[4][1],Xt=e[5][0],f0=e[5][1],Jt=e[6][0],c0=e[6][1],yt=e[7][0],je=e[7][1],i0=0;i0<80;++i0)u=((ve>>>14|we<<18)^(ve>>>18|we<<14)^(we>>>9|ve<<23))>>>0,d=((ve<<18|we>>>14)^(ve<<14|we>>>18)^(we<<23|ve>>>9))>>>0,h=(Jt^ve&(Xt^Jt))>>>0,p=(c0^we&(f0^c0))>>>0,f=((x>>>28|S<<4)^(S>>>2|x<<30)^(S>>>7|x<<25))>>>0,c=((x<<4|S>>>28)^(S<<30|x>>>2)^(S<<25|x>>>7))>>>0,m=(x&E|B&(x^E))>>>0,v=(S&R|O&(S^R))>>>0,l0=je+d+p+GN[i0][1]+t[i0][1],n=yt+u+h+GN[i0][0]+t[i0][0]+(l0/4294967296>>>0)>>>0,s=l0>>>0,l0=c+v,a=f+m+(l0/4294967296>>>0)>>>0,l=l0>>>0,yt=Jt,je=c0,Jt=Xt,c0=f0,Xt=ve,f0=we,l0=F+s,ve=L+n+(l0/4294967296>>>0)>>>0,we=l0>>>0,L=B,F=O,B=E,O=R,E=x,R=S,l0=s+l,x=n+a+(l0/4294967296>>>0)>>>0,S=l0>>>0;l0=e[0][1]+S,e[0][0]=e[0][0]+x+(l0/4294967296>>>0)>>>0,e[0][1]=l0>>>0,l0=e[1][1]+R,e[1][0]=e[1][0]+E+(l0/4294967296>>>0)>>>0,e[1][1]=l0>>>0,l0=e[2][1]+O,e[2][0]=e[2][0]+B+(l0/4294967296>>>0)>>>0,e[2][1]=l0>>>0,l0=e[3][1]+F,e[3][0]=e[3][0]+L+(l0/4294967296>>>0)>>>0,e[3][1]=l0>>>0,l0=e[4][1]+we,e[4][0]=e[4][0]+ve+(l0/4294967296>>>0)>>>0,e[4][1]=l0>>>0,l0=e[5][1]+f0,e[5][0]=e[5][0]+Xt+(l0/4294967296>>>0)>>>0,e[5][1]=l0>>>0,l0=e[6][1]+c0,e[6][0]=e[6][0]+Jt+(l0/4294967296>>>0)>>>0,e[6][1]=l0>>>0,l0=e[7][1]+je,e[7][0]=e[7][0]+yt+(l0/4294967296>>>0)>>>0,e[7][1]=l0>>>0,Me-=128}}o(Qz,"_update")});var nG=t0(WN=>{var Wae=Ki();P1();var bl=Wae.asn1;WN.privateKeyValidator={name:"PrivateKeyInfo",tagClass:bl.Class.UNIVERSAL,type:bl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:bl.Class.UNIVERSAL,type:bl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:bl.Class.UNIVERSAL,type:bl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:bl.Class.UNIVERSAL,type:bl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:bl.Class.UNIVERSAL,type:bl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};WN.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:bl.Class.UNIVERSAL,type:bl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:bl.Class.UNIVERSAL,type:bl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:bl.Class.UNIVERSAL,type:bl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:bl.Class.UNIVERSAL,type:bl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var pG=t0((eye,mG)=>{var Hl=Ki();n7();Gc();KN();Ds();var fG=nG(),Yae=fG.publicKeyValidator,Jae=fG.privateKeyValidator;typeof iG>"u"&&(iG=Hl.jsbn.BigInteger);var iG,XN=Hl.util.ByteBuffer,Hf=typeof Buffer>"u"?Uint8Array:Buffer;Hl.pki=Hl.pki||{};mG.exports=Hl.pki.ed25519=Hl.ed25519=Hl.ed25519||{};var vs=Hl.ed25519;vs.constants={};vs.constants.PUBLIC_KEY_BYTE_LENGTH=32;vs.constants.PRIVATE_KEY_BYTE_LENGTH=64;vs.constants.SEED_BYTE_LENGTH=32;vs.constants.SIGN_BYTE_LENGTH=64;vs.constants.HASH_BYTE_LENGTH=64;vs.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Hl.random.getBytesSync(vs.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==vs.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+vs.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Ud({message:t,encoding:"binary"});for(var r=new Hf(vs.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Hf(vs.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return ele(r,n),{publicKey:r,privateKey:n}};vs.privateKeyFromAsn1=function(e){var t={},r=[],n=Hl.asn1.validate(e,Jae,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var a=Hl.asn1.derToOid(t.privateKeyOid),l=Hl.oids.EdDSA25519;if(a!==l)throw new Error('Invalid OID "'+a+'"; OID must be "'+l+'".');var f=t.privateKey,c=Ud({message:Hl.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:c}};vs.publicKeyFromAsn1=function(e){var t={},r=[],n=Hl.asn1.validate(e,Yae,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var a=Hl.asn1.derToOid(t.publicKeyOid),l=Hl.oids.EdDSA25519;if(a!==l)throw new Error('Invalid OID "'+a+'"; OID must be "'+l+'".');var f=t.ed25519PublicKey;if(f.length!==vs.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Ud({message:f,encoding:"binary"})};vs.publicKeyFromPrivateKey=function(e){e=e||{};var t=Ud({message:e.privateKey,encoding:"binary"});if(t.length!==vs.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vs.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Hf(vs.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};vs.sign=function(e){e=e||{};var t=Ud(e),r=Ud({message:e.privateKey,encoding:"binary"});if(r.length===vs.constants.SEED_BYTE_LENGTH){var n=vs.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==vs.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vs.constants.SEED_BYTE_LENGTH+" or "+vs.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new Hf(vs.constants.SIGN_BYTE_LENGTH+t.length);tle(s,t,t.length,r);for(var a=new Hf(vs.constants.SIGN_BYTE_LENGTH),l=0;l<a.length;++l)a[l]=s[l];return a};vs.verify=function(e){e=e||{};var t=Ud(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Ud({message:e.signature,encoding:"binary"});if(r.length!==vs.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+vs.constants.SIGN_BYTE_LENGTH);var n=Ud({message:e.publicKey,encoding:"binary"});if(n.length!==vs.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+vs.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new Hf(vs.constants.SIGN_BYTE_LENGTH+t.length),a=new Hf(vs.constants.SIGN_BYTE_LENGTH+t.length),l;for(l=0;l<vs.constants.SIGN_BYTE_LENGTH;++l)s[l]=r[l];for(l=0;l<t.length;++l)s[l+vs.constants.SIGN_BYTE_LENGTH]=t[l];return rle(a,s,s.length,n)>=0};function Ud(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Hf)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new XN(t,r)}else if(!(t instanceof XN))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Hf(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}o(Ud,"messageToNativeBuffer");var ZN=dn(),Eb=dn([1]),Xae=dn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Zae=dn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),sG=dn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),oG=dn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),YN=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Qae=dn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l7(e,t){var r=Hl.md.sha512.create(),n=new XN(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var a=new Hf(vs.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)a[l]=s.charCodeAt(l);return a}o(l7,"sha512");function ele(e,t){var r=[dn(),dn(),dn(),dn()],n,s=l7(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,rk(r,s),tk(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(ele,"crypto_sign_keypair");function tle(e,t,r,n){var s,a,l=new Float64Array(64),f=[dn(),dn(),dn(),dn()],c=l7(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=c[32+s];var d=l7(e.subarray(32),r+32);for(QN(d),rk(f,d),tk(e,f),s=32;s<64;++s)e[s]=n[s];var h=l7(e,r+64);for(QN(h),s=32;s<64;++s)l[s]=0;for(s=0;s<32;++s)l[s]=d[s];for(s=0;s<32;++s)for(a=0;a<32;a++)l[s+a]+=h[s]*c[a];return cG(e.subarray(32),l),u}o(tle,"crypto_sign");function rle(e,t,r,n){var s,a,l=new Hf(32),f=[dn(),dn(),dn(),dn()],c=[dn(),dn(),dn(),dn()];if(a=-1,r<64||nle(c,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var u=l7(e,r);if(QN(u),hG(f,c,u),rk(c,t.subarray(32)),ek(f,c),tk(l,f),r-=64,uG(t,0,l,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return a=r,a}o(rle,"crypto_sign_open");function cG(e,t){var r,n,s,a;for(n=63;n>=32;--n){for(r=0,s=n-32,a=n-12;s<a;++s)t[s]+=r-16*t[n]*YN[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*YN[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*YN[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(cG,"modL");function QN(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;cG(e,t)}o(QN,"reduce");function ek(e,t){var r=dn(),n=dn(),s=dn(),a=dn(),l=dn(),f=dn(),c=dn(),u=dn(),d=dn();H6(r,e[1],e[0]),H6(d,t[1],t[0]),ta(r,r,d),$6(n,e[0],e[1]),$6(d,t[0],t[1]),ta(n,n,d),ta(s,e[3],t[3]),ta(s,s,Zae),ta(a,e[2],t[2]),$6(a,a,a),H6(l,n,r),H6(f,a,s),$6(c,a,s),$6(u,n,r),ta(e[0],l,f),ta(e[1],u,c),ta(e[2],c,f),ta(e[3],l,u)}o(ek,"add");function aG(e,t,r){for(var n=0;n<4;++n)gG(e[n],t[n],r)}o(aG,"cswap");function tk(e,t){var r=dn(),n=dn(),s=dn();ale(s,t[2]),ta(r,t[0],s),ta(n,t[1],s),Tb(e,n),e[31]^=dG(r)<<7}o(tk,"pack");function Tb(e,t){var r,n,s,a=dn(),l=dn();for(r=0;r<16;++r)l[r]=t[r];for(JN(l),JN(l),JN(l),n=0;n<2;++n){for(a[0]=l[0]-65517,r=1;r<15;++r)a[r]=l[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=l[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,gG(l,a,1-s)}for(r=0;r<16;r++)e[2*r]=l[r]&255,e[2*r+1]=l[r]>>8}o(Tb,"pack25519");function nle(e,t){var r=dn(),n=dn(),s=dn(),a=dn(),l=dn(),f=dn(),c=dn();return T3(e[2],Eb),ile(e[1],t),M4(s,e[1]),ta(a,s,Xae),H6(s,s,e[2]),$6(a,e[2],a),M4(l,a),M4(f,l),ta(c,f,l),ta(r,c,s),ta(r,r,a),sle(r,r),ta(r,r,s),ta(r,r,a),ta(r,r,a),ta(e[0],r,a),M4(n,e[0]),ta(n,n,a),lG(n,s)&&ta(e[0],e[0],Qae),M4(n,e[0]),ta(n,n,a),lG(n,s)?-1:(dG(e[0])===t[31]>>7&&H6(e[0],ZN,e[0]),ta(e[3],e[0],e[1]),0)}o(nle,"unpackneg");function ile(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(ile,"unpack25519");function sle(e,t){var r=dn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)M4(r,r),n!==1&&ta(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(sle,"pow2523");function lG(e,t){var r=new Hf(32),n=new Hf(32);return Tb(r,e),Tb(n,t),uG(r,0,n,0)}o(lG,"neq25519");function uG(e,t,r,n){return ole(e,t,r,n,32)}o(uG,"crypto_verify_32");function ole(e,t,r,n,s){var a,l=0;for(a=0;a<s;++a)l|=e[t+a]^r[n+a];return(1&l-1>>>8)-1}o(ole,"vn");function dG(e){var t=new Hf(32);return Tb(t,e),t[0]&1}o(dG,"par25519");function hG(e,t,r){var n,s;for(T3(e[0],ZN),T3(e[1],Eb),T3(e[2],Eb),T3(e[3],ZN),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,aG(e,t,n),ek(t,e),ek(e,e),aG(e,t,n)}o(hG,"scalarmult");function rk(e,t){var r=[dn(),dn(),dn(),dn()];T3(r[0],sG),T3(r[1],oG),T3(r[2],Eb),ta(r[3],sG,oG),hG(e,r,t)}o(rk,"scalarbase");function T3(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(T3,"set25519");function ale(e,t){var r=dn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)M4(r,r),n!==2&&n!==4&&ta(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(ale,"inv25519");function JN(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(JN,"car25519");function gG(e,t,r){for(var n,s=~(r-1),a=0;a<16;++a)n=s&(e[a]^t[a]),e[a]^=n,t[a]^=n}o(gG,"sel25519");function dn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(dn,"gf");function $6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o($6,"A");function H6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(H6,"Z");function M4(e,t){ta(e,t,t)}o(M4,"S");function ta(e,t,r){var n,s,a=0,l=0,f=0,c=0,u=0,d=0,h=0,p=0,m=0,v=0,x=0,S=0,E=0,R=0,B=0,O=0,L=0,F=0,ve=0,we=0,Xt=0,f0=0,Jt=0,c0=0,yt=0,je=0,i0=0,u0=0,l0=0,N0=0,kt=0,o0=r[0],de=r[1],Me=r[2],b0=r[3],H0=r[4],F0=r[5],y0=r[6],Er=r[7],Se=r[8],O0=r[9],St=r[10],L0=r[11],k0=r[12],z0=r[13],Sr=r[14],zr=r[15];n=t[0],a+=n*o0,l+=n*de,f+=n*Me,c+=n*b0,u+=n*H0,d+=n*F0,h+=n*y0,p+=n*Er,m+=n*Se,v+=n*O0,x+=n*St,S+=n*L0,E+=n*k0,R+=n*z0,B+=n*Sr,O+=n*zr,n=t[1],l+=n*o0,f+=n*de,c+=n*Me,u+=n*b0,d+=n*H0,h+=n*F0,p+=n*y0,m+=n*Er,v+=n*Se,x+=n*O0,S+=n*St,E+=n*L0,R+=n*k0,B+=n*z0,O+=n*Sr,L+=n*zr,n=t[2],f+=n*o0,c+=n*de,u+=n*Me,d+=n*b0,h+=n*H0,p+=n*F0,m+=n*y0,v+=n*Er,x+=n*Se,S+=n*O0,E+=n*St,R+=n*L0,B+=n*k0,O+=n*z0,L+=n*Sr,F+=n*zr,n=t[3],c+=n*o0,u+=n*de,d+=n*Me,h+=n*b0,p+=n*H0,m+=n*F0,v+=n*y0,x+=n*Er,S+=n*Se,E+=n*O0,R+=n*St,B+=n*L0,O+=n*k0,L+=n*z0,F+=n*Sr,ve+=n*zr,n=t[4],u+=n*o0,d+=n*de,h+=n*Me,p+=n*b0,m+=n*H0,v+=n*F0,x+=n*y0,S+=n*Er,E+=n*Se,R+=n*O0,B+=n*St,O+=n*L0,L+=n*k0,F+=n*z0,ve+=n*Sr,we+=n*zr,n=t[5],d+=n*o0,h+=n*de,p+=n*Me,m+=n*b0,v+=n*H0,x+=n*F0,S+=n*y0,E+=n*Er,R+=n*Se,B+=n*O0,O+=n*St,L+=n*L0,F+=n*k0,ve+=n*z0,we+=n*Sr,Xt+=n*zr,n=t[6],h+=n*o0,p+=n*de,m+=n*Me,v+=n*b0,x+=n*H0,S+=n*F0,E+=n*y0,R+=n*Er,B+=n*Se,O+=n*O0,L+=n*St,F+=n*L0,ve+=n*k0,we+=n*z0,Xt+=n*Sr,f0+=n*zr,n=t[7],p+=n*o0,m+=n*de,v+=n*Me,x+=n*b0,S+=n*H0,E+=n*F0,R+=n*y0,B+=n*Er,O+=n*Se,L+=n*O0,F+=n*St,ve+=n*L0,we+=n*k0,Xt+=n*z0,f0+=n*Sr,Jt+=n*zr,n=t[8],m+=n*o0,v+=n*de,x+=n*Me,S+=n*b0,E+=n*H0,R+=n*F0,B+=n*y0,O+=n*Er,L+=n*Se,F+=n*O0,ve+=n*St,we+=n*L0,Xt+=n*k0,f0+=n*z0,Jt+=n*Sr,c0+=n*zr,n=t[9],v+=n*o0,x+=n*de,S+=n*Me,E+=n*b0,R+=n*H0,B+=n*F0,O+=n*y0,L+=n*Er,F+=n*Se,ve+=n*O0,we+=n*St,Xt+=n*L0,f0+=n*k0,Jt+=n*z0,c0+=n*Sr,yt+=n*zr,n=t[10],x+=n*o0,S+=n*de,E+=n*Me,R+=n*b0,B+=n*H0,O+=n*F0,L+=n*y0,F+=n*Er,ve+=n*Se,we+=n*O0,Xt+=n*St,f0+=n*L0,Jt+=n*k0,c0+=n*z0,yt+=n*Sr,je+=n*zr,n=t[11],S+=n*o0,E+=n*de,R+=n*Me,B+=n*b0,O+=n*H0,L+=n*F0,F+=n*y0,ve+=n*Er,we+=n*Se,Xt+=n*O0,f0+=n*St,Jt+=n*L0,c0+=n*k0,yt+=n*z0,je+=n*Sr,i0+=n*zr,n=t[12],E+=n*o0,R+=n*de,B+=n*Me,O+=n*b0,L+=n*H0,F+=n*F0,ve+=n*y0,we+=n*Er,Xt+=n*Se,f0+=n*O0,Jt+=n*St,c0+=n*L0,yt+=n*k0,je+=n*z0,i0+=n*Sr,u0+=n*zr,n=t[13],R+=n*o0,B+=n*de,O+=n*Me,L+=n*b0,F+=n*H0,ve+=n*F0,we+=n*y0,Xt+=n*Er,f0+=n*Se,Jt+=n*O0,c0+=n*St,yt+=n*L0,je+=n*k0,i0+=n*z0,u0+=n*Sr,l0+=n*zr,n=t[14],B+=n*o0,O+=n*de,L+=n*Me,F+=n*b0,ve+=n*H0,we+=n*F0,Xt+=n*y0,f0+=n*Er,Jt+=n*Se,c0+=n*O0,yt+=n*St,je+=n*L0,i0+=n*k0,u0+=n*z0,l0+=n*Sr,N0+=n*zr,n=t[15],O+=n*o0,L+=n*de,F+=n*Me,ve+=n*b0,we+=n*H0,Xt+=n*F0,f0+=n*y0,Jt+=n*Er,c0+=n*Se,yt+=n*O0,je+=n*St,i0+=n*L0,u0+=n*k0,l0+=n*z0,N0+=n*Sr,kt+=n*zr,a+=38*L,l+=38*F,f+=38*ve,c+=38*we,u+=38*Xt,d+=38*f0,h+=38*Jt,p+=38*c0,m+=38*yt,v+=38*je,x+=38*i0,S+=38*u0,E+=38*l0,R+=38*N0,B+=38*kt,s=1,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=R+s+65535,s=Math.floor(n/65536),R=n-s*65536,n=B+s+65535,s=Math.floor(n/65536),B=n-s*65536,n=O+s+65535,s=Math.floor(n/65536),O=n-s*65536,a+=s-1+37*(s-1),s=1,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=R+s+65535,s=Math.floor(n/65536),R=n-s*65536,n=B+s+65535,s=Math.floor(n/65536),B=n-s*65536,n=O+s+65535,s=Math.floor(n/65536),O=n-s*65536,a+=s-1+37*(s-1),e[0]=a,e[1]=l,e[2]=f,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=p,e[8]=m,e[9]=v,e[10]=x,e[11]=S,e[12]=E,e[13]=R,e[14]=B,e[15]=O}o(ta,"M")});var _G=t0((rye,xG)=>{var mc=Ki();Ds();Gc();n7();xG.exports=mc.kem=mc.kem||{};var yG=mc.jsbn.BigInteger;mc.kem.rsa={};mc.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||mc.random,n={};return n.encrypt=function(s,a){var l=Math.ceil(s.n.bitLength()/8),f;do f=new yG(mc.util.bytesToHex(r.getBytesSync(l)),16).mod(s.n);while(f.compareTo(yG.ONE)<=0);f=mc.util.hexToBytes(f.toString(16));var c=l-f.length;c>0&&(f=mc.util.fillString("\0",c)+f);var u=s.encrypt(f,"NONE"),d=e.generate(f,a);return{encapsulation:u,key:d}},n.decrypt=function(s,a,l){var f=s.decrypt(a,"NONE");return e.generate(f,l)},n};mc.kem.kdf1=function(e,t){vG(this,e,0,t||e.digestLength)};mc.kem.kdf2=function(e,t){vG(this,e,1,t||e.digestLength)};function vG(e,t,r,n){e.generate=function(s,a){for(var l=new mc.util.ByteBuffer,f=Math.ceil(a/n)+r,c=new mc.util.ByteBuffer,u=r;u<f;++u){c.putInt32(u),t.start(),t.update(s+c.getBytes());var d=t.digest();l.putBytes(d.getBytes(n))}return l.truncate(l.length()-a),l.getBytes()}}o(vG,"_createKDF")});var TG=t0((iye,EG)=>{var Es=Ki();Ds();EG.exports=Es.log=Es.log||{};Es.log.levels=["none","error","warning","info","debug","verbose","max"];var Sb={},sk=[],c7=null;Es.log.LEVEL_LOCKED=2;Es.log.NO_LEVEL_CHECK=4;Es.log.INTERPOLATE=8;for(Su=0;Su<Es.log.levels.length;++Su)nk=Es.log.levels[Su],Sb[nk]={index:Su,name:nk.toUpperCase()};var nk,Su;Es.log.logMessage=function(e){for(var t=Sb[e.level].index,r=0;r<sk.length;++r){var n=sk[r];if(n.flags&Es.log.NO_LEVEL_CHECK)n.f(e);else{var s=Sb[n.level].index;t<=s&&n.f(n,e)}}};Es.log.prepareStandard=function(e){"standard"in e||(e.standard=Sb[e.level].name+" ["+e.category+"] "+e.message)};Es.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Es.util.format.apply(this,t)}};Es.log.prepareStandardFull=function(e){"standardFull"in e||(Es.log.prepareStandard(e),e.standardFull=e.standard)};for(ik=["error","warning","info","debug","verbose"],Su=0;Su<ik.length;++Su)(function(t){Es.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:s};Es.log.logMessage(a)}})(ik[Su]);var ik,Su;Es.log.makeLogger=function(e){var t={flags:0,f:e};return Es.log.setLevel(t,"none"),t};Es.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Es.log.LEVEL_LOCKED))for(var n=0;n<Es.log.levels.length;++n){var s=Es.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};Es.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Es.log.LEVEL_LOCKED:e.flags&=~Es.log.LEVEL_LOCKED};Es.log.addLogger=function(e){sk.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(bG={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},u7=o(function(e,t){Es.log.prepareStandard(t);var r=bG[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),V6=Es.log.makeLogger(u7)):(u7=o(function(t,r){Es.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),V6=Es.log.makeLogger(u7)),Es.log.setLevel(V6,"debug"),Es.log.addLogger(V6),c7=V6):console={log:function(){}};var V6,bG,u7;c7!==null&&typeof window<"u"&&window.location&&(f7=new URL(window.location.href).searchParams,f7.has("console.level")&&Es.log.setLevel(c7,f7.get("console.level").slice(-1)[0]),f7.has("console.lock")&&(CG=f7.get("console.lock").slice(-1)[0],CG=="true"&&Es.log.lock(c7)));var f7,CG;Es.log.consoleLogger=c7});var wG=t0((oye,SG)=>{SG.exports=yu();ib();F6();vN();KN()});var PG=t0((aye,AG)=>{var Q0=Ki();p3();P1();t7();y3();N4();kN();Gc();Ds();vb();var e0=Q0.asn1,Cf=AG.exports=Q0.pkcs7=Q0.pkcs7||{};Cf.messageFromPem=function(e){var t=Q0.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=e0.fromDer(t.body);return Cf.messageFromAsn1(n)};Cf.messageToPem=function(e,t){var r={type:"PKCS7",body:e0.toDer(e.toAsn1()).getBytes()};return Q0.pem.encode(r,{maxline:t})};Cf.messageFromAsn1=function(e){var t={},r=[];if(!e0.validate(e,Cf.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=e0.derToOid(t.contentType),a;switch(s){case Q0.pki.oids.envelopedData:a=Cf.createEnvelopedData();break;case Q0.pki.oids.encryptedData:a=Cf.createEncryptedData();break;case Q0.pki.oids.signedData:a=Cf.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};Cf.createSignedData=function(){var e=null;return e={type:Q0.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(ak(e,n,Cf.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,a=0;a<s.length;++a)e.certificates.push(Q0.pki.certificateFromAsn1(s[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(Q0.pki.certificateToAsn1(e.certificates[s]));var a=[],l=e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&l.value[0].value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&l.value[0].value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,1,!0,a)),l.value[0].value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,e.signerInfos)),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),l])},addSigner:function(n){var s=n.issuer,a=n.serialNumber;if(n.certificate){var l=n.certificate;typeof l=="string"&&(l=Q0.pki.certificateFromPem(l)),s=l.issuer.attributes,a=l.serialNumber}var f=n.key;if(!f)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof f=="string"&&(f=Q0.pki.privateKeyFromPem(f));var c=n.digestAlgorithm||Q0.pki.oids.sha1;switch(c){case Q0.pki.oids.sha1:case Q0.pki.oids.sha256:case Q0.pki.oids.sha384:case Q0.pki.oids.sha512:case Q0.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var d=!1,h=!1,p=0;p<u.length;++p){var m=u[p];if(!d&&m.type===Q0.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&m.type===Q0.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:f,version:1,issuer:s,serialNumber:a,digestAlgorithm:c,signatureAlgorithm:Q0.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(Q0.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof Q0.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=Q0.util.encodeUtf8(e.content)),n.detached?e.detachedContent=e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Q0.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var a=e.signers[s],l=a.digestAlgorithm;l in n||(n[l]=Q0.md[Q0.pki.oids[l]].create()),a.authenticatedAttributes.length===0?a.md=n[l]:a.md=Q0.md[Q0.pki.oids[l]].create()}e.digestAlgorithmIdentifiers=[];for(var l in n)e.digestAlgorithmIdentifiers.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(l).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=e0.derToOid(e.contentInfo.value[0].value),l=e0.toDer(s);l.getByte(),e0.getBerValueLength(l),l=l.getBytes();for(var f in n)n[f].start().update(l);for(var c=new Date,u=0;u<e.signers.length;++u){var d=e.signers[u];if(d.authenticatedAttributes.length===0){if(a!==Q0.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var m=d.authenticatedAttributes[p];m.type===Q0.pki.oids.messageDigest?m.value=n[d.digestAlgorithm].digest():m.type===Q0.pki.oids.signingTime&&(m.value||(m.value=c)),h.value.push(ok(m)),d.authenticatedAttributesAsn1.value.push(ok(m))}l=e0.toDer(h).getBytes(),d.md.start().update(l)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=hle(e.signers)}o(r,"addSignerInfos")};Cf.createEncryptedData=function(){var e=null;return e={type:Q0.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Q0.pki.oids["aes256-CBC"]},fromAsn1:function(t){ak(e,t,Cf.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),IG(e)}},e};Cf.createEnvelopedData=function(){var e=null;return e={type:Q0.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Q0.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=ak(e,t,Cf.asn1.envelopedDataValidator);e.recipients=cle(r.recipientInfos.value)},toAsn1:function(){return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,ule(e.recipients)),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,gle(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],a=s.issuer;if(s.serialNumber===t.serialNumber&&a.length===r.length){for(var l=!0,f=0;f<r.length;++f)if(a[f].type!==r[f].type||a[f].value!==r[f].value){l=!1;break}if(l)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Q0.pki.oids.rsaEncryption:case Q0.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Q0.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}IG(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Q0.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,a;switch(r){case Q0.pki.oids["aes128-CBC"]:n=16,s=16,a=Q0.aes.createEncryptionCipher;break;case Q0.pki.oids["aes192-CBC"]:n=24,s=16,a=Q0.aes.createEncryptionCipher;break;case Q0.pki.oids["aes256-CBC"]:n=32,s=16,a=Q0.aes.createEncryptionCipher;break;case Q0.pki.oids["des-EDE3-CBC"]:n=24,s=8,a=Q0.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Q0.util.createBuffer(Q0.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Q0.util.createBuffer(Q0.random.getBytes(s));var l=a(t);if(l.start(e.encryptedContent.parameter.copy()),l.update(e.content),!l.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=l.output}for(var f=0;f<e.recipients.length;++f){var c=e.recipients[f];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Q0.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function lle(e){var t={},r=[];if(!e0.validate(e,Cf.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Q0.pki.RDNAttributesAsArray(t.issuer),serialNumber:Q0.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:e0.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(lle,"_recipientFromAsn1");function fle(e){return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[Q0.pki.distinguishedNameToAsn1({attributes:e.issuer}),e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,Q0.util.hexToBytes(e.serialNumber))]),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.encryptedContent.algorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")]),e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(fle,"_recipientToAsn1");function cle(e){for(var t=[],r=0;r<e.length;++r)t.push(lle(e[r]));return t}o(cle,"_recipientsFromAsn1");function ule(e){for(var t=[],r=0;r<e.length;++r)t.push(fle(e[r]));return t}o(ule,"_recipientsToAsn1");function dle(e){var t=e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[Q0.pki.distinguishedNameToAsn1({attributes:e.issuer}),e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,Q0.util.hexToBytes(e.serialNumber))]),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.digestAlgorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.signatureAlgorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")])),t.value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=e0.create(e0.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(ok(s))}t.value.push(r)}return t}o(dle,"_signerToAsn1");function hle(e){for(var t=[],r=0;r<e.length;++r)t.push(dle(e[r]));return t}o(hle,"_signersToAsn1");function ok(e){var t;if(e.type===Q0.pki.oids.contentType)t=e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.value).getBytes());else if(e.type===Q0.pki.oids.messageDigest)t=e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Q0.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var a=Date.parse(s);isNaN(a)?s.length===13?s=e0.utcTimeToDate(s):s=e0.generalizedTimeToDate(s):s=new Date(a)}s>=r&&s<n?t=e0.create(e0.Class.UNIVERSAL,e0.Type.UTCTIME,!1,e0.dateToUtcTime(s)):t=e0.create(e0.Class.UNIVERSAL,e0.Type.GENERALIZEDTIME,!1,e0.dateToGeneralizedTime(s))}return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,[t])])}o(ok,"_attributeToAsn1");function gle(e){return[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(Q0.pki.oids.data).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.algorithm).getBytes()),e.parameter?e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(gle,"_encryptedContentToAsn1");function ak(e,t,r){var n={},s=[];if(!e0.validate(t,r,n,s)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var l=e0.derToOid(n.contentType);if(l!==Q0.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var f="";if(Q0.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==e0.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");f+=n.encryptedContent[c].value}else f=n.encryptedContent;e.encryptedContent={algorithm:e0.derToOid(n.encAlgorithm),parameter:Q0.util.createBuffer(n.encParameter.value),content:Q0.util.createBuffer(f)}}if(n.content){var f="";if(Q0.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==e0.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=n.content[c].value}else f=n.content;e.content=Q0.util.createBuffer(f)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(ak,"_fromAsn1");function IG(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Q0.pki.oids["aes128-CBC"]:case Q0.pki.oids["aes192-CBC"]:case Q0.pki.oids["aes256-CBC"]:t=Q0.aes.createDecryptionCipher(e.encryptedContent.key);break;case Q0.pki.oids.desCBC:case Q0.pki.oids["des-EDE3-CBC"]:t=Q0.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(IG,"_decryptContent")});var NG=t0((fye,RG)=>{var Ya=Ki();p3();D6();ib();F6();Ds();var Ib=RG.exports=Ya.ssh=Ya.ssh||{};Ib.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+s+`\r
`,a+="Comment: "+r+`\r
`;var l=Ya.util.createBuffer();z6(l,n),wu(l,e.e),wu(l,e.n);var f=Ya.util.encode64(l.bytes(),64),c=Math.floor(f.length/66)+1;a+="Public-Lines: "+c+`\r
`,a+=f;var u=Ya.util.createBuffer();wu(u,e.d),wu(u,e.p),wu(u,e.q),wu(u,e.qInv);var d;if(!t)d=Ya.util.encode64(u.bytes(),64);else{var h=u.length()+16-1;h-=h%16;var p=wb(u.bytes());p.truncate(p.length()-h+u.length()),u.putBuffer(p);var m=Ya.util.createBuffer();m.putBuffer(wb("\0\0\0\0",t)),m.putBuffer(wb("\0\0\0",t));var v=Ya.aes.createEncryptionCipher(m.truncate(8),"CBC");v.start(Ya.util.createBuffer().fillWithByte(0,16)),v.update(u.copy()),v.finish();var x=v.output;x.truncate(16),d=Ya.util.encode64(x.bytes(),64)}c=Math.floor(d.length/66)+1,a+=`\r
Private-Lines: `+c+`\r
`,a+=d;var S=wb("putty-private-key-file-mac-key",t),E=Ya.util.createBuffer();z6(E,n),z6(E,s),z6(E,r),E.putInt32(l.length()),E.putBuffer(l),E.putInt32(u.length()),E.putBuffer(u);var R=Ya.hmac.create();return R.start("sha1",S),R.update(E.bytes()),a+=`\r
Private-MAC: `+R.digest().toHex()+`\r
`,a};Ib.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Ya.util.createBuffer();return z6(n,r),wu(n,e.e),wu(n,e.n),r+" "+Ya.util.encode64(n.bytes())+" "+t};Ib.privateKeyToOpenSSH=function(e,t){return t?Ya.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Ya.pki.privateKeyToPem(e)};Ib.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ya.md.md5.create(),n="ssh-rsa",s=Ya.util.createBuffer();z6(s,n),wu(s,e.e),wu(s,e.n),r.start(),r.update(s.getBytes());var a=r.digest();if(t.encoding==="hex"){var l=a.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function wu(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Ya.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(wu,"_addBigIntegerToBuffer");function z6(e,t){e.putInt32(t.length),e.putString(t)}o(z6,"_addStringToBuffer");function wb(){for(var e=Ya.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(wb,"_sha1")});var DG=t0((uye,kG)=>{kG.exports=Ki();p3();Zz();P1();X_();t7();pG();D6();_G();TG();wG();DN();lb();N4();IN();ON();PG();MN();PN();xN();mb();Gc();CN();NG();VN();Ds()});var LG=t0((dye,mle)=>{mle.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var FG=t0((hye,lk)=>{var Pb=DG(),BG=LG(),Ab=lk.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function OG(e){let t=Pb.pki.pemToDer(e),r=Pb.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,s=n[0],a=s.tagClass===r.Class.CONTEXT_SPECIFIC&&s.type===0&&s.constructed,l=n.slice(a);return{serial:l[0],issuer:l[2],valid:l[3],subject:l[4]}}o(OG,"myASN");function ple(e){let t=OG(e),r=new Date,n=t.subject.value.map(l=>l.value[0].value[1].value).join("/"),s=t.valid.value.map(l=>l.value).join(" - "),a=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${s}`,`Saved	${r.toLocaleDateString()} ${a} by ${BG.name}@${BG.version}`,String(e)].join(`
`)}o(ple,"txtFormat");lk.exports.transform=function(e){return function(t){try{switch(e){case Ab.der:return Pb.pki.pemToDer(t);case Ab.pem:return t;case Ab.txt:return ple(t);case Ab.asn1:return OG(t);default:return Pb.pki.certificateFromPem(t)}}catch{return}}}});var MG=t0((mye,G6)=>{var fk=require("https"),ck=FG();if(process.platform!=="darwin")G6.exports.all=()=>[],G6.exports.each=()=>{};else{let f=function(u,d,h){return h.indexOf(u)===d};yle=f,o(f,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],s=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),a=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);fk.globalAgent.options.ca=fk.globalAgent.options.ca||[];let l=fk.globalAgent.options.ca,c=s.concat(a);c.filter(f).forEach(u=>l.push(u)),G6.exports.der2=ck.validFormats,G6.exports.all=function(u){return c.map(ck.transform(u)).filter(d=>d)},G6.exports.each=function(u,d){return typeof u=="function"&&(d=u,u=void 0),c.map(ck.transform(u)).filter(h=>h).forEach(d)}}var yle});var UG=t0((yye,uk)=>{function vle(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),s=[],a=new n.Crypt32;try{let l;for(;l=a.next();){let f=new e(l);s.push(f.toString())}}finally{a.done()}return Array.from(new Set(s))}o(vle,"all");process.platform!=="win32"?uk.exports.all=()=>[]:uk.exports.all=vle});var zG=t0((Cye,VG)=>{var Nb=require("path").sep||"/";VG.exports=_le;function _le(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=Nb+Nb+n),s=s.replace(/^(.+)\|/,"$1:"),Nb=="\\"&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=Nb+s),n+s}o(_le,"fileUriToPath")});var JG=t0((Lb,YG)=>{var Pk=require("fs"),Db=require("path"),ble=zG(),kb=Db.join,WG=Db.dirname,GG=Pk.accessSync&&function(e){try{Pk.accessSync(e)}catch{return!1}return!0}||Pk.existsSync||Db.existsSync,KG={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function Cle(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(KG).map(function(c){c in e||(e[c]=KG[c])}),e.module_root||(e.module_root=WG(__filename)),Db.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,s=e.try.length,a,l,f;n<s;n++){a=kb.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(a);try{return l=e.path?t.resolve(a):t(a),e.path||(l.path=a),l}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw f=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),f.tries=r,f}o(Cle,"bindings");YG.exports=Lb=Cle;Lb.getFileName=o(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,s={},a;Error.stackTraceLimit=10,Error.prepareStackTrace=function(f,c){for(var u=0,d=c.length;u<d;u++)if(a=c[u].getFileName(),a!==__filename)if(t){if(a!==t)return}else return},Error.captureStackTrace(s),new Error(s.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var l="file://";return a.indexOf(l)===0&&(a=ble(a)),a},"getFileName");Lb.getRoot=o(function(t){for(var r=WG(t),n;;){if(r==="."&&(r=process.cwd()),GG(kb(r,"package.json"))||GG(kb(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=kb(r,"..")}},"getRoot")});var QG=t0((Sye,ZG)=>{"use strict";function XG(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let s=typeof e;if(n.type&&s!==n.type){if(n.required===!1&&t.slice(r).some(a=>a.type===s))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(XG,"validateParameter");function Ele(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(Ele,"hasOwnProperty");function Tle(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let a=0,l=0;a<t.length;++a,++l){let f=t[a],c=r[l];Ele(f,"default")&&c==null&&(c=f.default),f.type==="object"&&f.default!=null&&(c=Object.assign({},f.default,c)),f.name==="options"&&(typeof c=="function"||c==null)&&(c={}),XG(c,t,a)?n.push(c):l--}if(typeof arguments[arguments.length-1]!="function")return new Promise((a,l)=>{n.push((f,c)=>{if(f)return l(f);a(c)}),e.apply(this,n)});e.apply(this,n)}}o(Tle,"defineOperation");ZG.exports={defineOperation:Tle,validateParameter:XG}});var Rk=t0((Iye,rK)=>{"use strict";var W6=JG()("kerberos"),K6=W6.KerberosClient,eK=W6.KerberosServer,S3=QG().defineOperation,Sle=1,wle=2,Ile=4,Ale=8,Ple=16,Rle=32,Nle=64,kle=128,Dle=256,tK=0,Lle=9,Ble=6;K6.prototype.step=S3(K6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);K6.prototype.wrap=S3(K6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);K6.prototype.unwrap=S3(K6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);eK.prototype.step=S3(eK.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Ole=S3(W6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Fle=S3(W6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Mle=S3(W6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:tK}},{name:"callback",type:"function",required:!1}]),Ule=S3(W6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);rK.exports={initializeClient:Mle,initializeServer:Ule,principalDetails:Fle,checkPassword:Ole,GSS_C_DELEG_FLAG:Sle,GSS_C_MUTUAL_FLAG:wle,GSS_C_REPLAY_FLAG:Ile,GSS_C_SEQUENCE_FLAG:Ale,GSS_C_CONF_FLAG:Ple,GSS_C_INTEG_FLAG:Rle,GSS_C_ANON_FLAG:Nle,GSS_C_PROT_READY_FLAG:kle,GSS_C_TRANS_FLAG:Dle,GSS_C_NO_OID:tK,GSS_MECH_OID_KRB5:Lle,GSS_MECH_OID_SPNEGO:Ble}});var nK=t0((Aye,qle)=>{qle.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var sK=t0((Pye,iK)=>{"use strict";var jle=require("dns"),$le=Rk(),kk=class kk{constructor(t,r,n,s){s=s||{},this.host=t,this.port=r,this.serviceName=n||s.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof s.gssapiCanonicalizeHostName=="boolean"?s.gssapiCanonicalizeHostName:!1,this._transition=Hle(this),this.retries=10}init(t,r,n){let s=this;this.username=t,this.password=r;function a(l,f,c){if(!l)return c();jle.resolveCname(f,(u,d)=>{if(u)return c(u);Array.isArray(d)&&d.length>0&&(s.host=d[0]),c()})}o(a,"performGssapiCanonicalizeHostName"),a(this.canonicalizeHostName,this.host,l=>{if(l)return n(l);let f={};r!=null&&Object.assign(f,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;$le.initializeClient(c,f,(u,d)=>{if(u)return n(u,null);s.client=d,n(null,d)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};o(kk,"MongoAuthProcess");var Nk=kk;function Hle(e){return(t,r)=>{e.client.step("",(n,s)=>{if(n)return r(n);e._transition=Vle(e),r(null,s)})}}o(Hle,"firstTransition");function Vle(e){return(t,r)=>{e.client.step(t,(n,s)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=zle(e),r(null,s||"")})}}o(Vle,"secondTransition");function zle(e){return(t,r)=>{e.client.unwrap(t,(n,s)=>{if(n)return r(n,!1);e.client.wrap(s,{user:e.username},(a,l)=>{if(a)return r(a,!1);e._transition=Gle(e),r(null,l)})})}}o(zle,"thirdTransition");function Gle(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(Gle,"fourthTransition");iK.exports={MongoAuthProcess:Nk}});var aK=t0((Nye,d7)=>{"use strict";var oK=Rk();d7.exports=oK;d7.exports.Kerberos=oK;d7.exports.version=nK().version;d7.exports.processes={MongoAuthProcess:sK().MongoAuthProcess}});var Ed=Vi(Df()),xA=Vi(uL()),kx=Vi(jm());var xB=Vi(require("crypto"));var Xy=new Uint8Array(256),Jy=Xy.length;function tT(){return Jy>Xy.length-16&&(xB.default.randomFillSync(Xy),Jy=0),Xy.slice(Jy,Jy+=16)}o(tT,"rng");var Ol=[];for(let e=0;e<256;++e)Ol.push((e+256).toString(16).slice(1));function _B(e,t=0){return Ol[e[t+0]]+Ol[e[t+1]]+Ol[e[t+2]]+Ol[e[t+3]]+"-"+Ol[e[t+4]]+Ol[e[t+5]]+"-"+Ol[e[t+6]]+Ol[e[t+7]]+"-"+Ol[e[t+8]]+Ol[e[t+9]]+"-"+Ol[e[t+10]]+Ol[e[t+11]]+Ol[e[t+12]]+Ol[e[t+13]]+Ol[e[t+14]]+Ol[e[t+15]]}o(_B,"unsafeStringify");var bB=Vi(require("crypto")),rT={randomUUID:bB.default.randomUUID};function MJ(e,t,r){if(rT.randomUUID&&!t&&!e)return rT.randomUUID();e=e||{};let n=e.random||(e.rng||tT)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return _B(n)}o(MJ,"v4");var Q2=MJ;var Dx=Vi(XM());var kw=class kw extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};o(kw,"CopilotAuthError");var hd=kw;var xx=Vi(gd());var $v="github.copilot";var Mc=Vi(gd());var Dw=class Dw{now(){return new Date}};o(Dw,"Clock");var a4=Dw;var ZM=Vi(jm());var Lw=class Lw{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};o(Lw,"LRUCacheMap");var ga=Lw;var Hv=class Hv{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return QM(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new Hv({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};o(Hv,"ExpConfig");var C1=Hv;var r6=Vi(gq(),1),Fue={ALPN_HTTP2:r6.default.ALPN_HTTP2,ALPN_HTTP2C:r6.default.ALPN_HTTP2C,ALPN_HTTP1_1:r6.default.ALPN_HTTP1_1,ALPN_HTTP1_0:r6.default.ALPN_HTTP1_0},{fetch:Mue,context:mq,reset:Uue,noCache:que,h1:jue,keepAlive:$ue,h1NoCache:Hue,keepAliveNoCache:Vue,cacheStats:zue,clearCache:Gue,offPush:Kue,onPush:Wue,createUrl:Yue,timeoutSignal:Jue,Body:Xue,Headers:Zue,Request:Que,Response:ede,AbortController:pq,AbortError:yq,AbortSignal:tde,FetchBaseError:rde,FetchError:c9,ALPN_HTTP2:nde,ALPN_HTTP2C:ide,ALPN_HTTP1_1:sde,ALPN_HTTP1_0:ode}=r6.default;var xq=Vi(require("util")),_q=require("util");var SI=class SI{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};o(SI,"HeaderContributors");var g4=SI;var u9,d9,PI=class PI{constructor(){gs(this,u9,void 0);gs(this,d9,void 0)}set rejectUnauthorized(t){Gi(this,u9,t)}get rejectUnauthorized(){return A0(this,u9)}set clientFetch(t){Gi(this,d9,t)}get clientFetch(){return A0(this,d9)}};u9=new WeakMap,d9=new WeakMap,o(PI,"Fetcher");var gl=PI;function wI(e){return e instanceof yq||e.name==="AbortError"||e instanceof c9&&e.code==="ABORT_ERR"}o(wI,"isAbortError");var RI=class RI extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};o(RI,"JsonParseError");var n6=RI,NI=class NI extends Error{constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}};o(NI,"FetchResponseError");var m4=NI,Dee=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function II(e,t=!0){var r;return t&&(e!=null&&e.cause)&&II(e.cause,!1)?!0:e instanceof c9||e instanceof Error&&e.name==="FetchError"||e instanceof n6||e instanceof m4||((r=e==null?void 0:e.message)==null?void 0:r.startsWith("net::"))||e instanceof Error&&Dee.has(e.code)}o(II,"isNetworkError");var kI=class kI{constructor(t,r,n,s,a,l){this.status=t;this.statusText=r;this.headers=n;this.getText=s;this.getBody=a;this.getJson=l;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new n6(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let s=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(s&&parseInt(s[2],10)==t.length||n.message==="Unexpected end of JSON input"){let a=new _q.TextEncoder().encode(t).length,l=this.headers.get("content-length");throw l===null?new n6(`Response body truncated: actualLength=${a}`,"Truncated"):new n6(`Response body truncated: actualLength=${a}, headerLength=${l}`,"Truncated")}}throw n}}async body(){return this.getBody()}};o(kI,"Response");var hx=kI,Lee=30*1e3;function AI(e,t,r,n,s,a,l,f){let c={...f,Authorization:xq.format("Bearer %s",r),"X-Request-Id":s,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(za).sessionId,"VScode-MachineId":e.get(za).machineId,...DI(e)};e.get(g4).contributeHeaders(t,c),n&&(c["OpenAI-Intent"]=n);let u={method:"POST",headers:c,json:a,timeout:Lee},d=e.get(gl);if(l){let p=d.makeAbortController();l.onCancellationRequested(()=>{ms(e,"networking.cancelRequest",ea.createAndMarkAsIssued({headerRequestId:s})),p.abort()}),u.signal=p.signal}return d.fetch(t,u).catch(p=>{if(p.code=="ECONNRESET"||p.code=="ETIMEDOUT"||p.code=="ERR_HTTP2_INVALID_SESSION"||p.message=="ERR_HTTP2_GOAWAY_SESSION")return ms(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,u));throw p})}o(AI,"postRequest");var LI=class LI{};o(LI,"ExpConfigMaker");var p4=LI,Bee="https://default.exp-tas.com",BI=class BI extends p4{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var u;let s=r.get(gl),a;try{a=await s.fetch(Bee+this.expPath,{method:"GET",headers:n})}catch(d){return C1.createFallbackConfig(r,`Error fetching ExP config: ${d}`)}if(!a.ok)return C1.createFallbackConfig(r,`ExP responded with ${a.status}`);let l;try{l=await a.json()}catch(d){if(d instanceof SyntaxError)return Fc(r,d,"fetchExperiments"),C1.createFallbackConfig(r,"ExP responded with invalid JSON");throw d}let f=(u=l.Configs.find(d=>d.Id==="vscode"))!=null?u:{Id:"vscode",Parameters:{}},c=Object.entries(f.Parameters).map(([d,h])=>d+(h?"":"cf"));return new C1(f.Parameters,l.AssignmentContext,c.join(";"))}};o(BI,"ExpConfigFromTAS");var gx=BI;var Oee={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},mx=class mx{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let s=Oee[r];s!==void 0&&(t.properties[s]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new mx({...this.filters,[t]:r})}};o(mx,"FilterSettings");var y4=mx;var FI=class FI{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};o(FI,"GranularityImplementation");var px=FI,MI=class MI extends px{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};o(MI,"ConstantGranularity");var OI=MI,bq=o(e=>new OI(e),"DEFAULT_GRANULARITY"),UI=class UI extends px{constructor(r,n=.5,s=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=s}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],s=this.getUpcomingTimePeriodBucketStrings(r),a=this.getUpcomingByCallBucketStrings();for(let l of s)for(let f of a)n.push(this.prefix+l+f);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};o(UI,"TimeBucketGranularity");var yx=UI;var Cq="X-Copilot-ClientTimeBucket",qI=class qI{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=bq(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let s=new yx(this.prefix);isNaN(r)||s.setByCallBuckets(r),isNaN(n)||s.setTimePeriod(n*3600*1e3),this.specs.set(t,s)}}extendFilters(t){let r=this.selectGranularity(t),[n,s]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(Cq,n),otherFilterSettingsToPrefetch:s.map(a=>t.withChange(Cq,a))}}};o(qI,"GranularityDirectory");var vx=qI;var HI=class HI{constructor(t){this.ctx=t;this.cache=new ga(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new $I(()=>this.ctx.get(p4).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};o(HI,"FilterSettingsToExpConfigs");var jI=HI,VI=class VI{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};o(VI,"Task");var $I=VI;var _d=class _d{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new jI(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments({repoNwo:t,fileType:r,userKind:n,dogFood:s,retrievalOrg:a,customModel:l},f){var E,R;if(f instanceof h9)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let c={"X-Copilot-Repository":t,"X-Copilot-FileType":r,"X-Copilot-UserKind":n,"X-Copilot-Dogfood":s,"X-Copilot-CustomModel":l,"X-Copilot-RetrievalOrg":a},u=this.getGranularityDirectory(),d=this.makeFilterSettings(c),h=u.extendFilters(d),p=await this.getExpConfig(h.newFilterSettings);u.update(d,+((E=p.variables.copilotbycallbuckets)!=null?E:NaN),+((R=p.variables.copilottimeperiodsizeinh)!=null?R:NaN));let m=u.extendFilters(d),v=m.newFilterSettings,x=await this.getExpConfig(v),S=new Promise(B=>setTimeout(B,_d.upcomingDynamicFilterCheckDelayMs));for(let B of m.otherFilterSettingsToPrefetch)S=S.then(async()=>{await new Promise(O=>setTimeout(O,_d.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(B)});return this.prepareForUpcomingFilters(v),new h9(f.properties,f.measurements,f.issuedTime,{filters:v,exp:x})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(za).machineId;this.granularityDirectory=new vx(t,this.ctx.get(a4))}return this.granularityDirectory}makeFilterSettings(t){return new y4({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return C1.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-_d.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,_d.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new y4({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}requestMultilineExploration(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultilineexploration)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:15}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:10}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:Mc.DEFAULT_NUM_OF_SNIPPETS}neighboringTabsOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return Mc.NeighboringTabsOption.None;case"conservative":return Mc.NeighboringTabsOption.Conservative;case"medium":return Mc.NeighboringTabsOption.Medium;case"eager":return Mc.NeighboringTabsOption.Eager;case"eagerbutlittle":return Mc.NeighboringTabsOption.EagerButLittle;case"eagerbutmedium":return Mc.NeighboringTabsOption.EagerButMedium;case"eagerbutmuch":return Mc.NeighboringTabsOption.EagerButMuch;case"retrievalcomparable":return Mc.NeighboringTabsOption.RetrievalComparable;default:return Mc.NeighboringTabsOption.Eager}}retrievalStrategy(t){var r;return(r=t.filtersAndExp.exp.variables.retrieval)!=null?r:!1}cppHeaders(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcppheaders)!=null?r:!1}retrievalServerRoute(t){let r=t.filtersAndExp.exp.variables.retrievalserverroute;switch(r){case"aims":return"2";case"devdiv":return"1";case"githubnext":return"0";default:return r!=null?r:"0"}}maxPromptCompletionTokens(t,r){var n;return(n=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?n:r}hybridInference(t){var r;return(r=t.filtersAndExp.exp.variables.hybridinference)!=null?r:!1}hybridInferenceThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.hybridinferencethreshold)!=null?r:-100)/100}requestMultiOnNewLine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultionnewline)!=null?r:!1}requestMultiModel(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultimodel)!=null?r:!1}requestMultiModelThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.copilotrequestmultimodelthreshold)!=null?r:100)/100}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}defaultCommentMarker(t){var s,a;let r=(s=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?s:void 0,n=(a=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?a:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideAgentChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxtokens)!=null?r:-1}ideAgentChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxrequesttokens)!=null?r:-1}ideAgentChatExpTestModelGpt4(t){var r;return(r=t.filtersAndExp.exp.variables.exptestmodelgpt4)!=null?r:""}ideAgentChatExpTestModelGpt35(t){var r;return(r=t.filtersAndExp.exp.variables.exptestmodelgpt35)!=null?r:""}ideAgentChatEnableProjectMetadata(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatenableprojectmetadata)!=null?r:!1}ideAgentChatMetaPromptVersion(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatmetapromptversion)!=null?r:""}};o(_d,"Features"),_d.upcomingDynamicFilterCheckDelayMs=20,_d.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var Ga=_d;var Tq=zI(),bd={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var KI=class KI{};o(KI,"BlockModeConfig");var i6=KI,WI=class WI extends i6{async forLanguage(t,r,n){let s=t.get(Ga).overrideBlockMode(n);return s?jee(s,r):r=="ruby"?"parsing":(0,xx.isSupportedLanguageId)(r)?"parsingandserver":"server"}};o(WI,"ConfigBlockModeConfig");var _x=WI;function jee(e,t){switch(e){case"parsing":return(0,xx.isSupportedLanguageId)(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return(0,xx.isSupportedLanguageId)(t)?"parsingandserver":"server"}}o(jee,"toApplicableBlockMode");var YI=class YI{};o(YI,"ConfigProvider");var v4=YI,JI=class JI extends v4{getConfig(t){return Hee(t)}getOptionalConfig(t){return Sq(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};o(JI,"DefaultsOnlyConfigProvider");var bx=JI;function $ee(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}o($ee,"isContributesObject");function Hee(e){let t=Sq(e);if(t!==void 0)return t;throw new Error(`Missing config default value: ${$v}.${e}`)}o(Hee,"getConfigDefaultForKey");function Sq(e){try{let t=Tq.contributes.configuration[0],r=[],n=`${$v}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let s=t.properties[r.join(".")];if($ee(s))r.length=0,t=s;else if(n.length==0&&(s==null?void 0:s.default)!==void 0)return s.default}}catch(t){throw new Error(`Error inspecting config default value ${$v}.${e}: ${t}`)}}o(Sq,"getOptionalConfigDefaultForKey");function Cd(e,t){return e.get(v4).getConfig(t)}o(Cd,"getConfig");function wq(e){return e.get(v4).dumpForTelemetry()}o(wq,"dumpForTelemetry");var XI=class XI{constructor(){this.packageJson=Tq}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};o(XI,"BuildInfo");var pf=XI;function Iq(e){return e.get(pf).isProduction()}o(Iq,"isProduction");function GI(e){return e.get(pf).getBuildType()}o(GI,"getBuildType");function Aq(e){return e.get(pf).getBuild()}o(Aq,"getBuild");function Pq(e){return e.get(pf).getVersion()}o(Pq,"getVersion");var ZI=class ZI{constructor(t,r){this.sessionId=t;this.machineId=r}};o(ZI,"EditorSession");var za=ZI;function uu({name:e,version:t}){return`${e}/${t}`}o(uu,"formatNameAndVersion");var QI=class QI{};o(QI,"EditorAndPluginInfo");var ml=QI;function DI(e){let t=e.get(ml);return{"Editor-Version":uu(t.getEditorInfo()),"Editor-Plugin-Version":uu(t.getEditorPluginInfo())}}o(DI,"editorVersionHeaders");var Eq="Iv1.b507a08c87ecfe98",eA=class eA{findAppItToAuthenticate(){var t;return(t=this.githubAppId)!=null?t:Eq}fallbackAppId(){return Eq}};o(eA,"GitHubAppInfo");var g9=eA;var Cx=Vi(jm()),Ex=Vi(require("os"));var Vee=require("events"),tA=class tA extends Vee{constructor(){super(),this.setMaxListeners(13)}emit(t,r){return super.emit(t,r)}};o(tA,"CopilotTokenNotifier");var lc=tA;var rA=class rA{constructor(t,r,n,s){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=s!=null?s:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(lc).on("onCopilotToken",r=>{var u;let n=r.getTokenValue("rt")==="1",s=(u=r.getTokenValue("ft"))!=null?u:"",a=r.getTokenValue("tid"),l=r.organization_list,f=r.enterprise_list,c=r.getTokenValue("sku");a!==void 0&&(this.trackingId=a,this.organizationsList=l==null?void 0:l.toString(),this.enterpriseList=f==null?void 0:f.toString(),this.sku=c,this.optedIn=n,this.ftFlag=s)})}};o(rA,"TelemetryUserConfig");var af=rA;var zee=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Gee(e){var n,s,a,l,f,c;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let u of r.slice(e.toString().length+1).split(/\n/).reverse()){let d=u.match(zee),h={filename:"",function:""};d&&(h.function=(l=(a=(s=d[2])==null?void 0:s.trim())==null?void 0:a.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?l:h.function,h.filename=(c=(f=d[4])==null?void 0:f.trim())!=null?c:h.filename,d[5]&&d[5]!==":0"&&(h.lineno=d[5].slice(1)),d[6]&&d[5]!==":0"&&(h.colno=d[6].slice(1)),h.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(h.filename)),t.stacktrace.push(h)}}return t}o(Gee,"buildExceptionDetail");function Kee(e,t){var l,f;let r=e.get(ml),n=r.getEditorInfo(),s=e.get(af),a={"#editor":(l=n.devName)!=null?l:n.name,"#editor_version":uu({name:(f=n.devName)!=null?f:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":uu(r.getEditorPluginInfo()),"#session_id":e.get(za).sessionId,"#machine_id":e.get(za).machineId,"#architecture":Ex.arch(),"#os_platform":Ex.platform(),...t};return s.trackingId&&(a.user=s.trackingId,a["#tracking_id"]=s.trackingId),a}o(Kee,"buildContext");function Rq(e,t){var u,d,h,p;let r=e.get(pf),n=e.get(ml).getEditorInfo(),s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotIDEAgent",context:Kee(e,{"#node_version":process.versions.node}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,f=t;for(;f instanceof Error&&l<10;){let m=Gee(f);s.exception_detail.unshift(m),a.unshift([f,m]),l+=1,f=f.cause}let c=[];for(let[m,v]of a)if(v.stacktrace&&v.stacktrace.length>0){c.push(`${v.type}: ${(u=m.code)!=null?u:""}`);let x=[...v.stacktrace].reverse();for(let S of x)if((d=S.filename)!=null&&d.startsWith("./dist/"))return s;for(let S of x)if(S.in_app){c.push(`${(h=S.filename)==null?void 0:h.replace(/^\.\//,"")}:${S.lineno}:${S.colno}`);break}c.push(`${(p=x[0].filename)==null?void 0:p.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,Cx.SHA256)(Cx.enc.Utf16.parse(c.join(`
`))).toString()),s}o(Rq,"buildPayload");var Tx=class Tx{constructor(t){this.flags=t}static fromEnvironment(t){return new Tx({debug:Yee(process.argv,process.env),verboseLogging:Jee(process.env),telemetryLogging:Xee(process.env),testMode:t})}};o(Tx,"RuntimeMode");var x4=Tx;function n3(e){return e.get(x4).flags.testMode}o(n3,"isRunningInTest");function m9(e){return n3(e)}o(m9,"shouldFailForDebugPurposes");function Nq(e){return e.get(x4).flags.verboseLogging}o(Nq,"isVerboseLoggingEnabled");function Yee(e,t){return e.includes("--debug")||nA(t,"DEBUG")}o(Yee,"determineDebugFlag");function Jee(e){var t;return e.COPILOT_AGENT_VERBOSE==="1"||((t=e.COPILOT_AGENT_VERBOSE)==null?void 0:t.toLowerCase())==="true"||nA(e,"VERBOSE")}o(Jee,"determineVerboseLoggingEnabled");function Xee(e){return nA(e,"LOG_TELEMETRY")}o(Xee,"determineTelemetryLoggingEnabled");function nA(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||(n==null?void 0:n.toLowerCase())==="true"}return!1}o(nA,"determineEnvFlagEnabled");var iA=class iA{};o(iA,"NetworkConfiguration");var fc=iA;var Fq=Vi(Dq()),Mq=Vi(Bq()),du=Vi(require("os"));var Na=(s=>(s[s.DEBUG=4]="DEBUG",s[s.INFO=3]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=1]="ERROR",s))(Na||{}),sA=class sA{constructor(t){this.logVerbose=t}};o(sA,"LogVerbose");var s6=sA;function Oq(e){return e.get(s6).logVerbose}o(Oq,"verboseLogging");var oA=class oA{shouldLog(t,r){}};o(oA,"LogTarget");var o6=oA,aA=class aA extends o6{constructor(r){super();this.console=r}logIt(r,n,s,...a){n==1?this.console.error(s,...a):(n==2||Oq(r))&&this.console.warn(s,...a)}};o(aA,"ConsoleLog");var Ix=aA;var lA=class lA{constructor(t,r){this.maxLoggedLevel=t;this.context=r}setLevel(t){this.maxLoggedLevel=t}stringToLevel(t){return Na[t]}log(t,r,...n){let s=t.get(o6),a=s.shouldLog(t,r);if(a===!1||a===void 0&&!this.shouldLog(t,r,this.context))return;let l=`[${this.context}]`;s.logIt(t,r,l,...n)}sendErrorTelemetry(t,r,n){y9(t,r,ea.createAndMarkAsIssued({context:this.context,level:Na[1],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var f,c;if(Oq(t))return!0;let s=Cd(t,bd.DebugFilterLogCategories);if(s.length>0&&!s.includes(n))return!1;if(Iq(t))return r<=this.maxLoggedLevel;let a=Cd(t,bd.DebugOverrideLogLevels),l=(c=(f=this.stringToLevel(a["*"]))!=null?f:this.stringToLevel(a[this.context]))!=null?c:this.maxLoggedLevel;return r<=l}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let s=n;n.startsWith(".")&&(s=n.substring(1),n=`${this.context}${n}`),Fc(t,r,n);let a=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,1,`${s}:`,a)}};o(lA,"Logger");var Zi=lA;var p9=new Zi(3,"default");var fA=class fA{constructor(t,r,n,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var a;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(a=t.headers)!=null?a:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let s={method:"POST",headers:n,body:t.data};this.ctx.get(gl).fetch(t.urlString,s).then(l=>l.text().then(f=>{r(l.status,l.headers,f)})).catch(l=>{p9.error(this.ctx,"Error sending telemetry",l),r(0,{})})}};this.client=new Mq.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(fc).getTelemetryUrl(),extensionConfig:{[Fq.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Zee(t),this.commonProperties=Qee(t),t.get(lc).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let s=this.qualifyEventName(t);this.client.track({name:s,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:s,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(lc).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(fA,"AppInsightsReporter");var a6=fA;function Zee(e){let t={},r=e.get(za);t["ai.session.id"]=r.sessionId;let n=e.get(af);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${du.type()} ${du.release()}`,t["ai.device.osArchitecture"]=du.arch(),t["ai.device.osPlatform"]=du.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(pf).getVersion(),t}o(Zee,"getTags");function Qee(e){let t={};t.common_os=du.platform(),t.common_platformversion=du.release();let r=e.get(za);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}o(Qee,"getCommonProperties");var Uq="7d7048df-6dd0-4048-bb23-b716c1461f8f",qq="3fdd7f28-937a-48c8-9a21-ba337db23bd1",ete="f0000000-0000-0000-0000-000000000000",uA=class uA{constructor(){this._initialized=!1}get isInitialized(){return this._initialized}async initialize(t,r,n){let s=t.get(Uc).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let a=t.get(Uc);a.setReporter(new a6(t,r,Uq)),a.setRestrictedReporter(new a6(t,r,qq)),a.setFTReporter(new a6(t,r,ete,!0))}await s}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};o(uA,"TelemetryInitialization");var i3=uA;function cA(e,t,r){return e.get(i3).initialize(e,t,r)}o(cA,"setupTelemetryReporters");var dA=class dA{constructor(){this.promises=new Set}async register(t){return this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};o(dA,"PromiseQueue");var yf=dA;var hA=class hA extends yf{async awaitPromises(){await Promise.all(this.promises)}};o(hA,"TestPromiseQueue");var Px=hA;var gA=class gA{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,s){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};o(gA,"FailingTelemetryReporter");var v9=gA;var Hq=require("os"),Vq=Vi(require("path"));function x9(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(x9,"redactPaths");var tte=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),rte=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function pA(e){if(tte.has(e))return e;for(let t of rte)if(t.test(e))return e;return x9(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(pA,"redactMessage");function Rx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Rx,"escapeForRegExp");var nte=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+Rx((0,Hq.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function mA(e){return e.replace(nte,"~")}o(mA,"redactHomeDir");var zq="[\\\\/]?([^:)]*)(?=:\\d)",jq=new RegExp(Rx(Vq.sep),"g"),$q=new RegExp(Rx(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+zq,"gi");function yA(e,t,r=!1,n=[]){var f;let s=new Error(t(e));s.name=e.name,typeof e.syscall=="string"&&(s.syscall=e.syscall),typeof e.code=="string"&&(s.code=e.code),typeof e.errno=="number"&&(s.errno=e.errno),s.stack=void 0;let a=(f=e.stack)==null?void 0:f.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),l;for(let c of[e.toString(),`${e.name}: ${e.message}`])if(a!=null&&a.startsWith(c+`
`)){l=a.slice(c.length+1).split(/\n/);break}if(l){s.stack=s.toString();for(let c of l)if($q.test(c))s.stack+=`
${x9(c.replace($q,(u,d)=>"./"+d.replace(jq,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))s.stack+=`
${x9(c)}`;else{let u=!1;for(let{prefix:d,path:h}of n){let p=new RegExp(Rx(h.replace(/[\\/]$/,""))+zq,"gi");if(p.test(c)){s.stack+=`
${x9(c.replace(p,(m,v)=>d+v.replace(jq,"/")))}`,u=!0;break}}if(u)continue;r?s.stack+=`
${mA(c)}`:s.stack+=`
    at [redacted]:0:0`}}else r&&a&&(s.stack=mA(a));return e.cause instanceof Error&&(s.cause=yA(e.cause,t,r,n)),s}o(yA,"cloneError");function Gq(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(Gq,"errorMessageWithoutPath");function Kq(e,t){return yA(e,o(function(n){return mA(Gq(n))},"prepareMessage"),!0,t)}o(Kq,"prepareErrorForRestrictedTelemetry");function vA(e,t,r=!1){return yA(e,o(function(s){if(r)return pA(Gq(s));let a="[redacted]";return s.syscall&&s.code!==void 0?a=`${x9(s.syscall.toString())} ${s.code} ${a}`:s instanceof c9&&s.erroredSysCall&&s.code!==void 0?a=`${s.erroredSysCall} ${s.code} ${a}`:s.code!==void 0&&(a=`${s.code} ${a}`),a},"prepareMessage"),!1,t)}o(vA,"redactError");function l6(e){return e===1}o(l6,"isRestricted");var ite=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var CA=class CA{getReporter(t,r=0){return l6(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(Lx(t))return this.reporterRestricted;if(m9(t))return new v9}getFTReporter(t){if(Wq(t))return this.reporterFT;if(m9(t))return new v9}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};o(CA,"TelemetryReporters");var Uc=CA,ste=Ed.Type.Object({},{additionalProperties:Ed.Type.String()}),ote=Ed.Type.Object({meanLogProb:Ed.Type.Optional(Ed.Type.Number()),meanAlternativeLogProb:Ed.Type.Optional(Ed.Type.Number())},{additionalProperties:Ed.Type.Number()}),ate=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function lte(e){var t;return ate.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(lte,"isOomError");function fte(e){return II(e)?"network":lte(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(fte,"getErrorType");var tl=class tl{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new tl(t||{},r||{},Td())}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},a=new tl(n,s,this.issuedTime);return a.displayedTime=this.displayedTime,a}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Td())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(Ga).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=uu(t.get(ml).getEditorInfo()),this.properties.editor_plugin_version=uu(t.get(ml).getEditorPluginInfo());let r=t.get(za);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${Pq(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(ml);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=uu(n.getEditorInfo());let s=t.get(gl);this.properties.fetcher=s.name;let a=s.proxySettings;this.properties.proxy_enabled=a?"true":"false",this.properties.proxy_auth=a!=null&&a.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=a!=null&&a.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=wq(t);r["copilot.build"]=Aq(t),r["copilot.buildType"]=GI(t);let n=t.get(af);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(l6(t))return r;let n={};for(let s in r)tl.keysToRemoveFromStandardTelemetryHack.includes(s)||(n[s]=r[s]);return n}sanitizeKeys(){this.properties=tl.sanitizeKeys(this.properties),this.measurements=tl.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let s=tl.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[s]=t[n]}return r}updateMeasurements(){let t=Td()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=Td()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=dte())}validateData(t,r){var s;let n;if(tl.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...tl.validateTelemetryProperties.Errors(this.properties)])}),!tl.validateTelemetryMeasurements.Check(this.measurements)){let a=JSON.stringify([...tl.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:a}:(n.problem="both",n.error+=`; ${a}`)}if(n===void 0)return!0;if(m9(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return y9(t,"invalidTelemetryData",tl.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),l6(r)&&y9(t,"invalidTelemetryData_in_secure",tl.createAndMarkAsIssued({problem:n.problem,requestId:(s=this.properties.requestId)!=null?s:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),mte(t,this.properties)}};o(tl,"TelemetryData"),tl.validateTelemetryProperties=xA.TypeCompiler.Compile(ste),tl.validateTelemetryMeasurements=xA.TypeCompiler.Compile(ote),tl.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],tl.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var ea=tl,_9=class _9 extends ea{constructor(t,r,n,s){super(t,r,n),this.filtersAndExp=s}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},a=new _9(n,s,this.issuedTime,this.filtersAndExp);return a.displayedTime=this.displayedTime,a}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new _9({},{},0,{filters:new y4({}),exp:C1.createEmptyConfig()})}};o(_9,"TelemetryWithExp");var h9=_9;function Nx(e,t,r,n){var s;(s=e.get(Uc).getReporter(e,t))==null||s.sendTelemetryEvent(r,ea.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Nx,"sendTelemetryEvent");function cte(e,t,r,n){var s;(s=e.get(Uc).getReporter(e,t))==null||s.sendTelemetryErrorEvent(r,ea.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(cte,"sendTelemetryErrorEvent");function ute(e,t,r,n){var s;(s=e.get(Uc).getFTReporter(e))==null||s.sendTelemetryEvent(r,ea.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(ute,"sendFTTelemetryEvent");function bA(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(bA,"telemetrizePromptLength");function Td(){return Date.now()}o(Td,"now");function dte(){return Math.floor(Td()/1e3)}o(dte,"nowSeconds");function Lx(e){return e.get(af).optedIn}o(Lx,"shouldSendRestricted");function Wq(e){return e.get(af).ftFlag!==""}o(Wq,"shouldSendFinetuningTelemetry");async function ms(e,t,r,n){await e.get(yf).register(hte(e,t,r,n))}o(ms,"telemetry");async function hte(e,t,r,n=0){let s=r||ea.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!l6(n)||Lx(e))&&Nx(e,n,t,s),l6(n)&&ite.includes(t)&&Wq(e)&&ute(e,n,t,s)}o(hte,"_telemetry");async function QM(e,t){await e.get(yf).register(gte(e,t))}o(QM,"telemetryExpProblem");async function gte(e,t){let r="expProblem",n=ea.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),Nx(e,0,r,n)}o(gte,"_telemetryExpProblem");function mte(e,t){t.unique_id=Q2();let r=e.get(ml);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=uu(r.getEditorInfo())}o(mte,"addRequiredProperties");var EA=class EA extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError",this.code=(0,kx.SHA256)(kx.enc.Utf16.parse(this.message)).toString().slice(0,16)}};o(EA,"CopilotNonError");var _A=EA;async function Fc(e,t,r,n,s){var l;let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof hd||a instanceof Dx.ConnectionError||a instanceof Dx.ResponseError)return}else{if(a=new _A(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if((l=a.stack)!=null&&l.startsWith(`${a}
`)){let f=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(f[0])&&f.shift(),a.stack=`${a}
${f.join(`
`)}`}}await e.get(yf).register(pte(e,a,r,n,s))}o(Fc,"telemetryException");async function pte(e,t,r,n,s){var p,m;let a=e.get(ml).getEditorInfo(),l;a.root&&(l=[{prefix:`${a.name}:`,path:a.root}]);let f=vA(t,l),c=Lx(e),u=fte(t),d=u==="exception",h=ea.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:f.stack||f.toString(),message:f.message,...n});if(await h.makeReadyForSending(e,0,"IncludeExp"),s!=null&&s.exception_detail)for(let v of s.exception_detail)v.value&&(c?v.value=pA(v.value):v.value="[redacted]");if(s!=null||(s=Rq(e,vA(t,l,c))),s.context={...s.context,"copilot_event.unique_id":h.properties.unique_id,"#restricted_telemetry":c?"true":"false"},r&&(s.context["#origin"]=r,s.transaction=r),s.rollup_id!=="auto"&&(h.properties.errno=s.rollup_id),s.created_at=new Date(h.issuedTime).toISOString(),c){let v=Kq(t,l),x=ea.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(m=t.code)!=null?m:""}`,reason:v.stack||v.toString(),message:v.message,...n});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp"),x.properties.unique_id=h.properties.unique_id,h.properties.restricted_unique_id=x.properties.unique_id,Nx(e,1,`error.${u}`,x)}d&&(h.properties.failbot_payload=JSON.stringify(s)),Nx(e,0,`error.${u}`,h)}o(pte,"_telemetryException");async function y9(e,t,r,n){await e.get(yf).register(yte(e,t,r,n))}o(y9,"telemetryError");async function yte(e,t,r,n=0){if(l6(n)&&!Lx(e))return;let s=r||ea.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n,"IncludeExp"),cte(e,n,t,s)}o(yte,"_telemetryError");async function Yq(e,t,r,n,s){var l;let a=ea.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:s.toString()});if(r.logprobs)for(let[f,c]of Object.entries(r.logprobs))a.properties["logprobs_"+f]=(l=JSON.stringify(c))!=null?l:"unset";a.extendWithRequestId(n),await ms(e,"engine.completion",a,1)}o(Yq,"logEngineCompletion");async function Jq(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let s=r.extendedBy(n);await ms(e,"engine.prompt",s,1)}o(Jq,"logEnginePrompt");var TA=class TA{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?ms(t,"installed.reinstall"):ms(t,"installed.new")}async handleUpgrade(t){ms(t,"installed.upgrade")}async handleUninstall(t){ms(t,"uninstalled")}};o(TA,"InstallationManager");var Bx=TA;var SA=class SA extends Bx{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};o(SA,"VsCodeUninstallationManager");var Ox=SA;var wK=require("child_process");var zk=Vi(gd());var wA=class wA{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};o(wA,"Context");var Fx=wA;var IA=class IA{};o(IA,"NotificationSender");var b9=IA;var T3e=cj(),BA=class BA{};o(BA,"UrlOpener");var C9=BA;var Pte=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],uj="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",dj="https://gh.io/copilot-network-errors",OA=class OA{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){Pte.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new Zi(1,"certificates").error(t,`${uj} Please visit ${dj} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(b9).showWarningMessage(uj,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(C9).open(dj)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};o(OA,"UserErrorNotifier");var _4=OA;var FA=class FA{constructor(){this._cache=new ga(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};o(FA,"CompletionsCache");var c6=FA;var MA=class MA{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};o(MA,"ContextualFilterManager");var u6=MA;var Nie=Vi(gd()),kie=Vi(jm());var UA=class UA{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};o(UA,"Debouncer");var $x=UA;async function*hj(e,t){for await(let r of e)yield t(r)}o(hj,"asyncIterableMap");async function*gj(e,t){for await(let r of e)await t(r)&&(yield r)}o(gj,"asyncIterableFilter");var mj=require("events");var a2e=new Zi(3,"auth");var T2e=new Zi(3,"auth"),jA=class jA{constructor(){this.tokenRefreshEventEmitter=new mj.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};o(jA,"CopilotTokenManager");var vf=jA;var $A="copilot-codex",Nte=new Zi(4,"customModels"),HA=class HA{async getModels(t){let r=await t.get(vf).getCopilotToken(t);return new Hx(r)}logModelsForToken(t,r){let s=new Hx(r).getModelIds();s.length>1&&s.forEach(a=>Nte.info(t,`Available model: ${a}`))}};o(HA,"AvailableModelManager");var b4=HA,VA=class VA{constructor(t){this.token=t}getModelIds(){var r,n;return[...(n=(r=this.token.getTokenValue("cml"))==null?void 0:r.split(","))!=null?n:[],$A]}async getModelForResource(t,r,n=void 0){let s=Cd(t,bd.DebugOverrideEngine);if(s)return new T9(s,$A===s);if(n){let l=t.get(Ga).customEngine(n);if(l)return new T9(l,$A===l)}let a=this.getModelIds();return new T9(a[0])}};o(VA,"AvailableModels");var Hx=VA,zA=class zA{constructor(t,r=!1){this.modelId=t;this.forceBaseModel=r}get path(){return`/v1/engines/${encodeURIComponent(this.modelId)}`}get headers(){return this.forceBaseModel?{"X-Custom-Model":"disable"}:{}}};o(zA,"ModelRequestInfo");var T9=zA;var Fj=Vi(require("util"));var GA=class GA{};o(GA,"StatusReporter");var Sd=GA;var kj=Vi(Pj()),I9=require("path"),Kx=Vi(s3());var JA=require("os"),Vx=require("path"),d6=Vi(s3());function S9(e){return Rj(e)}o(S9,"isSupportedUriScheme");function Rj(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}o(Rj,"isFsScheme");function Nj(e){return Rj(e.scheme)&&(!e.authority||(0,JA.platform)()=="win32")}o(Nj,"isFsUri");function zx(e){if(Nj(e))if((0,JA.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,Vx.normalize)(t)}else return e.authority?void 0:e.path}o(zx,"getFsPath");function w9(e,t){return Nj(e)?d6.URI.file((0,Vx.resolve)(zx(e),t)):d6.Utils.resolvePath(e,Kte(t))}o(w9,"resolveFilePath");function Kte(e){return Wte(e)?e.replaceAll("\\","/"):e}o(Kte,"pathToURIPath");function Wte(e){return/^[^/\\]*\\/.test(e)}o(Wte,"isWinPath");function Gx(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?d6.Utils.dirname(e).with({scheme:"file",fragment:""}):d6.Utils.dirname(e)}o(Gx,"dirname");var XA=class XA{};o(XA,"FileSystem");var hu=XA;function QA(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(QA,"tryGetGitHubNWO");var l4e=Qte(Yte,1e4);async function Yte(e,t){var c;if(!S9(t.scheme))return;let r=await Xte(e,t.fsPath);if(!r)return;let n=e.get(hu),s=(0,I9.join)(r,".git","config"),a;try{a=await n.readFileString(Kx.URI.file(s))}catch{return}let l=(c=Zte(a))!=null?c:"",f=Jte(l);return f===void 0?{baseFolder:r,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:l,...f}}o(Yte,"extractRepoInfo");function Jte(e){let t={};try{if(t=(0,kj.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}o(Jte,"parseRepoUrl");async function Xte(e,t){let r=t+"_add_to_make_longer",n=e.get(hu);for(;t.length>1&&t.length<r.length;){let s=(0,I9.join)(t,".git","config"),a=!1;try{await n.stat(Kx.URI.file(s)),a=!0}catch{a=!1}if(a)return t;r=t,t=(0,I9.dirname)(t)}}o(Xte,"getRepoBaseFolder");function Zte(e){var c;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,s=/^\s*\[/,a,l,f=!1;for(let u of e.split(`
`))if(f&&a!==void 0){if(a+=u,u.endsWith("\\"))a=a.substring(0,a.length-1);else if(f=!1,l==="origin")return a}else{let d=(c=u.match(t))!=null?c:u.match(r);if(d)l=d[1];else if(u.match(s))l=void 0;else{if(a&&l!=="origin")continue;{let h=u.match(n);if(h){if(a=h[1],a.endsWith("\\"))a=a.substring(0,a.length-1),f=!0;else if(l==="origin")return a}}}}return a}o(Zte,"getRepoUrlFromConfigText");var eP=class eP{constructor(t){this.result=t}};o(eP,"CompletedComputation");var ZA=eP;function Qte(e,t){let r=new ga(t),n=new Set;return(s,...a)=>{let l=JSON.stringify(a),f=r.get(l);if(f)return f.result;if(n.has(l))return 0;let c=e(s,...a);return n.add(l),c.then(u=>{r.set(l,new ZA(u)),n.delete(l)}),0}}o(Qte,"computeInBackgroundAndMemoize");function Dj(e,t,r,n,s,a,l,f){return Yq(e,t,r,s,n),{completionText:t,meanLogProb:e0e(e,r),meanAlternativeLogProb:t0e(e,r),choiceIndex:n,requestId:s,modelInfo:f,blockFinished:a,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:l}}o(Dj,"convertToAPIChoice");function e0e(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,s=0,a=50;for(let l=0;l<t.logprobs.token_logprobs.length-1&&a>0;l++,a--)n+=t.logprobs.token_logprobs[l],s+=1;return s>0?n/s:void 0}catch(n){p9.exception(e,n,"Error calculating mean prob")}}o(e0e,"calculateMeanLogProb");function t0e(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,s=0,a=50;for(let l=0;l<t.logprobs.token_logprobs.length-1&&a>0;l++,a--){let f={...t.logprobs.top_logprobs[l]};delete f[t.logprobs.tokens[l]],n+=Math.max(...Object.values(f)),s+=1}return s>0?n/s:void 0}catch(n){p9.exception(e,n,"Error calculating mean prob")}}o(t0e,"calculateMeanAlternativeLogProb");function tP(e,t){return n3(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(tP,"getTemperatureForSamples");var r0e={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function Lj(e,t){var r;return(r=r0e[t!=null?t:""])!=null?r:[`


`,"\n```"]}o(Lj,"getStops");function Bj(e){return 1}o(Bj,"getTopP");function rP(e){return 500}o(rP,"getMaxSolutionTokens");var qf=new Zi(3,"streamChoices"),lP=class lP{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new sP;this.function_call=new iP}append(t){var r,n,s,a,l,f,c;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((s=t.logprobs.text_offset)!=null?s:[]),this.logprobs.push((a=t.logprobs.token_logprobs)!=null?a:[]),this.top_logprobs.push((l=t.logprobs.top_logprobs)!=null?l:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(f=t.delta)!=null&&f.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(c=t.delta)!=null&&c.function_call&&this.function_call.update(t.delta.function_call)}};o(lP,"APIJsonDataStreaming");var nP=lP;function i0e(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(i0e,"splitChunk");var fP=class fP{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};o(fP,"StreamingFunctionCall");var iP=fP,cP=class cP{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(s=>this.update_namespace(r,s))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],s=n.findIndex(a=>a.id===r.id);s>=0?n[s]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};o(cP,"StreamCopilotAnnotations");var sP=cP,Yx=class Yx{constructor(t,r,n,s,a,l,f,c){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=s;this.telemetryData=a;this.dropCompletionReasons=l;this.fastCancellation=f;this.cancellationToken=c;this.requestId=A9(this.response);this.stats=new oP(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,s,a,l){let f=await n.body();f.setEncoding("utf8");let c=t.get(Ga).fastCancellation(s);return new Yx(t,r,n,f,s,a!=null?a:["content_filter"],c,l)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),qf.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),qf.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,s,a,l,f;let r="";e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;qf.debug(this.ctx,"chunk",c.toString());let[u,d]=i0e(r+c.toString());r=d;for(let h of u){let p=h.slice(5).trim();if(p=="[DONE]"){yield*this.finishSolutions();return}let m;try{m=JSON.parse(p)}catch{qf.error(this.ctx,"Error parsing JSON stream data",h);continue}if(m.choices===void 0){m.error!==void 0?qf.error(this.ctx,"Error in response:",m.error.message):qf.error(this.ctx,"Unexpected response with no choices or error: "+p);continue}if(this.requestId.created==0&&(this.requestId=A9(this.response,m),this.requestId.created===0&&((n=m.choices)!=null&&n.length)&&qf.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let v=0;v<m.choices.length;v++){let x=m.choices[v];qf.debug(this.ctx,"choice",x),this.stats.add(x.index),x.index in this.solutions||(this.solutions[x.index]=new nP);let S=this.solutions[x.index];if(S==null)continue;S.append(x);let E,R=((s=x.text)==null?void 0:s.indexOf(`
`))>-1||((l=(a=x.delta)==null?void 0:a.content)==null?void 0:l.indexOf(`
`))>-1;if((x.finish_reason||R)&&(E=await t(S.text.join(""),S.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(x.finish_reason||E!==void 0))continue;let O=(f=x.finish_reason)!=null?f:"client-trimmed";if(ms(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:O})),this.dropCompletionReasons.includes(x.finish_reason)?this.solutions[x.index]=null:(this.stats.markYielded(x.index),yield{solution:S,finishOffset:E,reason:x.finish_reason,requestId:this.requestId,index:x.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[x.index]=null}}}for(let[c,u]of Object.entries(this.solutions)){let d=Number(c);if(u!=null&&(this.stats.markYielded(d),yield{solution:u,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:d},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&qf.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{qf.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(qf.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};o(Yx,"SSEProcessor");var Wx=Yx;function Oj(e,t,r){let n=t.solution.text.join(""),s=!1;t.finishOffset!==void 0&&(qf.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),s=!0),qf.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),qf.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let a=s0e(t.solution);return Dj(e,n,a,t.index,t.requestId,s,r)}o(Oj,"prepareSolutionForReturn");function s0e(e){let t=e.text.join(""),r=o0e(e),n={text:t,tokens:e.text,function_call:r};if(e.logprobs.length===0)return n;let s=e.logprobs.reduce((c,u)=>c.concat(u),[]),a=e.top_logprobs.reduce((c,u)=>c.concat(u),[]),l=e.text_offset.reduce((c,u)=>c.concat(u),[]),f=e.tokens.reduce((c,u)=>c.concat(u),[]);return{...n,logprobs:{token_logprobs:s,top_logprobs:a,text_offset:l,tokens:f}}}o(s0e,"convertToAPIJsonData");function o0e(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t}}}o(o0e,"extractFunctionCall");var uP=class uP{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new aP)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};o(uP,"ChunkStats");var oP=uP,dP=class dP{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};o(dP,"ChoiceStats");var aP=dP;var cc=new Zi(3,"fetchCompletions");function A9(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(A9,"getRequestId");function a0e(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(a0e,"getProcessingTime");function hP(e,t){let r=t.split("/").pop();return r||(cc.error(e,"Malformed engine URL: "+t),t)}o(hP,"extractEngineName");function l0e(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(l0e,"uiKindToIntent");var gP=class gP{};o(gP,"OpenAIFetcher");var C4=gP;function f0e(e,t,r,n,s,a,l,f,c,u,d){var S;let h=e.get(Sd),p=Fj.format("%s/%s",r,n);if(!l){cc.error(e,`Failed to send request to ${p} due to missing key`);return}let m=ea.createAndMarkAsIssued({endpoint:n,engineName:hP(e,r),uiKind:f},bA(t));u&&(m=m.extendedBy(u));for(let[E,R]of Object.entries(a))E=="prompt"||E=="suffix"||(m.properties[`request.option.${E}`]=(S=JSON.stringify(R))!=null?S:"undefined");m.properties.headerRequestId=s,ms(e,"request.sent",m);let v=Td(),x=l0e(f);return AI(e,p,l,x,s,a,c,d).then(E=>{let R=A9(E,void 0);m.extendWithRequestId(R);let B=Td()-v;return m.measurements.totalTimeMs=B,cc.info(e,`request.response: [${p}] took ${B} ms`),cc.debug(e,"request.response properties",m.properties),cc.debug(e,"request.response measurements",m.measurements),cc.debug(e,"prompt:",t),ms(e,"request.response",m),E}).catch(E=>{var O,L,F,ve;if(wI(E))throw E;h.setWarning(E.message);let R=m.extendedBy({error:"Network exception"});ms(e,"request.shownWarning",R),m.properties.message=String((O=E.name)!=null?O:""),m.properties.code=String((L=E.code)!=null?L:""),m.properties.errno=String((F=E.errno)!=null?F:""),m.properties.type=String((ve=E.type)!=null?ve:"");let B=Td()-v;throw m.measurements.totalTimeMs=B,cc.debug(e,`request.response: [${p}] took ${B} ms`),cc.debug(e,"request.error properties",m.properties),cc.debug(e,"request.error measurements",m.measurements),ms(e,"request.error",m),E}).finally(()=>{Jq(e,t,m)})}o(f0e,"fetchWithInstrumentation");function c0e(e,t){return t!=null&&t?e:gj(e,async r=>r.completionText.trim().length>0)}o(c0e,"postProcessChoices");var mP=class mP extends C4{async fetchAndStreamCompletions(t,r,n,s,a,l){let f=t.get(Sd),c="completions",u=await this.fetchWithParameters(t,c,r,n,a,l);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a!=null&&a.isCancellationRequested){let v=await u.body();try{v.destroy()}catch(x){cc.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u===void 0){let v=this.createTelemetryData(c,t,r);return f.setWarning(),v.properties.error="Response was undefined",ms(t,"request.shownWarning",v),{type:"failed",reason:"fetch response was undefined"}}if(u.status!==200){let v=this.createTelemetryData(c,t,r);return this.handleError(t,f,v,u)}let d=t.get(Ga).dropCompletionReasons(n),p=(await Wx.create(t,r.count,u,n,d,a)).processSSE(s),m=hj(p,async v=>Oj(t,v,n));return{type:"success",choices:c0e(m,r.allowEmptyChoices),getProcessingTime:()=>a0e(u)}}createTelemetryData(t,r,n){return ea.createAndMarkAsIssued({endpoint:t,engineName:hP(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,s,a,l){let f=t.get(Ga).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:rP(t),temperature:tP(t,n.count),top_p:Bj(t),n:n.count,stop:Lj(t,n.languageId)};(n.requestLogProbs||!f)&&(c.logprobs=2);let u=QA(n.repoInfo);return u!==void 0&&(c.nwo=u),n.postOptions&&Object.assign(c,n.postOptions),await new Promise((h,p)=>{setImmediate(h)}),a!=null&&a.isCancellationRequested?"not-sent":await f0e(t,n.prompt,n.engineUrl,r,n.ourRequestId,c,(await t.get(vf).getCopilotToken(t)).token,n.uiKind,a,l,n.headers)}async handleError(t,r,n,s){if(r.setWarning(),n.properties.error=`Response status was ${s.status}`,n.properties.status=String(s.status),ms(t,"request.shownWarning",n),s.status===401||s.status===403)return t.get(vf).resetCopilotToken(t,s.status),{type:"failed",reason:`token expired or invalid: ${s.status}`};if(s.status===499)return cc.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let a=await s.text();return s.status===466?(r.setError(a),cc.info(t,a),{type:"failed",reason:`client not supported: ${a}`}):(cc.error(t,"Unhandled status from server:",s.status,a),{type:"failed",reason:`unhandled status from server: ${s.status} ${a}`})}};o(mP,"LiveOpenAIFetcher");var P9=mP;var R9=class R9{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(R9.isIncremental(n)){let s=Uj(n.range),a=this.offsetAt(s.start),l=this.offsetAt(s.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(l,this._content.length);let f=Math.max(s.start.line,0),c=Math.max(s.end.line,0),u=this._lineOffsets,d=Mj(n.text,!1,a);if(c-f===d.length)for(let p=0,m=d.length;p<m;p++)u[p+f+1]=d[p];else d.length<1e4?u.splice(f+1,c-f,...d):this._lineOffsets=u=u.slice(0,f+1).concat(d,u.slice(c+1));let h=n.text.length-(l-a);if(h!==0)for(let p=f+1+d.length,m=u.length;p<m;p++)u[p]=u[p]+h}else if(R9.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Mj(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return{line:0,character:t};for(;n<s;){let l=Math.floor((n+s)/2);r[l]>t?s=l:n=l+1}let a=n-1;return{line:a,character:t-r[a]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};o(R9,"FullTextDocument");var Jx=R9,pP;(function(e){function t(s,a,l,f){return new Jx(s,a,l,f)}o(t,"create"),e.create=t;function r(s,a,l){if(s instanceof Jx)return s.update(a,l),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(s,a){let l=s.getText(),f=yP(a.map(u0e),(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),c=0,u=[];for(let d of f){let h=s.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&u.push(l.substring(c,h)),d.newText.length&&u.push(d.newText),c=s.offsetAt(d.range.end)}return u.push(l.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(pP||(pP={}));function yP(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);yP(n,t),yP(s,t);let a=0,l=0,f=0;for(;a<n.length&&l<s.length;)t(n[a],s[l])<=0?e[f++]=n[a++]:e[f++]=s[l++];for(;a<n.length;)e[f++]=n[a++];for(;l<s.length;)e[f++]=s[l++];return e}o(yP,"mergeSort");function Mj(e,t,r=0){let n=t?[r]:[];for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);(a===13||a===10)&&(a===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,n.push(r+s+1))}return n}o(Mj,"computeLineOffsets");function Uj(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(Uj,"getWellformedRange");function u0e(e){let t=Uj(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(u0e,"getWellformedEdit");var qj;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(qj||(qj={}));var vP;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(vP||(vP={}));var jj;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(jj||(jj={}));var Xx;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Xx||(Xx={}));var qc;(function(e){function t(n,s){return n===Number.MAX_VALUE&&(n=Xx.MAX_VALUE),s===Number.MAX_VALUE&&(s=Xx.MAX_VALUE),{line:n,character:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.line)&&p0.uinteger(s.character)}o(r,"is"),e.is=r})(qc||(qc={}));var Ia;(function(e){function t(n,s,a,l){if(p0.uinteger(n)&&p0.uinteger(s)&&p0.uinteger(a)&&p0.uinteger(l))return{start:qc.create(n,s),end:qc.create(a,l)};if(qc.is(n)&&qc.is(s))return{start:n,end:s};throw new Error(`Range#create called with invalid arguments[${n}, ${s}, ${a}, ${l}]`)}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&qc.is(s.start)&&qc.is(s.end)}o(r,"is"),e.is=r})(Ia||(Ia={}));var Zx;(function(e){function t(n,s){return{uri:n,range:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Ia.is(s.range)&&(p0.string(s.uri)||p0.undefined(s.uri))}o(r,"is"),e.is=r})(Zx||(Zx={}));var $j;(function(e){function t(n,s,a,l){return{targetUri:n,targetRange:s,targetSelectionRange:a,originSelectionRange:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Ia.is(s.targetRange)&&p0.string(s.targetUri)&&Ia.is(s.targetSelectionRange)&&(Ia.is(s.originSelectionRange)||p0.undefined(s.originSelectionRange))}o(r,"is"),e.is=r})($j||($j={}));var xP;(function(e){function t(n,s,a,l){return{red:n,green:s,blue:a,alpha:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.numberRange(s.red,0,1)&&p0.numberRange(s.green,0,1)&&p0.numberRange(s.blue,0,1)&&p0.numberRange(s.alpha,0,1)}o(r,"is"),e.is=r})(xP||(xP={}));var Hj;(function(e){function t(n,s){return{range:n,color:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Ia.is(s.range)&&xP.is(s.color)}o(r,"is"),e.is=r})(Hj||(Hj={}));var Vj;(function(e){function t(n,s,a){return{label:n,textEdit:s,additionalTextEdits:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.undefined(s.textEdit)||g6.is(s))&&(p0.undefined(s.additionalTextEdits)||p0.typedArray(s.additionalTextEdits,g6.is))}o(r,"is"),e.is=r})(Vj||(Vj={}));var zj;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(zj||(zj={}));var Gj;(function(e){function t(n,s,a,l,f,c){let u={startLine:n,endLine:s};return p0.defined(a)&&(u.startCharacter=a),p0.defined(l)&&(u.endCharacter=l),p0.defined(f)&&(u.kind=f),p0.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.startLine)&&p0.uinteger(s.startLine)&&(p0.undefined(s.startCharacter)||p0.uinteger(s.startCharacter))&&(p0.undefined(s.endCharacter)||p0.uinteger(s.endCharacter))&&(p0.undefined(s.kind)||p0.string(s.kind))}o(r,"is"),e.is=r})(Gj||(Gj={}));var _P;(function(e){function t(n,s){return{location:n,message:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Zx.is(s.location)&&p0.string(s.message)}o(r,"is"),e.is=r})(_P||(_P={}));var Kj;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Kj||(Kj={}));var Wj;(function(e){e.Unnecessary=1,e.Deprecated=2})(Wj||(Wj={}));var Yj;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&p0.string(n.href)}o(t,"is"),e.is=t})(Yj||(Yj={}));var Qx;(function(e){function t(n,s,a,l,f,c){let u={range:n,message:s};return p0.defined(a)&&(u.severity=a),p0.defined(l)&&(u.code=l),p0.defined(f)&&(u.source=f),p0.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var s;let a=n;return p0.defined(a)&&Ia.is(a.range)&&p0.string(a.message)&&(p0.number(a.severity)||p0.undefined(a.severity))&&(p0.integer(a.code)||p0.string(a.code)||p0.undefined(a.code))&&(p0.undefined(a.codeDescription)||p0.string((s=a.codeDescription)===null||s===void 0?void 0:s.href))&&(p0.string(a.source)||p0.undefined(a.source))&&(p0.undefined(a.relatedInformation)||p0.typedArray(a.relatedInformation,_P.is))}o(r,"is"),e.is=r})(Qx||(Qx={}));var h6;(function(e){function t(n,s,...a){let l={title:n,command:s};return p0.defined(a)&&a.length>0&&(l.arguments=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.title)&&p0.string(s.command)}o(r,"is"),e.is=r})(h6||(h6={}));var g6;(function(e){function t(a,l){return{range:a,newText:l}}o(t,"replace"),e.replace=t;function r(a,l){return{range:{start:a,end:a},newText:l}}o(r,"insert"),e.insert=r;function n(a){return{range:a,newText:""}}o(n,"del"),e.del=n;function s(a){let l=a;return p0.objectLiteral(l)&&p0.string(l.newText)&&Ia.is(l.range)}o(s,"is"),e.is=s})(g6||(g6={}));var bP;(function(e){function t(n,s,a){let l={label:n};return s!==void 0&&(l.needsConfirmation=s),a!==void 0&&(l.description=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(p0.string(s.description)||s.description===void 0)}o(r,"is"),e.is=r})(bP||(bP={}));var m6;(function(e){function t(r){let n=r;return p0.string(n)}o(t,"is"),e.is=t})(m6||(m6={}));var Jj;(function(e){function t(a,l,f){return{range:a,newText:l,annotationId:f}}o(t,"replace"),e.replace=t;function r(a,l,f){return{range:{start:a,end:a},newText:l,annotationId:f}}o(r,"insert"),e.insert=r;function n(a,l){return{range:a,newText:"",annotationId:l}}o(n,"del"),e.del=n;function s(a){let l=a;return g6.is(l)&&(bP.is(l.annotationId)||m6.is(l.annotationId))}o(s,"is"),e.is=s})(Jj||(Jj={}));var CP;(function(e){function t(n,s){return{textDocument:n,edits:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&IP.is(s.textDocument)&&Array.isArray(s.edits)}o(r,"is"),e.is=r})(CP||(CP={}));var EP;(function(e){function t(n,s,a){let l={kind:"create",uri:n};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="create"&&p0.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||m6.is(s.annotationId))}o(r,"is"),e.is=r})(EP||(EP={}));var TP;(function(e){function t(n,s,a,l){let f={kind:"rename",oldUri:n,newUri:s};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(f.options=a),l!==void 0&&(f.annotationId=l),f}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="rename"&&p0.string(s.oldUri)&&p0.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||m6.is(s.annotationId))}o(r,"is"),e.is=r})(TP||(TP={}));var SP;(function(e){function t(n,s,a){let l={kind:"delete",uri:n};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="delete"&&p0.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||p0.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||p0.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||m6.is(s.annotationId))}o(r,"is"),e.is=r})(SP||(SP={}));var wP;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(s=>p0.string(s.kind)?EP.is(s)||TP.is(s)||SP.is(s):CP.is(s)))}o(t,"is"),e.is=t})(wP||(wP={}));var Xj;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)}o(r,"is"),e.is=r})(Xj||(Xj={}));var Zj;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.integer(s.version)}o(r,"is"),e.is=r})(Zj||(Zj={}));var IP;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&(s.version===null||p0.integer(s.version))}o(r,"is"),e.is=r})(IP||(IP={}));var Qj;(function(e){function t(n,s,a,l){return{uri:n,languageId:s,version:a,text:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.string(s.languageId)&&p0.integer(s.version)&&p0.string(s.text)}o(r,"is"),e.is=r})(Qj||(Qj={}));var AP;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(AP||(AP={}));var N9;(function(e){function t(r){let n=r;return p0.objectLiteral(r)&&AP.is(n.kind)&&p0.string(n.value)}o(t,"is"),e.is=t})(N9||(N9={}));var e$;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(e$||(e$={}));var t$;(function(e){e.PlainText=1,e.Snippet=2})(t$||(t$={}));var r$;(function(e){e.Deprecated=1})(r$||(r$={}));var n$;(function(e){function t(n,s,a){return{newText:n,insert:s,replace:a}}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.newText)&&Ia.is(s.insert)&&Ia.is(s.replace)}o(r,"is"),e.is=r})(n$||(n$={}));var i$;(function(e){e.asIs=1,e.adjustIndentation=2})(i$||(i$={}));var s$;(function(e){function t(r){let n=r;return n&&(p0.string(n.detail)||n.detail===void 0)&&(p0.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(s$||(s$={}));var o$;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(o$||(o$={}));var a$;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(a$||(a$={}));var e_;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let s=n;return p0.string(s)||p0.objectLiteral(s)&&p0.string(s.language)&&p0.string(s.value)}o(r,"is"),e.is=r})(e_||(e_={}));var l$;(function(e){function t(r){let n=r;return!!n&&p0.objectLiteral(n)&&(N9.is(n.contents)||e_.is(n.contents)||p0.typedArray(n.contents,e_.is))&&(r.range===void 0||Ia.is(r.range))}o(t,"is"),e.is=t})(l$||(l$={}));var f$;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(f$||(f$={}));var c$;(function(e){function t(r,n,...s){let a={label:r};return p0.defined(n)&&(a.documentation=n),p0.defined(s)?a.parameters=s:a.parameters=[],a}o(t,"create"),e.create=t})(c$||(c$={}));var u$;(function(e){e.Text=1,e.Read=2,e.Write=3})(u$||(u$={}));var d$;(function(e){function t(r,n){let s={range:r};return p0.number(n)&&(s.kind=n),s}o(t,"create"),e.create=t})(d$||(d$={}));var h$;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(h$||(h$={}));var g$;(function(e){e.Deprecated=1})(g$||(g$={}));var m$;(function(e){function t(r,n,s,a,l){let f={name:r,kind:n,location:{uri:a,range:s}};return l&&(f.containerName=l),f}o(t,"create"),e.create=t})(m$||(m$={}));var p$;(function(e){function t(r,n,s,a){return a!==void 0?{name:r,kind:n,location:{uri:s,range:a}}:{name:r,kind:n,location:{uri:s}}}o(t,"create"),e.create=t})(p$||(p$={}));var y$;(function(e){function t(n,s,a,l,f,c){let u={name:n,detail:s,kind:a,range:l,selectionRange:f};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.name)&&p0.number(s.kind)&&Ia.is(s.range)&&Ia.is(s.selectionRange)&&(s.detail===void 0||p0.string(s.detail))&&(s.deprecated===void 0||p0.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}o(r,"is"),e.is=r})(y$||(y$={}));var v$;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(v$||(v$={}));var t_;(function(e){e.Invoked=1,e.Automatic=2})(t_||(t_={}));var x$;(function(e){function t(n,s,a){let l={diagnostics:n};return s!=null&&(l.only=s),a!=null&&(l.triggerKind=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.typedArray(s.diagnostics,Qx.is)&&(s.only===void 0||p0.typedArray(s.only,p0.string))&&(s.triggerKind===void 0||s.triggerKind===t_.Invoked||s.triggerKind===t_.Automatic)}o(r,"is"),e.is=r})(x$||(x$={}));var _$;(function(e){function t(n,s,a){let l={title:n},f=!0;return typeof s=="string"?(f=!1,l.kind=s):h6.is(s)?l.command=s:l.edit=s,f&&a!==void 0&&(l.kind=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.title)&&(s.diagnostics===void 0||p0.typedArray(s.diagnostics,Qx.is))&&(s.kind===void 0||p0.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||h6.is(s.command))&&(s.isPreferred===void 0||p0.boolean(s.isPreferred))&&(s.edit===void 0||wP.is(s.edit))}o(r,"is"),e.is=r})(_$||(_$={}));var b$;(function(e){function t(n,s){let a={range:n};return p0.defined(s)&&(a.data=s),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Ia.is(s.range)&&(p0.undefined(s.command)||h6.is(s.command))}o(r,"is"),e.is=r})(b$||(b$={}));var C$;(function(e){function t(n,s){return{tabSize:n,insertSpaces:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.uinteger(s.tabSize)&&p0.boolean(s.insertSpaces)}o(r,"is"),e.is=r})(C$||(C$={}));var E$;(function(e){function t(n,s,a){return{range:n,target:s,data:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Ia.is(s.range)&&(p0.undefined(s.target)||p0.string(s.target))}o(r,"is"),e.is=r})(E$||(E$={}));var T$;(function(e){function t(n,s){return{range:n,parent:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Ia.is(s.range)&&(s.parent===void 0||e.is(s.parent))}o(r,"is"),e.is=r})(T$||(T$={}));var S$;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(S$||(S$={}));var w$;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(w$||(w$={}));var I$;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(I$||(I$={}));var A$;(function(e){function t(n,s){return{range:n,text:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ia.is(s.range)&&p0.string(s.text)}o(r,"is"),e.is=r})(A$||(A$={}));var P$;(function(e){function t(n,s,a){return{range:n,variableName:s,caseSensitiveLookup:a}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ia.is(s.range)&&p0.boolean(s.caseSensitiveLookup)&&(p0.string(s.variableName)||s.variableName===void 0)}o(r,"is"),e.is=r})(P$||(P$={}));var R$;(function(e){function t(n,s){return{range:n,expression:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ia.is(s.range)&&(p0.string(s.expression)||s.expression===void 0)}o(r,"is"),e.is=r})(R$||(R$={}));var N$;(function(e){function t(n,s){return{frameId:n,stoppedLocation:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Ia.is(n.stoppedLocation)}o(r,"is"),e.is=r})(N$||(N$={}));var PP;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(PP||(PP={}));var RP;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&(s.tooltip===void 0||p0.string(s.tooltip)||N9.is(s.tooltip))&&(s.location===void 0||Zx.is(s.location))&&(s.command===void 0||h6.is(s.command))}o(r,"is"),e.is=r})(RP||(RP={}));var k$;(function(e){function t(n,s,a){let l={position:n,label:s};return a!==void 0&&(l.kind=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&qc.is(s.position)&&(p0.string(s.label)||p0.typedArray(s.label,RP.is))&&(s.kind===void 0||PP.is(s.kind))&&s.textEdits===void 0||p0.typedArray(s.textEdits,g6.is)&&(s.tooltip===void 0||p0.string(s.tooltip)||N9.is(s.tooltip))&&(s.paddingLeft===void 0||p0.boolean(s.paddingLeft))&&(s.paddingRight===void 0||p0.boolean(s.paddingRight))}o(r,"is"),e.is=r})(k$||(k$={}));var D$;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(D$||(D$={}));var L$;(function(e){function t(r,n,s,a){return{insertText:r,filterText:n,range:s,command:a}}o(t,"create"),e.create=t})(L$||(L$={}));var B$;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(B$||(B$={}));var O$;(function(e){e.Invoked=0,e.Automatic=1})(O$||(O$={}));var F$;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(F$||(F$={}));var M$;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(M$||(M$={}));var U$;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&vP.is(n.uri)&&p0.string(n.name)}o(t,"is"),e.is=t})(U$||(U$={}));var q$;(function(e){function t(a,l,f,c){return new NP(a,l,f,c)}o(t,"create"),e.create=t;function r(a){let l=a;return!!(p0.defined(l)&&p0.string(l.uri)&&(p0.undefined(l.languageId)||p0.string(l.languageId))&&p0.uinteger(l.lineCount)&&p0.func(l.getText)&&p0.func(l.positionAt)&&p0.func(l.offsetAt))}o(r,"is"),e.is=r;function n(a,l){let f=a.getText(),c=s(l,(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),u=f.length;for(let d=c.length-1;d>=0;d--){let h=c[d],p=a.offsetAt(h.range.start),m=a.offsetAt(h.range.end);if(m<=u)f=f.substring(0,p)+h.newText+f.substring(m,f.length);else throw new Error("Overlapping edit");u=p}return f}o(n,"applyEdits"),e.applyEdits=n;function s(a,l){if(a.length<=1)return a;let f=a.length/2|0,c=a.slice(0,f),u=a.slice(f);s(c,l),s(u,l);let d=0,h=0,p=0;for(;d<c.length&&h<u.length;)l(c[d],u[h])<=0?a[p++]=c[d++]:a[p++]=u[h++];for(;d<c.length;)a[p++]=c[d++];for(;h<u.length;)a[p++]=u[h++];return a}o(s,"mergeSort")})(q$||(q$={}));var kP=class kP{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let s=0;s<r.length;s++){n&&(t.push(s),n=!1);let a=r.charAt(s);n=a==="\r"||a===`
`,a==="\r"&&s+1<r.length&&r.charAt(s+1)===`
`&&s++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return qc.create(0,t);for(;n<s;){let l=Math.floor((n+s)/2);r[l]>t?s=l:n=l+1}let a=n-1;return qc.create(a,t-r[a])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}};o(kP,"FullTextDocument");var NP=kP,p0;(function(e){let t=Object.prototype.toString;function r(m){return typeof m<"u"}o(r,"defined"),e.defined=r;function n(m){return typeof m>"u"}o(n,"undefined"),e.undefined=n;function s(m){return m===!0||m===!1}o(s,"boolean"),e.boolean=s;function a(m){return t.call(m)==="[object String]"}o(a,"string"),e.string=a;function l(m){return t.call(m)==="[object Number]"}o(l,"number"),e.number=l;function f(m,v,x){return t.call(m)==="[object Number]"&&v<=m&&m<=x}o(f,"numberRange"),e.numberRange=f;function c(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}o(c,"integer"),e.integer=c;function u(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}o(u,"uinteger"),e.uinteger=u;function d(m){return t.call(m)==="[object Function]"}o(d,"func"),e.func=d;function h(m){return m!==null&&typeof m=="object"}o(h,"objectLiteral"),e.objectLiteral=h;function p(m,v){return Array.isArray(m)&&m.every(v)}o(p,"typedArray"),e.typedArray=p})(p0||(p0={}));var wd=Vi(gd());var d0e=["getFunctionPositions","isEmptyBlockStart","isBlockBodyFinished","getNodeStart","parsesWithoutError"],h0e=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],she=[...d0e,...h0e];var m0e=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),dhe=new RegExp(`^(${m0e.join("|")})`);var Ld=Vi(gd());function y0e(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}o(y0e,"isDocumentTooLarge");async function DP(e,t){var n;if(y0e(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(k9).evaluate(t.vscodeUri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}o(DP,"isDocumentValid");var v0e=require("path"),LP=class LP{constructor(t){this.ctx=t}async textDocuments(){let t=await this.getOpenTextDocuments(),r=[];for(let n of t)(await DP(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentWithValidation(t){try{let n=(await this.getOpenTextDocuments()).find(s=>s.vscodeUri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):DP(this.ctx,n)}catch{return await this.notFoundResult(t)}}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.vscodeUri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.vscodeUri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return v0e.basename(t.vscodeUri.fsPath)}}};o(LP,"TextDocumentManager");var uc=LP;var $$="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var E4={isBlocked:!1,reason:"VALID_FILE"},Id={isBlocked:!1,reason:"NO_MATCHING_POLICY"},D9={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var BP=class BP{};o(BP,"PolicyEvaluator");var p6=BP;var nl=Vi(Df());var r_=new WeakMap;function n_(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",s=0,a=Object.prototype.toString.call(e);if(a!=="[object RegExp]"&&a!=="[object Date]"&&r_.has(e))return r_.get(e);switch(r_.set(e,"~"+ ++t),a){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";s<r.length;n+=n_(r[s++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();s<r.length;n+=r[s]+n_(e[r[s++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();s<r.length;n+=r[s]+n_(e.get(r[s++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return r_.set(e,n),n}o(n_,"t");function i_(e){return n_(e,0)}o(i_,"r");var OP=new WeakMap;function H$(e,t,r=i_(t)){let n,s,a=OP.get(e);a||(OP.set(e,a=[[],s=[],n=[]]),queueMicrotask(function(){let u,d=0;function h(p){for(;u=n[d++];u.r(p));}o(h,"o"),OP.delete(e),e(s).then(function(p){if(p.length!==n.length)return h(new Error("loader value length mismatch"));for(;u=p[d++],d<=p.length;u instanceof Error?n[d-1].r(u):n[d-1].s(u));},h)}));let l=a[0].indexOf(r);if(~l)return a[2][l].p;let f=a[0].push(r)-1,c=a[2][f]={};return a[1][f]=t,c.p=new Promise(function(u,d){c.s=u,c.r=d})}o(H$,"n");var V$=new WeakMap;function x0e(e,t,r,n=i_(r)){if(t||(t=V$.get(e)),t||V$.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let s=H$(e,r,n);return t.set(n,s),s.catch(()=>t.delete(n)),s}o(x0e,"n");function s_(e,t){return function(r,n){return x0e(e,t,r,n)}}o(s_,"o");var hH=Vi(nH(),1);var B9=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var I0e={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},O9=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),A0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),iH=o(e=>e.join(""),"rangesToString"),sH=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],s=[],a=r+1,l=!1,f=!1,c=!1,u=!1,d=r,h="";e:for(;a<e.length;){let x=e.charAt(a);if((x==="!"||x==="^")&&a===r+1){u=!0,a++;continue}if(x==="]"&&l&&!c){d=a+1;break}if(l=!0,x==="\\"&&!c){c=!0,a++;continue}if(x==="["&&!c){for(let[S,[E,R,B]]of Object.entries(I0e))if(e.startsWith(S,a)){if(h)return["$.",!1,e.length-r,!0];a+=S.length,B?s.push(E):n.push(E),f=f||R;continue e}}if(c=!1,h){x>h?n.push(O9(h)+"-"+O9(x)):x===h&&n.push(O9(x)),h="",a++;continue}if(e.startsWith("-]",a+1)){n.push(O9(x+"-")),a+=2;continue}if(e.startsWith("-",a+1)){h=x,a+=2;continue}n.push(O9(x)),a++}if(d<a)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[A0e(x),!1,d-r,!1]}let p="["+(u?"^":"")+iH(n)+"]",m="["+(u?"":"^")+iH(s)+"]";return[n.length&&s.length?"("+p+"|"+m+")":n.length?p:m,f,d-r,!0]},"parseClass");var o3=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var P0e=new Set(["!","?","+","*","@"]),oH=o(e=>P0e.has(e),"isExtglobType"),R0e="(?!(?:^|/)\\.\\.?(?:$|/))",o_="(?!\\.)",N0e=new Set(["[","."]),k0e=new Set(["..","."]),D0e=new Set("().*{}+?[]^$\\!"),L0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),qP="[^/]",aH=qP+"*?",lH=qP+"+?",rl,pl,Ad,ma,Ka,a3,T4,l3,Pd,S4,F9,l_,fH,y6,a_,M9,UP,f_,cH,Ul=class Ul{constructor(t,r,n={}){gs(this,l_);gs(this,M9);qa(this,"type");gs(this,rl,void 0);gs(this,pl,void 0);gs(this,Ad,!1);gs(this,ma,[]);gs(this,Ka,void 0);gs(this,a3,void 0);gs(this,T4,void 0);gs(this,l3,!1);gs(this,Pd,void 0);gs(this,S4,void 0);gs(this,F9,!1);this.type=t,t&&Gi(this,pl,!0),Gi(this,Ka,r),Gi(this,rl,A0(this,Ka)?A0(A0(this,Ka),rl):this),Gi(this,Pd,A0(this,rl)===this?n:A0(A0(this,rl),Pd)),Gi(this,T4,A0(this,rl)===this?[]:A0(A0(this,rl),T4)),t==="!"&&!A0(A0(this,rl),l3)&&A0(this,T4).push(this),Gi(this,a3,A0(this,Ka)?A0(A0(this,Ka),ma).length:0)}get hasMagic(){if(A0(this,pl)!==void 0)return A0(this,pl);for(let t of A0(this,ma))if(typeof t!="string"&&(t.type||t.hasMagic))return Gi(this,pl,!0);return A0(this,pl)}toString(){return A0(this,S4)!==void 0?A0(this,S4):this.type?Gi(this,S4,this.type+"("+A0(this,ma).map(t=>String(t)).join("|")+")"):Gi(this,S4,A0(this,ma).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Ul&&A0(r,Ka)===this))throw new Error("invalid part: "+r);A0(this,ma).push(r)}}toJSON(){var r;let t=this.type===null?A0(this,ma).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...A0(this,ma).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===A0(this,rl)||A0(A0(this,rl),l3)&&((r=A0(this,Ka))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(A0(this,rl)===this)return!0;if(!((r=A0(this,Ka))!=null&&r.isStart()))return!1;if(A0(this,a3)===0)return!0;let t=A0(this,Ka);for(let n=0;n<A0(this,a3);n++){let s=A0(t,ma)[n];if(!(s instanceof Ul&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(A0(this,rl)===this||((r=A0(this,Ka))==null?void 0:r.type)==="!")return!0;if(!((n=A0(this,Ka))!=null&&n.isEnd()))return!1;if(!this.type)return(s=A0(this,Ka))==null?void 0:s.isEnd();let t=A0(this,Ka)?A0(A0(this,Ka),ma).length:0;return A0(this,a3)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Ul(this.type,t);for(let n of A0(this,ma))r.copyIn(n);return r}static fromGlob(t,r={}){var s;let n=new Ul(null,void 0,r);return gf(s=Ul,y6,a_).call(s,t,n,0,r),n}toMMPattern(){if(this!==A0(this,rl))return A0(this,rl).toMMPattern();let t=this.toString(),[r,n,s,a]=this.toRegExpSource();if(!(s||A0(this,pl)||A0(this,Pd).nocase&&!A0(this,Pd).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let f=(A0(this,Pd).nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${r}$`,f),{_src:r,_glob:t})}toRegExpSource(t){var c;let r=t!=null?t:!!A0(this,Pd).dot;if(A0(this,rl)===this&&gf(this,l_,fH).call(this),!this.type){let u=this.isStart()&&this.isEnd(),d=A0(this,ma).map(v=>{var B;let[x,S,E,R]=typeof v=="string"?gf(B=Ul,f_,cH).call(B,v,A0(this,pl),u):v.toRegExpSource(t);return Gi(this,pl,A0(this,pl)||E),Gi(this,Ad,A0(this,Ad)||R),x}).join(""),h="";if(this.isStart()&&typeof A0(this,ma)[0]=="string"&&!(A0(this,ma).length===1&&k0e.has(A0(this,ma)[0]))){let x=N0e,S=r&&x.has(d.charAt(0))||d.startsWith("\\.")&&x.has(d.charAt(2))||d.startsWith("\\.\\.")&&x.has(d.charAt(4)),E=!r&&!t&&x.has(d.charAt(0));h=S?R0e:E?o_:""}let p="";return this.isEnd()&&A0(A0(this,rl),l3)&&((c=A0(this,Ka))==null?void 0:c.type)==="!"&&(p="(?:$|\\/)"),[h+d+p,o3(d),Gi(this,pl,!!A0(this,pl)),A0(this,Ad)]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",a=gf(this,M9,UP).call(this,r);if(this.isStart()&&this.isEnd()&&!a&&this.type!=="!"){let u=this.toString();return Gi(this,ma,[u]),this.type=null,Gi(this,pl,void 0),[u,o3(this.toString()),!1,!1]}let l=!n||t||r||!o_?"":gf(this,M9,UP).call(this,!0);l===a&&(l=""),l&&(a=`(?:${a})(?:${l})*?`);let f="";if(this.type==="!"&&A0(this,F9))f=(this.isStart()&&!r?o_:"")+lH;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!t?o_:"")+aH+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&l?")":this.type==="*"&&l?")?":`)${this.type}`;f=s+a+u}return[f,o3(a),Gi(this,pl,!!A0(this,pl)),A0(this,Ad)]}};rl=new WeakMap,pl=new WeakMap,Ad=new WeakMap,ma=new WeakMap,Ka=new WeakMap,a3=new WeakMap,T4=new WeakMap,l3=new WeakMap,Pd=new WeakMap,S4=new WeakMap,F9=new WeakMap,l_=new WeakSet,fH=o(function(){if(this!==A0(this,rl))throw new Error("should only call on root");if(A0(this,l3))return this;this.toString(),Gi(this,l3,!0);let t;for(;t=A0(this,T4).pop();){if(t.type!=="!")continue;let r=t,n=A0(r,Ka);for(;n;){for(let s=A0(r,a3)+1;!n.type&&s<A0(n,ma).length;s++)for(let a of A0(t,ma)){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(A0(n,ma)[s])}r=n,n=A0(r,Ka)}}return this},"#fillNegs"),y6=new WeakSet,a_=o(function(t,r,n,s){var m,v;let a=!1,l=!1,f=-1,c=!1;if(r.type===null){let x=n,S="";for(;x<t.length;){let E=t.charAt(x++);if(a||E==="\\"){a=!a,S+=E;continue}if(l){x===f+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(x===f+2&&c)&&(l=!1),S+=E;continue}else if(E==="["){l=!0,f=x,c=!1,S+=E;continue}if(!s.noext&&oH(E)&&t.charAt(x)==="("){r.push(S),S="";let R=new Ul(E,r);x=gf(m=Ul,y6,a_).call(m,t,R,x,s),r.push(R);continue}S+=E}return r.push(S),x}let u=n+1,d=new Ul(null,r),h=[],p="";for(;u<t.length;){let x=t.charAt(u++);if(a||x==="\\"){a=!a,p+=x;continue}if(l){u===f+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(u===f+2&&c)&&(l=!1),p+=x;continue}else if(x==="["){l=!0,f=u,c=!1,p+=x;continue}if(oH(x)&&t.charAt(u)==="("){d.push(p),p="";let S=new Ul(x,d);d.push(S),u=gf(v=Ul,y6,a_).call(v,t,S,u,s);continue}if(x==="|"){d.push(p),p="",h.push(d),d=new Ul(null,r);continue}if(x===")")return p===""&&A0(r,ma).length===0&&Gi(r,F9,!0),d.push(p),p="",r.push(...h,d),u;p+=x}return r.type=null,Gi(r,pl,void 0),Gi(r,ma,[t.substring(n-1)]),u},"#parseAST"),M9=new WeakSet,UP=o(function(t){return A0(this,ma).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,s,a,l]=r.toRegExpSource(t);return Gi(this,Ad,A0(this,Ad)||l),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),f_=new WeakSet,cH=o(function(t,r,n=!1){let s=!1,a="",l=!1;for(let f=0;f<t.length;f++){let c=t.charAt(f);if(s){s=!1,a+=(D0e.has(c)?"\\":"")+c;continue}if(c==="\\"){f===t.length-1?a+="\\\\":s=!0;continue}if(c==="["){let[u,d,h,p]=sH(t,f);if(h){a+=u,l=l||d,f+=h-1,r=r||p;continue}}if(c==="*"){n&&t==="*"?a+=lH:a+=aH,r=!0;continue}if(c==="?"){a+=qP,r=!0;continue}a+=L0e(c)}return[a,o3(t),!!r,l]},"#parseGlob"),gs(Ul,y6),gs(Ul,f_),o(Ul,"AST");var v6=Ul;var jP=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ql=o((e,t,r={})=>(B9(t),!r.nocomment&&t.charAt(0)==="#"?!1:new x6(t,r).match(e)),"minimatch"),B0e=/^\*+([^+@!?\*\[\(]*)$/,O0e=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),F0e=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),M0e=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),U0e=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),q0e=/^\*+\.\*+$/,j0e=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),$0e=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),H0e=/^\.\*+$/,V0e=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),z0e=/^\*+$/,G0e=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),K0e=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),W0e=/^\?+([^+@!?\*\[\(]*)?$/,Y0e=o(([e,t=""])=>{let r=gH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),J0e=o(([e,t=""])=>{let r=mH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),X0e=o(([e,t=""])=>{let r=mH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Z0e=o(([e,t=""])=>{let r=gH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),gH=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),mH=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),pH=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",uH={win32:{sep:"\\"},posix:{sep:"/"}},Q0e=pH==="win32"?uH.win32.sep:uH.posix.sep;ql.sep=Q0e;var $c=Symbol("globstar **");ql.GLOBSTAR=$c;var ere="[^/]",tre=ere+"*?",rre="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",nre="(?:(?!(?:\\/|^)\\.).)*?",ire=o((e,t={})=>r=>ql(r,e,t),"filter");ql.filter=ire;var jc=o((e,t={})=>Object.assign({},e,t),"ext"),sre=o(e=>{var n,s;if(!e||typeof e!="object"||!Object.keys(e).length)return ql;let t=ql;return Object.assign(o((a,l,f={})=>t(a,l,jc(e,f)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(l,f={}){super(l,jc(e,f))}static defaults(l){return t.defaults(jc(e,l)).Minimatch}},o(n,"Minimatch"),n),AST:(s=class extends t.AST{constructor(l,f,c={}){super(l,f,jc(e,c))}static fromGlob(l,f={}){return t.AST.fromGlob(l,jc(e,f))}},o(s,"AST"),s),unescape:(a,l={})=>t.unescape(a,jc(e,l)),escape:(a,l={})=>t.escape(a,jc(e,l)),filter:(a,l={})=>t.filter(a,jc(e,l)),defaults:a=>t.defaults(jc(e,a)),makeRe:(a,l={})=>t.makeRe(a,jc(e,l)),braceExpand:(a,l={})=>t.braceExpand(a,jc(e,l)),match:(a,l,f={})=>t.match(a,l,jc(e,f)),sep:t.sep,GLOBSTAR:$c})},"defaults");ql.defaults=sre;var yH=o((e,t={})=>(B9(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,hH.default)(e)),"braceExpand");ql.braceExpand=yH;var ore=o((e,t={})=>new x6(e,t).makeRe(),"makeRe");ql.makeRe=ore;var are=o((e,t,r={})=>{let n=new x6(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e},"match");ql.match=are;var dH=/[?*]|[+@!]\(.*?\)|\[|\]/,lre=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),$P=class $P{constructor(t,r={}){qa(this,"options");qa(this,"set");qa(this,"pattern");qa(this,"windowsPathsNoEscape");qa(this,"nonegate");qa(this,"negate");qa(this,"comment");qa(this,"empty");qa(this,"preserveMultipleSlashes");qa(this,"partial");qa(this,"globSet");qa(this,"globParts");qa(this,"nocase");qa(this,"isWindows");qa(this,"platform");qa(this,"windowsNoMagicRoot");qa(this,"regexp");B9(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||pH,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((a,l,f)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=a[0]===""&&a[1]===""&&(a[2]==="?"||!dH.test(a[2]))&&!dH.test(a[3]),u=/^[a-z]:/i.test(a[0]);if(c)return[...a.slice(0,4),...a.slice(4).map(d=>this.parse(d))];if(u)return[a[0],...a.slice(1).map(d=>this.parse(d))]}return a.map(c=>this.parse(c))});if(this.debug(this.pattern,s),this.set=s.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){let l=this.set[a];l[0]===""&&l[1]===""&&this.globParts[a][2]==="?"&&typeof l[3]=="string"&&/^[a-z]:$/i.test(l[3])&&(l[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{let a=n[n.length-1];return s==="**"&&a==="**"?n:s===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let a=t[s];s===1&&a===""&&t[0]===""||(a==="."||a==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let l=s;for(;n[l+1]==="**";)l++;l>s&&n.splice(s+1,l-s);let f=n[s+1],c=n[s+2],u=n[s+3];if(f!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(s,1);let d=n.slice(0);d[s]="**",t.push(d),s--}if(!this.preserveMultipleSlashes){for(let l=1;l<n.length-1;l++){let f=n[l];l===1&&f===""&&n[0]===""||(f==="."||f==="")&&(r=!0,n.splice(l,1),l--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let a=0;for(;(a=n.indexOf("..",a+1))!==-1;){let l=n[a-1];if(l&&l!=="."&&l!==".."&&l!=="**"){r=!0;let c=a===1&&n[a+1]==="**"?["."]:[];n.splice(a-1,2,...c),n.length===0&&n.push(""),a-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);s&&(t[r]=s,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,a=0,l=[],f="";for(;s<t.length&&a<r.length;)if(t[s]===r[a])l.push(f==="b"?r[a]:t[s]),s++,a++;else if(n&&t[s]==="**"&&r[a]===t[s+1])l.push(t[s]),s++;else if(n&&r[a]==="**"&&t[s]===r[a+1])l.push(r[a]),a++;else if(t[s]==="*"&&r[a]&&(this.options.dot||!r[a].startsWith("."))&&r[a]!=="**"){if(f==="b")return!1;f="a",l.push(t[s]),s++,a++}else if(r[a]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(f==="a")return!1;f="b",l.push(r[a]),s++,a++}else return!1;return t.length===r.length&&l}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let s=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),S=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),R=!E&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),B=S?3:x?0:void 0,O=R?3:E?0:void 0;if(typeof B=="number"&&typeof O=="number"){let[L,F]=[t[B],r[O]];L.toLowerCase()===F.toLowerCase()&&(r[O]=L,O>B?r=r.slice(O):B>O&&(t=t.slice(B)))}}let{optimizationLevel:a=1}=this.options;a>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var l=0,f=0,c=t.length,u=r.length;l<c&&f<u;l++,f++){this.debug("matchOne loop");var d=r[f],h=t[l];if(this.debug(r,d,h),d===!1)return!1;if(d===$c){this.debug("GLOBSTAR",[r,d,h]);var p=l,m=f+1;if(m===u){for(this.debug("** at the end");l<c;l++)if(t[l]==="."||t[l]===".."||!s.dot&&t[l].charAt(0)===".")return!1;return!0}for(;p<c;){var v=t[p];if(this.debug(`
globstar while`,t,p,r,m,v),this.matchOne(t.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,c,v),!0;if(v==="."||v===".."||!s.dot&&v.charAt(0)==="."){this.debug("dot detected!",t,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,m),p===c))}let x;if(typeof d=="string"?(x=h===d,this.debug("string match",d,h,x)):(x=d.test(h),this.debug("pattern match",d,h,x)),!x)return!1}if(l===c&&f===u)return!0;if(l===c)return n;if(f===u)return l===c-1&&t[l]==="";throw new Error("wtf?")}braceExpand(){return yH(this.pattern,this.options)}parse(t){B9(t);let r=this.options;if(t==="**")return $c;if(t==="")return"";let n,s=null;(n=t.match(z0e))?s=r.dot?K0e:G0e:(n=t.match(B0e))?s=(r.nocase?r.dot?U0e:M0e:r.dot?F0e:O0e)(n[1]):(n=t.match(W0e))?s=(r.nocase?r.dot?J0e:Y0e:r.dot?X0e:Z0e)(n):(n=t.match(q0e))?s=r.dot?$0e:j0e:(n=t.match(H0e))&&(s=V0e);let a=v6.fromGlob(t,this.options).toMMPattern();return s?Object.assign(a,{test:s}):a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?tre:r.dot?rre:nre,s=new Set(r.nocase?["i"]:[]),a=t.map(c=>{let u=c.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))s.add(h);return typeof d=="string"?lre(d):d===$c?$c:d._src});return u.forEach((d,h)=>{let p=u[h+1],m=u[h-1];d!==$c||m===$c||(m===void 0?p!==void 0&&p!==$c?u[h+1]="(?:\\/|"+n+"\\/)?"+p:u[h]=n:p===void 0?u[h-1]=m+"(?:\\/|"+n+")?":p!==$c&&(u[h-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,u[h+1]=$c))}),u.filter(d=>d!==$c).join("/")}).join("|"),[l,f]=t.length>1?["(?:",")"]:["",""];a="^"+l+a+f+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let a=this.set;this.debug(this.pattern,"set",a);let l=s[s.length-1];if(!l)for(let f=s.length-2;!l&&f>=0;f--)l=s[f];for(let f=0;f<a.length;f++){let c=a[f],u=s;if(n.matchBase&&c.length===1&&(u=[l]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ql.defaults(t).Minimatch}};o($P,"Minimatch");var x6=$P;ql.AST=v6;ql.Minimatch=x6;ql.escape=jP;ql.unescape=o3;var w4=Vi(s3());var vH=require("child_process");var fre=new Zi(3,"repository"),d_=class d_{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),s=`.${r}`.toLowerCase();return Object.keys(this.data).filter(a=>a.startsWith(n)&&a.endsWith(s)).map(a=>a.slice(n.length,-s.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,s])=>(s.forEach(a=>r.add(n,a)),r),new d_)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};o(d_,"GitConfigData");var _6=d_,HP=class HP{};o(HP,"GitConfigLoader");var gu=HP,VP=class VP extends gu{runCommand(t,r,n){return new Promise((s,a)=>{(0,vH.execFile)(r,n,{cwd:t},(l,f)=>{l?a(l):s(f)})})}async tryRunCommand(t,r,n,s){try{return await this.runCommand(r,n,s)}catch(a){fre.info(t,`Failed to run command '${n}' in ${r}: ${a}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new _6;for(let n of t.split("\0").filter(s=>s)){let s=n.split(`
`,1)[0],a=n.slice(s.length+1);r.add(s,a)}return r}extraArgs(){return[]}};o(VP,"GitCLIConfigLoader");var c_=VP,zP=class zP extends gu{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let s of this.loaders){let a=await s.getConfig(r,n);if(a)return a}}};o(zP,"GitFallbackConfigLoader");var u_=zP;var xH=require("os"),GP=Vi(s3());var KP=class KP{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return GP.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=GP.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,s,a,l;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,xH.platform)()!=="win32"||((s=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?s:0)>1)){let f=(l=(a=t.groups)==null?void 0:a.host)!=null?l:"";return this._scheme="ssh",this.setAuthority(f),this.setPath(this.url.substring(f.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};o(KP,"GitRemoteUrl");var h_=KP;var WP=class WP{async resolveRemote(t,r){var l,f,c,u;let n=await t.get(gu).getConfig(t,r);if(!n)return;let s=this.getRemotes(n),a=s.filter(d=>d.url.isGitHub());if(a.length)return(f=(l=a.find(d=>d.name==="origin"))==null?void 0:l.url)!=null?f:a[0].url;if(s.length)return(u=(c=s.find(d=>d.name==="origin"))==null?void 0:c.url)!=null?u:s[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var s;return{name:n,url:new h_(this.applyInsteadOfRules(r,(s=t.get(`remote.${n}.url`))!=null?s:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};o(WP,"GitRemoteResolver");var g_=WP;var cre=100,JP=class JP{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,s,a,l,f,c,u,d,h;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(s=t==null?void 0:t[1])==null?void 0:s.replace(/\.git$/,"");let p=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((l=(a=this.remote)==null?void 0:a.hostname)!=null?l:"");p&&(this._tenant=(f=p.groups)==null?void 0:f.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((c=this.remote)==null?void 0:c.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let p=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((d=(u=this.remote)==null?void 0:u.hostname)!=null?d:"");p?(this._adoOrganization=(h=p.groups)==null?void 0:h.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};o(JP,"GitRepository");var YP=JP,m_=class m_{constructor(t){this.ctx=t;this.remoteResolver=new g_;this.cache=new ga(cre)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let a=this.cache.get(t.toString());return this.updateCache(n,a),a}n.push(t.toString());let s=await this.tryGetRepoForFolder(t);if(s)return this.updateCache(n,s),s;r=t,t=Gx(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new YP(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await m_.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(hu),s=w4.Utils.joinPath(r,".git");if((await n.stat(s)).type&1)return await this.getConfigLocationForGitfile(n,r,s);let l=w4.Utils.joinPath(s,"config");return await n.stat(l),l}catch{return}}static async getConfigLocationForGitfile(t,r,n){let a=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!a)return;let l=w9(r,a[1]),f=w4.Utils.joinPath(l,"config");if(await this.tryStat(t,f)!==void 0)return f;let c=w4.Utils.joinPath(l,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=w4.Utils.joinPath(l,"commondir");l=w9(l,(await t.readFileString(u)).trimEnd());let d=w4.Utils.joinPath(l,"config");return await t.stat(d),d}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};o(m_,"RepositoryManager");var S1=m_;var TR=Vi(KH());var j_=o((e,t)=>{if(TR.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...TR.Value.Errors(e,t)].map(s=>`${s.path} ${s.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var SR="contentExclusion",zc,A4,T6,H_,YH,H9,V9,IR,AR=class AR extends p6{constructor(r){super();gs(this,H_);gs(this,V9);gs(this,zc,void 0);gs(this,A4,new ga(1e4));gs(this,T6,new ga(200));gs(this,H9,s_(async r=>{let n=await A0(this,zc).get(vf).getGitHubSession(A0(this,zc));if(!n)throw new hd("No token found");let s=A0(this,zc).get(fc).getContentRestrictionsUrl(n),a=new URL(s);a.searchParams.set("repos",r.join(","));let l=await A0(this,zc).get(gl).fetch(a.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),f=await l.json();if(!l.ok){if(l.status===404)return Array.from(r,()=>[]);throw gf(this,V9,IR).call(this,"fetch.error",{message:f.message}),new m4(l)}return gf(this,V9,IR).call(this,"fetch.success"),j_(yie,f).map(c=>c.rules)},A0(this,T6)));Gi(this,zc,r)}async evaluate(r,n){try{let s=await this.getGitRepo(r);if(!s)return Id;let a=await gf(this,H_,YH).call(this,s.url);if(!a)return Id;let l=await this.evaluateFilePathRules(r,s,a);if(l.isBlocked)return l;let f=await this.evaluateTextBasedRules(a,n);if(f.isBlocked)return f}catch(s){return Fc(A0(this,zc),s,`${SR}.evaluate`),D9}return E4}async evaluateFilePathRules(r,n,s){let a=r.fsPath;if(A0(this,A4).has(a))return A0(this,A4).get(a);let l=E4,f=r.path.replace(n.baseFolder.path,"");e:for(let c of s)for(let u of c.paths)if(ql(f,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){l=wR(c);break e}return A0(this,A4).set(a,l),l}async evaluateTextBasedRules(r,n){let s=r.filter(l=>l.ifAnyMatch),a=r.filter(l=>l.ifNoneMatch);return!n||s.length===0&&a.length===0?E4:this.evaluateFileContent(s,a,n)}async evaluateFileContent(r,n,s){for(let a of r)if(a.ifAnyMatch&&a.ifAnyMatch.length>0&&a.ifAnyMatch.map(f=>WH(f)).some(f=>f.test(s)))return wR(a);for(let a of n)if(a.ifNoneMatch&&a.ifNoneMatch.length>0&&!a.ifNoneMatch.map(f=>WH(f)).some(f=>f.test(s)))return wR(a);return E4}async refresh(){try{let r=[...A0(this,T6).keys()];this.reset(),await Promise.all(r.map(n=>A0(this,H9).call(this,n)))}catch(r){Fc(A0(this,zc),r,`${SR}.refresh`)}}reset(){A0(this,T6).clear(),A0(this,A4).clear()}async getGitRepo(r){let s=await A0(this,zc).get(S1).getRepo(Gx(r));if(!s||!(s!=null&&s.remote))return;let a=s.remote.getUrlForApi();if(a)return{baseFolder:s.baseFolder,url:a}}};zc=new WeakMap,A4=new WeakMap,T6=new WeakMap,H_=new WeakSet,YH=o(async function(r){let n=await A0(this,H9).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),H9=new WeakMap,V9=new WeakSet,IR=o(function(r,n,s){ms(A0(this,zc),`${SR}.${r}`,ea.createAndMarkAsIssued(n,s))},"#telemetry"),o(AR,"CopilotContentRestrictions");var $_=AR;function WH(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(WH,"stringToRegex");function wR(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(wR,"fileBlockedEvaluationResult");var hie=nl.Type.Object({name:nl.Type.String(),type:nl.Type.Union([nl.Type.Literal("Organization"),nl.Type.Literal("Repository")])}),gie=nl.Type.Object({paths:nl.Type.Array(nl.Type.String()),ifNoneMatch:nl.Type.Optional(nl.Type.Array(nl.Type.String())),ifAnyMatch:nl.Type.Optional(nl.Type.Array(nl.Type.String())),source:hie}),mie=nl.Type.Array(gie),pie=nl.Type.Object({rules:mie,last_updated_at:nl.Type.String()}),yie=nl.Type.Array(pie);var Wa=Vi(Df());var RR=class RR extends p6{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new ga(200);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=s_(async r=>{let n=new URL($$),s=await this.ctx.get(vf).getGitHubToken(this.ctx);if(!s)throw new hd("No GitHub token found");let a=this.ctx.get(za),l=this.ctx.get(ml),f=this.ctx.get(af),c=this.ctx.get(gl),u={trackingid:`${f.trackingId}`,githubtoken:`${s}`,machineid:`${a.machineId}`,sessionid:`${a.sessionId}`,extname:`${l.getEditorPluginInfo().name}`,extversion:`${l.getEditorPluginInfo().version}`},d=await c.fetch(n.href,{headers:u,method:"POST",json:{repos:r}});if(d.ok){let p=await d.json();return z9.debug(this.ctx,"repositoryControl.fetch","success"),ms(this.ctx,"repositoryControl.fetch.success"),j_(Cie,p).map(m=>m.rules)}z9.debug(this.ctx,"repositoryControl.fetch","error"),ms(this.ctx,"repositoryControl.fetch.error");let h=new m4(d);throw Fc(this.ctx,h,"repositoryControl.fetch"),h},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){Fc(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(s=>setTimeout(s,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let s=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,a=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(s>=this.maxRetryCount){ms(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:s,waitMs:a},this.loaderWithRetry(r)}}async evaluate(r,n){try{let a=await this.ctx.get(S1).getRepo(r);if(!a||!a.remote)return Id;let l=a.remote.getUrlForApi();if(!l)return Id;let f=await this.fetchRepositoryPolicy(l);return f==="POLICY_NOT_AVAILABLE"?D9:f==="NO_MATCHING_POLICY"?Id:this._evaluate(r,n,f)}catch(s){return Fc(this.ctx,s,"repositoryControl.evaluate"),D9}}async _evaluate(r,n,s){if(s!=null&&s.blocked)return PR(s);if(s.fileContent&&n){let a=s.fileContent.includes;if(n&&a&&a.length>0&&!new RegExp(a.join("|"),"i").test(n))return PR(s);let l=s.fileContent.excludes;if(n&&l&&l.length>0&&new RegExp(l.join("|"),"i").test(n))return PR(s)}return E4}};o(RR,"CopilotRepositoryControl");var V_=RR;function PR(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(PR,"getBlockedRepoResponse");var vie=Wa.Type.Object({name:Wa.Type.String(),type:Wa.Type.Union([Wa.Type.Literal("Organization"),Wa.Type.Literal("Repository")])}),xie=Wa.Type.Object({fileContent:Wa.Type.Optional(Wa.Type.Object({includes:Wa.Type.Optional(Wa.Type.Array(Wa.Type.String())),excludes:Wa.Type.Optional(Wa.Type.Array(Wa.Type.String()))})),blocked:Wa.Type.Optional(Wa.Type.Boolean()),source:vie}),_ie=Wa.Type.Array(xie),bie=Wa.Type.Object({rules:_ie}),Cie=Wa.Type.Array(bie);var z9=new Zi(3,"contentExclusion");var Dd,pu,P4,z_,JH,G_,XH,NR=class NR{constructor(t){this.ctx=t;gs(this,z_);gs(this,G_);gs(this,Dd,!1);gs(this,pu,null);gs(this,P4,new $_(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!A0(this,Dd)||!t)return;let r=await this.ctx.get(uc).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",s=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,s)},"onDidChangeActiveTextEditor");this.ctx.get(uc).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(lc).on("onCopilotToken",r=>{var s,a;Gi(this,Dd,(s=r.envelope.copilotignore_enabled)!=null?s:!1),this.evaluateResultCache.clear(),A0(this,P4).refresh();let n=(a=r.organization_list)!=null?a:[];gf(this,G_,XH).call(this,n)})}get enabled(){return A0(this,Dd)}async evaluate(t,r,n){var c;if(!A0(this,Dd)||!S9(t.scheme))return{isBlocked:!1};let s=[],a=o(async(u,d)=>{let h=Date.now(),p=await d.evaluate(t,r),m=Date.now();return s.push({key:u,result:p,elapsedMs:m-h}),p},"track"),f=(c=(await Promise.all([A0(this,pu)&&a("repositoryControl.evaluate",A0(this,pu)),a("contentExclusion.evaluate",A0(this,P4))])).find(u=>u==null?void 0:u.isBlocked))!=null?c:{isBlocked:!1};try{for(let u of s)gf(this,z_,JH).call(this,u.key,t,u.result,u.elapsedMs)}catch(u){console.log("Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(f.isBlocked,f.message),f}updateStatusIcon(t,r){A0(this,Dd)&&(t?this.ctx.get(Sd).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(Sd).forceNormal())}set __repositoryControl(t){Gi(this,pu,t)}get __repositoryControl(){return A0(this,pu)}set __contentRestrictions(t){Gi(this,P4,t)}get __contentRestrictions(){return A0(this,P4)}};Dd=new WeakMap,pu=new WeakMap,P4=new WeakMap,z_=new WeakSet,JH=o(function(t,r,n,s){var u,d;let a=r.path+t;if(this.evaluateResultCache.get(a)===n.reason)return!1;if(this.evaluateResultCache.set(a,(u=n.reason)!=null?u:"UNKNOWN"),n.reason===Id.reason)return z9.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let f={isBlocked:n.isBlocked?"true":"false",reason:(d=n.reason)!=null?d:"UNKNOWN"},c={elapsedMs:s};return ms(this.ctx,t,ea.createAndMarkAsIssued(f,c)),ms(this.ctx,t,ea.createAndMarkAsIssued({...f,path:r.path},c),1),z9.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),G_=new WeakSet,XH=o(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(s=>t.includes(s));A0(this,Dd)&&n?(A0(this,pu)||Gi(this,pu,new V_(this.ctx)),A0(this,pu).refresh()):Gi(this,pu,null)},"#refreshMSFTRepoControl"),o(NR,"CopilotRepositoryControlManager");var k9=NR;var UR=Vi(gd()),qR=require("path"),nV=Vi(s3());var ZH=new ga;function QH(e){return[...e].sort((t,r)=>{var a,l;let n=(a=ZH.get(t.uri.toString()))!=null?a:0;return((l=ZH.get(r.uri.toString()))!=null?l:0)-n})}o(QH,"sortByAccessTimes");var kR=class kR{constructor(t){this.docManager=t}async truncateDocs(t,r,n,s){let a=new Map,l=0;for(let f of t)if(!(l+f.getText().length>G9.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(f.vscodeUri.scheme==="file"&&r.scheme==="file"&&f.vscodeUri.fsPath!==r.fsPath&&DR(n,f.languageId)&&(a.set(f.uri.toString(),{uri:f.uri.toString(),relativePath:await this.docManager.getRelativePath(f),languageId:f.languageId,source:f.getText()}),l+=f.getText().length),a.size>=s))break;return a}async getNeighborFiles(t,r,n){let s=new Map,a=new Map;return s=await this.truncateDocs(QH(await this.docManager.textDocuments()),t,r,n),a.set("opentabs",Array.from(s.keys()).map(l=>l.toString())),{docs:s,neighborSource:a}}};o(kR,"OpenTabFiles");var K_=kR;function Eie(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(Eie,"defaultHash");function LR(e,t={}){let{hash:r=Eie,cache:n=new Map}=t;return function(...s){let a=r.apply(this,s);if(n.has(a))return n.get(a);let l=e.apply(this,s);return l instanceof Promise&&(l=l.catch(f=>{throw n.delete(a),f})),n.set(a,l),l}}o(LR,"memoize");function eV(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(s=>{setTimeout(s,t,r)})])}}o(eV,"shortCircuit");var FR=class FR extends ga{constructor(r,n=5*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){return this._cacheTimestamps.set(r,Date.now()),super.set(r,n)}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.get(r)&&super.delete(r)}};o(FR,"LRURelatedFileCacheMap");var BR=FR,W_=new Zi(3,"relatedFiles"),Tie=1e3,MR=class MR{};o(MR,"RelatedFilesProvider");var OR=MR,tV=new Map,K9=o(async function(t,r,n,s,a){try{return await a.getRelatedFiles(r,n,s)}catch(l){return W_.debug(t,"Error retrieving related files",l),tV}},"getRelatedFiles");K9=LR(K9,{cache:new BR(Tie),hash:(e,t,r,n,s)=>`${t.uri}`});K9=eV(K9,200,tV);async function rV(e,t,r,n){let s=e.get(OR);return K9(e,t,r,n,s)}o(rV,"getRelatedFilesList");function DR(e,t){return(0,UR.normalizeLanguageId)(e)===(0,UR.normalizeLanguageId)(t)}o(DR,"considerNeighborFile");var I1=class I1{static reset(){I1.instance=void 0}static async getNeighborFiles(t,r,n,s){let a=t.get(uc);I1.instance===void 0&&(I1.instance=new K_(a));let l=await I1.instance.getNeighborFiles(r,n.fileType,I1.MAX_NEIGHBOR_FILES),f=await a.getTextDocument(r);if(!f)return W_.debug(t,"neighborFiles.getNeighborFiles","Failed to get the document"),l;let c=await a.getWorkspaceFolder(f),u=c?zx(c):void 0;if(c&&u){let d={relativePath:(0,qR.relative)(u,r.fsPath),uri:f.uri.toString(),languageId:f.languageId,source:f.getText()},h=await rV(t,d,c,s);if(h!=null&&h.size){let p=[];h.forEach((m,v)=>{let x=nV.URI.file(v).toString(),S={relativePath:(0,qR.relative)(u,v),uri:x,languageId:f.languageId,source:m};l.docs.has(x)||(p.unshift(S),l.docs.set(x,S))}),p.length>0&&l.neighborSource.set("languageservice",p.map(m=>m.uri.toString()))}}else W_.debug(t,"neighborFiles.getNeighborFiles","Failed to get the workspace folder");return l}};o(I1,"NeighborSource"),I1.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,I1.MAX_NEIGHBOR_FILES=20,I1.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var G9=I1;var jR=Vi(gd());var xge=sV(),Fge=new Zi(4,"retrieval");var oV=2.98410452738298,aV=-.838732736843507,lV=1.50314646255716,fV=-.237798634012662,cV={python:.314368072478742},uV={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var pme=new Zi(3,"restraint"),Aie={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function Pie(e,t){let r=Math.min(...Array.from(t.keys()).filter(l=>l>=e)),n=Math.max(...Array.from(t.keys()).filter(l=>l<e)),s=t.get(r),a=t.get(n);return a+(s-a)*(e-n)/(r-n)}o(Pie,"linearInterpolation");var HR=class HR{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(s=>s)}contribution(t){return this.coefficient*this.transformation(t)}};o(HR,"Regressor");var S6=HR,VR=class VR{constructor(t,r,n){this.link=Aie;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let s in n)this.logitsToQuantiles.set(n[s],Number(s))}predict(t,r){let n=this.intercept;for(let s of this.coefficients){let a=r[s.name];if(a===void 0)return NaN;n+=s.contribution(a)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Pie(n,this.logitsToQuantiles)}};o(VR,"LogisticRegression");var $R=VR,yme=new $R(oV,[new S6("compCharLen",aV,e=>Math.log(1+e)),new S6("meanLogProb",lV),new S6("meanAlternativeLogProb",fV)].concat(Object.entries(cV).map(e=>new S6(e[0],e[1]))),uV);var V9e=new Zi(3,"ghostText");var z9e=new $x;var W9=class W9{constructor(t=!1){this.requestMultilineOverride=t}};o(W9,"ForceMultiLine"),W9.default=new W9;var Y9=W9;var dV=require("events");var zR=class zR extends dV.EventEmitter{};o(zR,"PostInsertionNotifier");var w6=zR;var S7e=new Zi(3,"postInsertion");var O7e=new Zi(3,"ghostText"),I6,A6,P6,GR=class GR{constructor(){gs(this,I6,void 0);gs(this,A6,void 0);gs(this,P6,[])}get position(){return A0(this,I6)}get shownCompletions(){return A0(this,P6)||[]}get uri(){return A0(this,A6)}resetState(){Gi(this,A6,void 0),Gi(this,I6,void 0),Gi(this,P6,[])}setState(t,r){Gi(this,A6,t),Gi(this,I6,r),Gi(this,P6,[])}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};I6=new WeakMap,A6=new WeakMap,P6=new WeakMap,o(GR,"LastGhostText");var J9=GR;var R6={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".slang",".slangh",".usf",".ush",".vfx"]}};var hV=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],gV={".php":[".blade"]},mV=Object.keys(R6).flatMap(e=>R6[e].extensions);var Y_=require("path"),ZR=class ZR{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};o(ZR,"Language");var h3=ZR,QR=class QR{};o(QR,"LanguageDetection");var Bd=QR;function yV(e){return new KR(new XR(new JR(new YR)),new WR(e))}o(yV,"getLanguageDetection");var eN=class eN extends Bd{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new ga(100)}detectLanguage(r){let n=Y_.basename(r.vscodeUri.path);return pV(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}detectLanguageForRegularFile(r,n){let s=this.cache.get(r);return s||(s=pV(r)?this.notebookDelegate.detectLanguage(n):this.delegate.detectLanguage(n),s.isGuess||this.cache.set(r,s)),s}};o(eN,"CachingLanguageDetection");var KR=eN;function pV(e){return e.endsWith(".ipynb")}o(pV,"isNotebook");var tN=class tN extends Bd{constructor(r){super();this.ctx=r}detectLanguage(r){let s=this.ctx.get(uc).findNotebook(r);return s?this.detectCellLanguage(r,s):new h3("python",!1,".ipynb")}detectCellLanguage(r,n){let s=n.getCellFor(r);return s?new h3(s.document.languageId,!1,".ipynb"):new h3("unknown",!1,".ipynb")}};o(tN,"NotebookLanguageDetection");var WR=tN,rN=class rN extends Bd{detectLanguage(t){let r=Y_.basename(t.vscodeUri.path),n=Y_.extname(r).toLowerCase(),s=this.extensionWithoutTemplateLanguage(r,n),a=this.detectLanguageId(r,s);return new h3(a.languageId,a.isGuess,this.computeFullyQualifiedExtension(n,s))}extensionWithoutTemplateLanguage(t,r){if(hV.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),s=Y_.extname(n).toLowerCase();if(s.length>0&&mV.includes(s)&&this.isExtensionValidForTemplateLanguage(r,s))return s}return r}isExtensionValidForTemplateLanguage(t,r){let n=gV[t];return!n||n.includes(r)}detectLanguageId(t,r){var a,l;let n=[],s=[];for(let f in R6){let c=R6[f];if(c.filenames){if(c.filenames.includes(t))return{languageId:f,isGuess:!1};c.filenames.some(u=>t.startsWith(u+"."))&&s.push(f)}c.extensions.includes(r)&&n.push(f)}return(l=(a=this.determineLanguageIdByCandidates(n))!=null?a:this.determineLanguageIdByCandidates(s))!=null?l:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(t){if(t.length===1)return{languageId:t[0],isGuess:!1};if(t.length>1)return{languageId:t[0],isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};o(rN,"FilenameAndExensionLanguageDetection");var YR=rN,nN=class nN extends Bd{constructor(r){super();this.delegate=r}detectLanguage(r){let n=this.delegate.detectLanguage(r),s=n.languageId;return s==="c"||s==="cpp"?new h3("cpp",n.isGuess,n.fileExtension):n}};o(nN,"GroupingLanguageDetection");var JR=nN,iN=class iN extends Bd{constructor(r){super();this.delegate=r}detectLanguage(r){return r.vscodeUri.scheme==="untitled"?new h3(r.languageId,!0,""):this.delegate.detectLanguage(r)}};o(iN,"UntitledLanguageDetection");var XR=iN;var qG=Vi(require("fs")),jG=require("tls");var Rb=new Zi(3,"certificates"),_k=class _k{};o(_k,"RootCertificateReader");var Vf=_k;function $G(e,t=process.platform){return new hk(e,[new gk,new mk,xle(e,t)])}o($G,"getRootCertificateReader");function xle(e,t){switch(t){case"linux":return new pk(e);case"darwin":return new yk(e);case"win32":return new vk(e);default:return new xk}}o(xle,"createPlatformReader");var bk=class bk extends Vf{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return Rb.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};o(bk,"ErrorHandlingCertificateReader");var dk=bk,Ck=class Ck extends Vf{constructor(t,r){super(),this.delegates=r.map(n=>new dk(t,n))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(t=>t.getAllRootCAs()))).flat()),this.certificates}};o(Ck,"CachingRootCertificateReader");var hk=Ck,Ek=class Ek extends Vf{async getAllRootCAs(){return jG.rootCertificates}};o(Ek,"NodeTlsRootCertificateReader");var gk=Ek,Tk=class Tk extends Vf{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await HG(t):[]}};o(Tk,"EnvironmentVariableRootCertificateReader");var mk=Tk,Sk=class Sk extends Vf{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let s=await HG(n);Rb.debug(this.ctx,`Read ${s.length} certificates from ${n}`),r=r.concat(s)}return r}};o(Sk,"LinuxRootCertificateReader");var pk=Sk,wk=class wk extends Vf{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=MG(),n=r.all(r.der2.pem).filter(s=>s!==void 0);return Rb.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};o(wk,"MacRootCertificateReader");var yk=wk,Ik=class Ik extends Vf{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=UG().all();return Rb.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};o(Ik,"WindowsRootCertificateReader");var vk=Ik,Ak=class Ak extends Vf{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};o(Ak,"UnsupportedPlatformRootCertificateReader");var xk=Ak;async function HG(e){try{let n=(await qG.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(a=>a.length>0),s=new Set(n);return Array.from(s)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}o(HG,"readCertsFromFile");var lK=Vi(require("http"));var Kle=407,Vl=new Zi(4,"proxySocketFactory"),Ok=class Ok{};o(Ok,"ProxySocketFactory");var w3=Ok,Fk=class Fk extends Error{constructor(t,r,n){var s,a,l;super(t),this.code=r==null?void 0:r.code,this.syscall=r==null?void 0:r.syscall,this.errno=r==null?void 0:r.errno,/^Failed to establish a socket connection to proxies:/.test((s=r==null?void 0:r.message)!=null?s:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((a=r==null?void 0:r.message)!=null?a:"")?this.code="ProxyInitializeSecurityContext":(r==null?void 0:r.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((l=r==null?void 0:r.message)!=null?l:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};o(Fk,"ProxySocketError");var U4=Fk;function fK(e){return new Dk(e,new Lk(e))}o(fK,"getProxySocketFactory");var Mk=class Mk extends w3{constructor(r,n,s=new Bk,a=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=s;this.platform=a;this.successfullyAuthorized=new ga(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Vl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(s){if(s instanceof U4&&s.code===`ProxyStatusCode${Kle}`){Vl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let a=await this.authorizeAndCreateSocket(r,n);if(a)return Vl.debug(this.ctx,"Proxy authorization successful, caching result"),ms(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),a}throw s}}async reauthorize(r,n){let s=await this.authorize(n);s&&(Vl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+s)}async authorizeAndCreateSocket(r,n){let s=await this.authorize(n);if(Vl.debug(this.ctx,"Proxy authorization successful, received token"),s)return Vl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+s,await this.delegate.createSocket(r,n)}async authorize(r){Vl.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),s=this.computeSpn(r);Vl.debug(this.ctx,"Initializing kerberos client using spn",s);let a=await n.initializeClient(s);Vl.debug(this.ctx,"Perform client side kerberos step");let l=await a.step("");return Vl.debug(this.ctx,"Received kerberos server response"),l}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Vl.debug(this.ctx,"Using configured kerberos spn",n),n;let s=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return Vl.debug(this.ctx,"Using default kerberos spn",s),s}getProxyCacheKey(r){return r.host+":"+r.port}};o(Mk,"KerberosProxySocketFactory");var Dk=Mk,Uk=class Uk extends w3{constructor(r){super();this.ctx=r}async createSocket(r,n){let s=this.createConnectRequestOptions(r,n);return new Promise((a,l)=>{Vl.debug(this.ctx,"Attempting to establish connection to proxy");let f=lK.request(s);f.useChunkedEncodingByDefault=!1,f.once("connect",(c,u,d)=>{Vl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),f.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),l(new U4(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):d.length>0?(u.destroy(),l(new U4(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Vl.debug(this.ctx,"Successfully established tunneling connection to proxy"),a(u))}),f.once("error",c=>{Vl.debug(this.ctx,"Proxy socket connection error",c.message),f.removeAllListeners(),l(new U4(`tunneling socket could not be established, cause=${c.message}`,c))}),f.on("timeout",()=>{Vl.debug(this.ctx,"Proxy socket connection timeout"),l(new U4(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${s.host}:${s.port}`,void 0,"ProxyTimeout"))}),f.end()})}createConnectRequestOptions(r,n){let s=`${r.hostname}:${r.port}`,a={...n,method:"CONNECT",path:s,agent:!1,headers:{host:s,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(a.localAddress=r.localAddress),this.configureProxyAuthorization(a,r),a}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};o(Uk,"TunnelingProxySocketFactory");var Lk=Uk,qk=class qk{load(){return aK()}};o(qk,"KerberosLoader");var Bk=qk;var hK=require("os"),N1=Vi(s3());var Wle=new Zi(3,"repository"),q4="\\\\",gK="(?:[#;].*)",Y6=`(?:[^"${q4}]|${q4}.)`,Yle="[0-9A-Za-z-]",cK=`[A-Za-z]${Yle}*`,mK=`\\s*${gK}?$`,pK=`(?:[^"${q4};#]|${q4}.)`,Jle=`(?:"${Y6}*"|"${Y6}*(?<strCont>${q4})$)`,Xle=`(?:${pK}|${Jle})+`,Zle=`(?:(?<cont>${q4})$)`,yK=`(?<value>${Xle})${Zle}?${mK}`,uK=new RegExp(`^${yK}`),Qle=new RegExp(`^(?<value>${Y6}*(?:(?<strCont>${q4})$|(?<quote>")))`),efe=new RegExp(`^\\s*(?:(?<key>${cK})\\s*=\\s*${yK}|(?<soloKey>${cK})${mK})`),tfe=new RegExp(`(?<value>${pK}+)|"(?<string>${Y6}*)"`,"g"),dK="[-.0-9A-Za-z]+",rfe=`\\s+"(?<ext>${Y6}*)"`,nfe=`\\s+"(?<extOnly>${Y6}*)"`,ife=new RegExp(`^\\s*\\[(?:(?<simple>${dK})${rfe}|${nfe}|(?<simpleOnly>${dK}))\\]`),sfe=new RegExp(`^\\s*${gK}$`),$k=class $k{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(ife);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,s,a;let t=this.line.match(efe);if(t){if((r=t.groups)!=null&&r.key){let l=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),l)}else(s=t.groups)!=null&&s.soloKey&&((a=this.configValueHandler)==null||a.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var s,a,l;let r=t,n=[this.matchedValue(r)];for(;(s=r==null?void 0:r.groups)!=null&&s.cont||(a=r==null?void 0:r.groups)!=null&&a.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Qle),r?(n.push(this.matchedValue(r)),(l=r.groups)!=null&&l.quote&&(r=this.line.slice(r[0].length).match(uK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(uK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(tfe)].map(s=>{var a;return(a=s.groups)!=null&&a.value?(r=!0,this.unescapeValue(s.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(s.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,s)=>r[s]||s)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){sfe.test(this.line)&&(this.line="")}};o($k,"GitConfigParser");var jk=$k,Hk=class Hk extends gu{async getConfig(t,r){let n=await S1.getRepoConfigLocation(t,r);if(!n)return;let s=await this.getParsedConfig(t,n);if(s)return this.mergeConfig(await this.baseConfig(t,n),s)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new _6)}async getParsedConfig(t,r,n=!0){let s=await this.tryLoadConfig(t,r,n);if(!s)return;let a=new jk(s),l=new _6;return a.parse((f,c)=>l.add(f,c)),l}async tryLoadConfig(t,r,n){try{return await t.get(hu).readFileString(r)}catch(s){(n||s.code!=="ENOENT")&&Wle.warn(t,`Failed to load git config from ${r.toString()}: ${s}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),s=N1.Utils.joinPath(this.xdgConfigUri(),"git","config"),a=N1.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,s,!1),await this.getParsedConfig(t,a,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(N1.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=N1.Utils.dirname(r),s=N1.Utils.joinPath(n,"commondir");try{let a=(await t.get(hu).readFileString(s)).trimEnd();return N1.Utils.joinPath(w9(n,a),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?N1.URI.file(process.env.XDG_CONFIG_HOME):N1.Utils.joinPath(this.homeUri(),".config")}homeUri(){return N1.URI.file((0,hK.homedir)())}};o(Hk,"GitParsingConfigLoader");var Bb=Hk;var xK=Vi(require("events"));var vK="onWorkspaceChanged",Vk=class Vk{constructor(){this.emitter=new xK.default}onChange(t){this.emitter.on(vK,t)}emit(t){this.emitter.emit(vK,t)}};o(Vk,"WorkspaceNotifier");var h7=Vk;function _K(e){let t=new Fx;return t.set(v4,e),t.set(a4,new a4),t.set(pf,new pf),ofe(t),t.set(c6,new c6),t.set(lc,new lc),t.set(Vf,$G(t)),t.set(w3,fK(t)),t.set(Bd,yV(t)),t.set(Ga,new Ga(t)),t.set(w6,new w6),t.set(af,new af(t)),t.set(Uc,new Uc),t.set(i3,new i3),t.set(g4,new g4),t.set(_4,new _4),t.set(u6,new u6),t.set(C4,new P9),t.set(i6,new _x),t.set(p4,new gx),t.set(yf,new yf),t.set(zk.SnippetOrchestrator,new zk.SnippetOrchestrator),t.set(J9,new J9),t.set(Y9,Y9.default),t.set(S1,new S1(t)),t.set(gu,new u_([new c_,new Bb])),t.set(h7,new h7),t.set(b4,new b4),t.set(g9,new g9),t}o(_K,"createProductionContext");function ofe(e){e.set(x4,x4.fromEnvironment(!1)),e.set(s6,new s6(Nq(e))),e.set(o6,new Ix(console))}o(ofe,"setupRudimentaryLogging");var xve=new Zi(4,"context");var il=Vi(s3());var CK="github.com",bK=`https://${CK}`,afe="https://api.githubcopilot.com",lfe="https://copilot-telemetry.githubusercontent.com/telemetry",Gk=class Gk extends fc{constructor(r=bK,n=process.env){super();this.env=n;this.recalculateUrls(r)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUri.authority}getTokenUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.copilotTokenUrl)!=null?s:this.tokenUrl}getNotificationUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.notificationUrl)!=null?s:this.notificationUrl}getContentRestrictionsUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.contentRestrictionsUrl)!=null?s:this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getCAPIUrl(r){let n=n3(r)?Cd(r,bd.DebugTestOverrideCapiUrl):Cd(r,bd.DebugOverrideCapiUrl);return n.length==0?this.capiUrl:n}getBlackbirdCodeSearchUrl(r){let n=this.getCAPIUrl(r);return il.Utils.joinPath(il.URI.parse(n),"/search/code").toString()}getBlackbirdDocsSearchUrl(r){let n=this.getCAPIUrl(r);return il.Utils.joinPath(il.URI.parse(n),"/search/docs").toString()}getEmbeddingsUrl(r){let n=this.getCAPIUrl(r);return il.Utils.joinPath(il.URI.parse(n),"/embeddings").toString()}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}updateBaseUrl(r,n){n||(n=bK);let s=this.baseUri;if(this.recalculateUrls(n),s.toString()!==this.baseUri.toString()){r.get(vf).resetCopilotToken(r);let a=r.get(i3);a.isInitialized&&a.reInitialize(r)}}recalculateUrls(r){let n=this.parseUris(r);this.baseUri=n.base;let s=n.api;this.isEnterprise=this.baseUri.authority!==CK,this.tokenUrl=il.Utils.joinPath(s,"/copilot_internal/v2/token").toString(),this.notificationUrl=il.Utils.joinPath(s,"/copilot_internal/notification").toString(),this.contentRestrictionsUrl=il.Utils.joinPath(s,"/copilot_internal/content_exclusion").toString(),this.blackbirdIndexingStatusUrl=il.Utils.joinPath(s,"/copilot_internal/check_indexing_status").toString(),this.deviceFlowStartUrl=il.Utils.joinPath(this.baseUri,"/login/device/code").toString(),this.deviceFlowCompletionUrl=il.Utils.joinPath(this.baseUri,"/login/oauth/access_token").toString(),this.userInfoUrl=il.Utils.joinPath(s,"/user").toString(),this.capiUrl=this.isEnterprise?this.baseUri.with({authority:`copilot-api.${this.baseUri.authority}`}).toString():afe,this.telemetryUrl=this.isEnterprise?this.baseUri.with({authority:`copilot-telemetry-service.${this.baseUri.authority}`,path:"/telemetry"}).toString():lfe}parseUris(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:il.URI.parse(this.env.GITHUB_SERVER_URL,!0),api:il.URI.parse(this.env.GITHUB_API_URL,!0)}}catch{}let n=il.URI.parse(r),s=il.URI.parse(`${n.scheme}://api.${n.authority}`);return{base:n,api:s}}};o(Gk,"DefaultNetworkConfiguration");var Ob=Gk;var EK=require("os");var ffe=require("crypto"),cfe=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function ufe(e){let t=e.replace(/-/g,":").toLowerCase();return!cfe.has(t)}o(ufe,"validateMacAddress");function dfe(){let e=(0,EK.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(ufe(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(dfe,"getMac");var Kk;function hfe(){try{let e=dfe();return ffe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(hfe,"getMacMachineId");function TK(){return Kk||(Kk=hfe()||Q2()),Kk}o(TK,"getMachineId");var SK=Vi(require("tls"));var Wk=class Wk{constructor(t){this._certificateReader=t.get(Vf)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=SK.createSecureContext(n),t.ca=r,t.cert=r,r.map(s=>{t.secureContext.context.addCACert(s)})}};o(Wk,"RootCertificateConfigurator");var Fb=Wk;var Yk=class Yk extends gl{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async s=>{s.rejectUnauthorized=n,s.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(s);let a=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(s,a)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new Fb(r),this.proxySocketFactory=r.get(w3)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(pf);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),mq({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let s={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(s);let a=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(a);let l=await this.fetchApi.fetch(r,s);return new hx(l.status,l.statusText,l.headers,()=>l.text(),async()=>l.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new pq}};o(Yk,"HelixFetcher");var Mb=Yk;var IK=zI(),gfe=Q2()+Date.now();async function AK(){let e=_K(new bx);return e.set(fc,new Ob),e.set(gl,new Mb(e)),e.set(ml,new Jk(await mfe())),e.set(za,new za(gfe,TK())),e.forceSet(yf,new Px),await cA(e,IK.name,!0),e}o(AK,"createUninstallContext");async function mfe(){let e="unknown";try{return await new Promise((t,r)=>{var s;let n=(0,wK.spawn)("code -v",{shell:!0,stdio:"pipe"});(s=n.stdout)==null||s.on("data",a=>{e==="unknown"&&(e=a.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",a=>r(a))})}catch{return e}}o(mfe,"lookupVscodeVersion");var Xk=class Xk extends ml{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:IK.version}}};o(Xk,"UninstallEditorInfo");var Jk=Xk;async function pfe(){let e=await AK(),t=new Ox;process.argv.includes("--dry-run")||await t.uninstall(e)}o(pfe,"doUninstall");pfe().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
